# Keep this JD-locked!

decisions = {
	employ_strategist = {
		ai_check_interval = 240
		only_playable = yes
		potential = {
			has_dlc = "Jade Dragon"
			is_feudal = yes
			OR = {
				ai = no
				higher_real_tier_than = count
			}
			top_liege = {
				OR = {
					government = chinese_imperial_government
					government = eastern_imperial_government
					government = chinese_vassal_government
				}
			}
			OR = {
				government = chinese_imperial_government
				government = eastern_imperial_government
				government = chinese_vassal_government
				any_owned_bloodline = {
					OR = {
						has_bloodline_flag = chinese_characters_bloodline
						has_bloodline_flag = chinese_commanders_bloodline
						has_bloodline_flag = chinese_bureaucrats_bloodline
					}
					bloodline_is_active_for = PREV
				}
			}
		}
		
		allow = {
			is_inaccessible_or_incapable_trigger = no
			has_actual_regency_trigger = no	
			OR = {
				wealth = 1000
				AND = {
					is_chinese_emperor_trigger = yes
					wealth = 250
				}
			}
		}
		
		effect = {
			if = {
				limit = {
					is_chinese_emperor_trigger = yes
				}
				wealth = -250
			}
			if = {
				limit = {
					is_chinese_emperor_trigger = no
				}
				wealth = -1000
			}
			random_list = {
				50 = { #Female
					modifier = {
						NOT = {
							has_game_rule = {
								name = gender
								value = all
							}
						}
						factor = 0
					}
					if = {
						limit = {
							culture_group = chinese_group
						}
						create_character = {
							age = 30
							dynasty = actually_culture
							religion = ROOT
							culture = ROOT
							female = yes
							health = 7
							random_traits = no
							attributes = {
								martial = 6
								diplomacy = 2
								stewardship = 3
								intrigue = 4
								learning = 2
							}
						}
					}
					if = {
						limit = {
							NOT = {
								culture_group = chinese_group
							}
						}
						create_character = {
							age = 30
							dynasty = actually_culture
							religion = confucian
							culture = han
							female = yes
							health = 7
							random_traits = no
							attributes = {
								martial = 6
								diplomacy = 2
								stewardship = 3
								intrigue = 4
								learning = 2
							}
						}
					}
				}
				50 = { #Male
					if = {
						limit = {
							culture_group = chinese_group
						}
						create_character = {
							age = 30
							dynasty = actually_culture
							religion = ROOT
							culture = ROOT
							female = no
							health = 7
							random_traits = no
							attributes = {
								martial = 6
								diplomacy = 2
								stewardship = 3
								intrigue = 4
								learning = 2
							}
						}
					}
					if = {
						limit = {
							NOT = {
								culture_group = chinese_group
							}
						}
						create_character = {
							age = 30
							dynasty = actually_culture
							religion = confucian
							culture = han
							female = no
							health = 7
							random_traits = no
							attributes = {
								martial = 6
								diplomacy = 2
								stewardship = 3
								intrigue = 4
								learning = 2
							}
						}
					}
				}
			}
			new_character = {
				#Education & other basic stuff
				save_event_target_as = chinese_strategist
				add_character_modifier = {
					name = jd_strategist
					duration = -1
				}
				set_character_flag = ai_flag_refuse_concubinage
				set_character_flag = ai_flag_refuse_marriage
				set_character_flag = originated_from_chinese_court
				set_character_flag = chinese_courtier_original_court_@PREV
				set_character_flag = no_court_invites
				set_character_flag = is_chinese_strategist
				random_list = {
					80 = { add_trait = skilled_tactician }
					20 = { add_trait = brilliant_strategist }
				}
				random_list = {
					20 = { add_trait = brave } 
					20 = { add_trait = strong }
					20 = { add_trait = shrewd }
					40 = { add_trait = robust }
				}
				random_list = {
					71 = { } #Nothing
					20 = { add_trait = scarred }
					5 = { 
						trigger = { has_dlc = Reapers }
						add_trait = one_eyed 
						change_martial = 1
					}
					2 = { 
						trigger = { has_dlc = Reapers }
						add_trait = one_handed
						change_martial = 1
					}
					2 = { add_trait = ugly }
				}
				random = {
					chance = 10
					add_trait = homosexual
				}
				opinion = {
					who = ROOT
					modifier = opinion_servant
					months = 1200
				}

				#Add archetype 
				random_list = {
					#Conservative 
					25 = {
						set_character_flag = archetype_conservative
						if = {
							limit = { has_dlc = "Way of Life" }
							add_trait = strategist
						}
						add_trait = logistics_expert
						random = {
							chance = 50
							add_trait = zealous
						}
						add_trait = stubborn
						add_trait = temperate
						random_list = {
							20 = { add_trait = greedy }
							20 = { add_trait = wroth }
							20 = { add_trait = deceitful }
							20 = { add_trait = shy }
							20 = { add_trait = cruel }
						}
						random_list = {
							25 = { add_trait = poet }
							25 = { add_trait = chaste }
							25 = { 
								add_trait = patient
								remove_trait = wroth
							}
							25 = { add_trait = just }
						}
					}
					#Supportive
					25 = {
						set_character_flag = archetype_supportive
						if = {
							limit = { has_dlc = "Way of Life" }    
							random_list = {
								50 = { add_trait = hunter }
								50 = { add_trait = strategist }
							}
						}
						add_trait = sapper 
						add_trait = humble
						add_trait = patient
						random_list = {
							30 = { add_trait = slothful }
							70 = { add_trait = shy }
						}
						random_list = {
							25 = { add_trait = content }
							25 = { add_trait = charitable }
							25 = { add_trait = kind }
							25 = { add_trait = trusting }
						}      
					}
					#Decisive
					25 = {
						set_character_flag = archetype_decisive
						if = {
							limit = { has_dlc = "Way of Life" }
							random_list = {
								50 = { add_trait = strategist }
								50 = { add_trait = duelist }
							}
						}
						add_trait = master_of_flame 
						add_trait = ambitious
						add_trait = cynical
						random_list = {
							20 = { add_trait = cruel }
							20 = { add_trait = stubborn }
							20 = { add_trait = greedy }
							20 = { add_trait = wroth }
							20 = { add_trait = proud }
						}
						random_list = {
							20 = { add_trait = falconer }
							20 = { add_trait = diligent }
							20 = { add_trait = brave }
							20 = { add_trait = honest }
							20 = { add_trait = gregarious }
						}    
					}
					#Sociable
					25 = {
						set_character_flag = archetype_sociable
						if = {
							limit = { has_dlc = "Way of Life" }
							random_list = {
								20 = { add_trait = duelist }
								40 = { add_trait = hunter }
								40 = { add_trait = gamer }
							}
						}
						add_trait = levy_coordinator 
						add_trait = gregarious
						add_trait = charitable
						random_list = {
							33 = { add_trait = envious }
							33 = { add_trait = gluttonous }
							33 = { add_trait = proud }
						}
						random_list = {
							25 = { add_trait = falconer }
							25 = { add_trait = kind }
							25 = { add_trait = honest }
							25 = { add_trait = lustful }
						}   
					}
				}

				#Add second commander trait
				random_list = {
					10 = {
						trigger = { NOT = {trait = master_of_flame } }
						add_trait = master_of_flame
					}
					10 = {
						trigger = { NOT = {trait = logistics_expert } }
						add_trait = logistics_expert
					}
					10 = {
						trigger = { NOT = {trait = levy_coordinator } }
						add_trait = levy_coordinator
					}
					10 = {
						trigger = { NOT = {trait = sapper } }
						add_trait = sapper
					}
					60 = {}
				}
			}
			new_character = {
				if = {
					limit = {
						ROOT = {
							has_character_modifier = mandate_of_heaven_5
						}
					}
					random_list = {
						25 = {
							trigger = { NOT = {trait = master_of_flame } }
							add_trait = master_of_flame
						}
						25 = {
							trigger = { NOT = {trait = logistics_expert } }
							add_trait = logistics_expert
						}
						25 = {
							trigger = { NOT = {trait = levy_coordinator } }
							add_trait = levy_coordinator
						}
						25 = {
							trigger = { NOT = {trait = sapper } }
							add_trait = sapper
						}
					}
					set_character_flag = jd_strategist_golden_age
				}
				give_minor_title = title_commander
			}
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.01
				always = yes
			}
			modifier = {
				factor = 0.1
				OR = {
					AND = {
						is_chinese_emperor_trigger = yes
						NOT = {
							wealth = 1000
						}
					}
					AND = {
						is_chinese_emperor_trigger = no
						NOT = {
							wealth = 4000
						}
					}
				}
			}
			modifier = {
				factor = 0.1
				independent = no
			}
		}
	}
	
	employ_siege_engineer = {
		ai_check_interval = 240
		only_playable = yes
		potential = {
			has_dlc = "Jade Dragon"
			is_feudal = yes
			OR = {
				ai = no
				higher_real_tier_than = count
			}
			top_liege = {
				OR = {
					government = chinese_imperial_government
					government = eastern_imperial_government
					government = chinese_vassal_government
				}
			}
			OR = {
				government = chinese_imperial_government
				government = eastern_imperial_government
				government = chinese_vassal_government
				any_owned_bloodline = {
					OR = {
						has_bloodline_flag = chinese_characters_bloodline
						has_bloodline_flag = chinese_commanders_bloodline
						has_bloodline_flag = chinese_bureaucrats_bloodline
					}
					bloodline_is_active_for = PREV
				}
			}
		}
		
		allow = {
			is_inaccessible_or_incapable_trigger = no
			has_actual_regency_trigger = no	
			OR = {
				wealth = 1000
				AND = {
					is_chinese_emperor_trigger = yes
					wealth = 250
				}
			}
		}
		
		effect = {
			if = {
				limit = {
					is_chinese_emperor_trigger = yes
				}
				wealth = -250
			}
			if = {
				limit = {
					is_chinese_emperor_trigger = no
				}
				wealth = -1000
			}
			random_list = {
				33 = {
					if = {
						limit = {
							culture_group = chinese_group
						}
						create_random_soldier = {
							age = 55
							dynasty = actually_culture
							religion = ROOT
							culture = ROOT
							female = no
							random_traits = yes
							attributes = {
								diplomacy = 2
								learning = 2
								stewardship = 2
								intrigue = 2
								martial = 16
							}
						}
					}
					if = {
						limit = {
							NOT = {
								culture_group = chinese_group
							}
						}
						create_random_soldier = {
							age = 55
							dynasty = actually_culture
							religion = confucian
							culture = han
							female = no
							random_traits = yes
							attributes = {
								diplomacy = 2
								learning = 2
								stewardship = 2
								intrigue = 2
								martial = 16
							}
						}
					}
					new_character = {
						save_event_target_as = chinese_siege_engineer
						set_character_flag = ai_flag_refuse_concubinage
						set_character_flag = ai_flag_refuse_marriage
						set_character_flag = originated_from_chinese_court
						set_character_flag = no_court_invites
						set_character_flag = taught_chinese_strategy
						set_character_flag = is_chinese_siege_engineer
						
						remove_trait = weak
						remove_trait = slow
						remove_trait = imbecile
						remove_trait = dull
						
						remove_trait = craven
						remove_trait = mystic
						remove_trait = socializer
						remove_trait = gamer
						remove_trait = hedonist
						remove_trait = duelist
						remove_trait = hunter
						remove_trait = strategist
						remove_trait = administrator
						remove_trait = architect
						remove_trait = gardener
						remove_trait = schemer
						remove_trait = impaler
						remove_trait = seducer
						remove_trait = seductress
						remove_trait = theologian
						remove_trait = scholar
						
						add_trait = sapper
						
						random_list = { # Flavor Randomization
							15 = {
								change_martial = 2
							}
							10 = {
								add_trait = robust
							}
							10 = {
								add_trait = duelist
							}
							10 = {
								add_trait = architect
							}
							5 = {
								add_trait = strategist
							}
							5 = {
								change_martial = 4
							}
							5 = {
								if = {
									limit = {
										has_dlc = "Reapers"
									}
									add_trait = one_eyed
								}
							}
							5 = { 
								add_trait = shrewd
							}
						}
						opinion = {
							who = ROOT
							modifier = opinion_servant
							months = 1200
						}
					}
				}
				33 = {
					if = {
						limit = {
							culture_group = chinese_group
						}
						create_random_soldier = {
							age = 35
							dynasty = actually_culture
							religion = ROOT
							culture = ROOT
							female = no
							random_traits = yes
							attributes = {
								diplomacy = 2
								learning = 2
								stewardship = 2
								intrigue = 2
								martial = 8
							}
						}
					}
					if = {
						limit = {
							NOT = {
								culture_group = chinese_group
							}
						}
						create_random_soldier = {
							age = 35
							dynasty = actually_culture
							religion = confucian
							culture = han
							female = no
							random_traits = yes
							attributes = {
								diplomacy = 2
								learning = 2
								stewardship = 2
								intrigue = 2
								martial = 8
							}
						}
					}
					new_character = {
						save_event_target_as = chinese_siege_engineer
						set_character_flag = ai_flag_refuse_concubinage
						set_character_flag = ai_flag_refuse_marriage
						set_character_flag = originated_from_chinese_court
						set_character_flag = chinese_courtier_original_court_@PREV
						set_character_flag = no_court_invites
						set_character_flag = taught_chinese_strategy
						set_character_flag = is_chinese_siege_engineer
						
						remove_trait = weak
						remove_trait = slow
						remove_trait = imbecile
						remove_trait = dull
						
						remove_trait = craven
						remove_trait = mystic
						remove_trait = socializer
						remove_trait = gamer
						remove_trait = hedonist
						remove_trait = duelist
						remove_trait = hunter
						remove_trait = strategist
						remove_trait = administrator
						remove_trait = architect
						remove_trait = gardener
						remove_trait = schemer
						remove_trait = impaler
						remove_trait = seducer
						remove_trait = seductress
						remove_trait = theologian
						remove_trait = scholar
						
						add_trait = sapper
						random_list = { # Flavor Randomization
							15 = {
								change_martial = 2
							}
							10 = {
								add_trait = robust
							}
							10 = {
								add_trait = duelist
							}
							10 = {
								add_trait = architect
							}
							5 = {
								add_trait = strategist
							}
							5 = {
								change_martial = 4
							}
							5 = {
								if = {
									limit = {
										has_dlc = "Reapers"
									}
									add_trait = one_eyed
								}
							}
							5 = { 
								add_trait = shrewd
							}
						}
						opinion = {
							who = ROOT
							modifier = opinion_servant
							months = 1200
						}
					}
				}
				33 = {
					if = {
						limit = {
							culture_group = chinese_group
						}
						create_random_soldier = {
							age = 37
							dynasty = actually_culture
							religion = ROOT
							culture = ROOT
							female = no
							random_traits = yes
							attributes = {
								diplomacy = 2
								learning = 2
								stewardship = 2
								intrigue = 2
								martial = 8
							}
						}
					}
					if = {
						limit = {
							NOT = {
								culture_group = chinese_group
							}
						}
						create_random_soldier = {
							age = 37
							dynasty = actually_culture
							religion = confucian
							culture = han
							female = no
							random_traits = yes
							attributes = {
								diplomacy = 2
								learning = 2
								stewardship = 2
								intrigue = 2
								martial = 8
							}
						}
					}
					new_character = {
						save_event_target_as = chinese_siege_engineer
						set_character_flag = ai_flag_refuse_concubinage
						set_character_flag = ai_flag_refuse_marriage
						set_character_flag = originated_from_chinese_court
						set_character_flag = chinese_courtier_original_court_@PREV
						set_character_flag = no_court_invites
						set_character_flag = taught_chinese_strategy
						set_character_flag = is_chinese_siege_engineer
						
						remove_trait = weak
						remove_trait = slow
						remove_trait = imbecile
						remove_trait = dull
						
						remove_trait = craven
						remove_trait = mystic
						remove_trait = socializer
						remove_trait = gamer
						remove_trait = hedonist
						remove_trait = duelist
						remove_trait = hunter
						remove_trait = strategist
						remove_trait = administrator
						remove_trait = architect
						remove_trait = gardener
						remove_trait = schemer
						remove_trait = impaler
						remove_trait = seducer
						remove_trait = seductress
						remove_trait = theologian
						remove_trait = scholar
						
						add_trait = sapper
						
						random_list = { # Flavor Randomization
							15 = {
								change_martial = 2
							}
							10 = {
								add_trait = robust
							}
							10 = {
								add_trait = duelist
							}
							10 = {
								add_trait = architect
							}
							5 = {
								add_trait = strategist
							}
							5 = {
								change_martial = 4
							}
							5 = {
								if = {
									limit = {
										has_dlc = "Reapers"
									}
									add_trait = one_eyed
								}
							}
							5 = { 
								add_trait = shrewd
							}
						}
						opinion = {
							who = ROOT
							modifier = opinion_servant
							months = 1200
						}
					}
				}
			}
			new_character = {
				if = {
					limit = {
						ROOT = {
							has_character_modifier = mandate_of_heaven_5
						}
					}
					change_martial = 5
				}
				give_minor_title = title_commander
			}
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.01
				always = yes
			}
			modifier = {
				factor = 0.1
				OR = {
					AND = {
						is_chinese_emperor_trigger = yes
						NOT = {
							wealth = 1000
						}
					}
					AND = {
						is_chinese_emperor_trigger = no
						NOT = {
							wealth = 4000
						}
					}
				}
			}
			modifier = {
				factor = 0.1
				independent = no
			}
		}
	}
	
	employ_administrator = {
		ai_check_interval = 240
		only_playable = yes
		potential = {
			has_dlc = "Jade Dragon"
			is_feudal = yes
			OR = {
				ai = no
				higher_real_tier_than = count
			}
			top_liege = {
				OR = {
					government = chinese_imperial_government
					government = eastern_imperial_government
					government = chinese_vassal_government
				}
			}
			OR = {
				government = chinese_imperial_government
				government = eastern_imperial_government
				government = chinese_vassal_government
				any_owned_bloodline = {
					OR = {
						has_bloodline_flag = chinese_characters_bloodline
						has_bloodline_flag = chinese_commanders_bloodline
						has_bloodline_flag = chinese_bureaucrats_bloodline
					}
					bloodline_is_active_for = PREV
				}
			}
		}
		
		allow = {
			is_inaccessible_or_incapable_trigger = no
			has_actual_regency_trigger = no	
			OR = {
				wealth = 1000
				AND = {
					is_chinese_emperor_trigger = yes
					wealth = 250
				}
			}
		}
		
		effect = {
			if = {
				limit = {
					is_chinese_emperor_trigger = yes
				}
				wealth = -250
			}
			if = {
				limit = {
					is_chinese_emperor_trigger = no
				}
				wealth = -1000
			}
			random_list = {
				50 = { #Female
					modifier = {
						NOT = {
							has_game_rule = {
								name = gender
								value = all
							}
						}
						factor = 0.05
					}
					if = {
						limit = {
							culture_group = chinese_group
						}
						create_character = {
							age = 30
							dynasty = actually_culture
							religion = ROOT
							culture = ROOT
							female = yes
							health = 6
							random_traits = no
							attributes = {
								martial = 2
								diplomacy = 4
								stewardship = 6
								intrigue = 2
								learning = 5
							}
						}
					}
					if = {
						limit = {
							NOT = {
								culture_group = chinese_group
							}
						}
						create_character = {
							age = 30
							dynasty = actually_culture
							religion = confucian
							culture = han
							female = yes
							health = 6
							random_traits = no
							attributes = {
								martial = 2
								diplomacy = 4
								stewardship = 6
								intrigue = 2
								learning = 5
							}
						}
					}
				}
				50 = { #Male
					if = {
						limit = {
							culture_group = chinese_group
						}
						create_character = {
							age = 30
							dynasty = actually_culture
							religion = ROOT
							culture = ROOT
							female = no
							health = 6
							random_traits = no
							attributes = {
								martial = 2
								diplomacy = 4
								stewardship = 6
								intrigue = 2
								learning = 5
							}
						}
					}
					if = {
						limit = {
							NOT = {
								culture_group = chinese_group
							}
						}
						create_character = {
							age = 30
							dynasty = actually_culture
							religion = confucian
							culture = han
							female = no
							health = 6
							random_traits = no
							attributes = {
								martial = 2
								diplomacy = 4
								stewardship = 6
								intrigue = 2
								learning = 5
							}
						}
					}
				}
			}
			new_character = {
				#Education & other basic stuff
				save_event_target_as = chinese_administrator
				add_character_modifier = {
					name = jd_administrator
					duration = -1
				}
				set_character_flag = ai_flag_refuse_concubinage
				set_character_flag = ai_flag_refuse_marriage
				set_character_flag = originated_from_chinese_court
				set_character_flag = no_court_invites
				set_character_flag = is_chinese_administrator
				random_list = {
					30 = { add_trait = thrifty_clerk }
					15 = { add_trait = fortune_builder }
					5 = { add_trait = midas_touched }
					30 = { add_trait = martial_cleric }
					15 = { add_trait = scholarly_theologian }
					5 = { add_trait = mastermind_theologian }
				}
				random_list = {
					20 = { } #Nothing
					30 = { add_trait = erudite }
					25 = { add_trait = shrewd }
					15 = { add_trait = quick }
					5 = { add_trait = genius }
					5 = { add_trait = fair }
				}
				random_list = {
					85 = { } #Nothing
					1 = { add_trait = clubfooted }
					2 = { add_trait = harelip }
					2 = { add_trait = hunchback }
					3 = { add_trait = lisp }
					3 = { add_trait = stutter }
					2 = { 
						add_trait = ugly 
						remove_trait = fair 
					}
					1 = { add_trait = dwarf }
					1 = {  add_trait = weak }
				}
				random = {
					chance = 10
					add_trait = homosexual
				}
				opinion = {
					who = ROOT
					modifier = opinion_servant
					months = 1200
				}

				#Add archetype 
				random_list = {
					#Conservative 
					25 = {
						set_character_flag = archetype_conservative
						if = {
							limit = { has_dlc = "Way of Life" }
							random_list = {
								50 = { add_trait = scholar }
								50 = { add_trait = administrator }
							}
						}
						random = {
							chance = 50
							add_trait = zealous
						}
						add_trait = stubborn
						add_trait = temperate
						random_list = {
							20 = { add_trait = greedy }
							20 = { add_trait = wroth }
							20 = { add_trait = deceitful }
							20 = { add_trait = shy }
							20 = { add_trait = cruel }
						}
						random_list = {
							25 = { add_trait = poet }
							25 = { add_trait = chaste }
							25 = { 
								add_trait = patient
								remove_trait = wroth
							}
							25 = { add_trait = just }
						}
					}
					#Supportive
					25 = {
						set_character_flag = archetype_supportive
						if = {
							limit = { has_dlc = "Way of Life" }    
							random_list = {
								50 = { add_trait = administrator }
								25 = { add_trait = scholar }
								25 = { add_trait = gardener }
							}
						}
						add_trait = humble
						add_trait = patient
						random_list = {
							33 = { add_trait = slothful }
							33 = { add_trait = craven }
							33 = { add_trait = shy }
						}
						random_list = {
							25 = { add_trait = content }
							25 = { add_trait = charitable }
							25 = { add_trait = kind }
							25 = { add_trait = trusting }
						}      
					}
					#Decisive
					25 = {
						set_character_flag = archetype_decisive
						if = {
							limit = { has_dlc = "Way of Life" }
							random_list = {
								75 = { add_trait = administrator }
								25 = { add_trait = architect }
							}
						}
						add_trait = ambitious
						add_trait = cynical
						random_list = {
							20 = { add_trait = cruel }
							20 = { add_trait = stubborn }
							20 = { add_trait = greedy }
							20 = { add_trait = wroth }
							20 = { add_trait = proud }
						}
						random_list = {
							20 = { add_trait = falconer }
							20 = { add_trait = diligent }
							20 = { add_trait = brave }
							20 = { add_trait = honest }
							20 = { add_trait = gregarious }
						}    
					}
					#Sociable
					25 = {
						set_character_flag = archetype_sociable
						if = {
							limit = { has_dlc = "Way of Life" }
							random_list = {
								25 = { add_trait = administrator }
								30 = { add_trait = socializer }
								25 = { add_trait = hedonist}
								20 = {
									trigger = { is_female = yes }
									add_trait = seductress
									add_trait = lustful
								}
								20 = {
									trigger = { is_female = no }
									add_trait = seducer
									add_trait = lustful
								}
							}
						}
						add_trait = gregarious
						add_trait = charitable
						random_list = {
							25 = { add_trait = craven }
							25 = { add_trait = envious }
							25 = { add_trait = gluttonous }
							25 = { add_trait = proud }
						}
						random_list = {
							25 = { add_trait = poet }
							25 = { add_trait = kind }
							25 = { add_trait = honest }
							25 = { add_trait = lustful }
						}   
					}
				}
				if = {
					limit = {
						ROOT = {
							has_character_modifier = mandate_of_heaven_5
						}
					}
					set_character_flag = jd_administrator_golden_age
				}
			}
			add_character_modifier = {
				name = employing_jd_administrator
				duration = -1
			}
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.01
				always = yes
			}
			modifier = {
				factor = 0.1
				OR = {
					AND = {
						is_chinese_emperor_trigger = yes
						NOT = {
							wealth = 1000
						}
					}
					AND = {
						is_chinese_emperor_trigger = no
						NOT = {
							wealth = 4000
						}
					}
				}
			}
			modifier = {
				factor = 0.1
				independent = no
			}
		}
	}
	
	employ_master_engineer = {
		ai_check_interval = 240
		only_playable = yes
		potential = {
			has_dlc = "Jade Dragon"
			is_feudal = yes
			OR = {
				ai = no
				higher_real_tier_than = count
			}
			top_liege = {
				OR = {
					government = chinese_imperial_government
					government = eastern_imperial_government
					government = chinese_vassal_government
				}
			}
			OR = {
				government = chinese_imperial_government
				government = eastern_imperial_government
				government = chinese_vassal_government
				any_owned_bloodline = {
					OR = {
						has_bloodline_flag = chinese_characters_bloodline
						has_bloodline_flag = chinese_commanders_bloodline
						has_bloodline_flag = chinese_bureaucrats_bloodline
					}
					bloodline_is_active_for = PREV
				}
			}
		}
		
		allow = {
			is_inaccessible_or_incapable_trigger = no
			has_actual_regency_trigger = no	
			OR = {
				wealth = 1000
				AND = {
					is_chinese_emperor_trigger = yes
					wealth = 250
				}
			}
		}
		
		effect = {
			if = {
				limit = {
					is_chinese_emperor_trigger = yes
				}
				wealth = -250
			}
			if = {
				limit = {
					is_chinese_emperor_trigger = no
				}
				wealth = -1000
			}
			random_list = {
				50 = { #Female
					modifier = {
						NOT = {
							has_game_rule = {
								name = gender
								value = all
							}
						}
						factor = 0.05
					}
					if = {
						limit = {
							culture_group = chinese_group
						}
						create_character = {
							age = 30
							dynasty = actually_culture
							religion = ROOT
							culture = ROOT
							female = yes
							health = 6
							random_traits = no
							attributes = {
								martial = 5
								diplomacy = 2
								stewardship = 6
								intrigue = 3
								learning = 3
							}
						}
					}
					if = {
						limit = {
							NOT = {
								culture_group = chinese_group
							}
						}
						create_character = {
							age = 30
							dynasty = actually_culture
							religion = confucian
							culture = han
							female = yes
							health = 6
							random_traits = no
							attributes = {
								martial = 5
								diplomacy = 2
								stewardship = 6
								intrigue = 3
								learning = 3
							}
						}
					}
				}
				50 = { #Male
					if = {
						limit = {
							culture_group = chinese_group
						}
						create_character = {
							age = 30
							dynasty = actually_culture
							religion = ROOT
							culture = ROOT
							female = no
							health = 6
							random_traits = no
							attributes = {
								martial = 5
								diplomacy = 2
								stewardship = 6
								intrigue = 3
								learning = 3
							}
						}
					}
					if = {
						limit = {
							NOT = {
								culture_group = chinese_group
							}
						}
						create_character = {
							age = 30
							dynasty = actually_culture
							religion = confucian
							culture = han
							female = no
							health = 6
							random_traits = no
							attributes = {
								martial = 5
								diplomacy = 2
								stewardship = 6
								intrigue = 3
								learning = 3
							}
						}
					}
				}
			}
			new_character = {
				#Education & other basic stuff
				save_event_target_as = chinese_master_engineer
				add_character_modifier = {
					name = jd_master_engineer
					duration = -1
				}
				set_character_flag = ai_flag_refuse_concubinage
				set_character_flag = ai_flag_refuse_marriage
				set_character_flag = originated_from_chinese_court
				set_character_flag = no_court_invites
				set_character_flag = is_chinese_master_engineer
				random_list = {
					30 = { add_trait = thrifty_clerk }
					15 = { add_trait = fortune_builder }
					5 = { add_trait = midas_touched }
					30 = { add_trait = tough_soldier }
					15 = { add_trait = skilled_tactician }
					5 = { add_trait = brilliant_strategist }
				}
				random_list = {
					20 = { } #Nothing
					20 = { add_trait = erudite }
					20 = { add_trait = shrewd }
					15 = { add_trait = quick }
					5 = { add_trait = genius }
					10 = { add_trait = robust }
					5 = { add_trait = strong }
					5 = { add_trait = fair }
				}
				random_list = {
					85 = { } #Nothing
					1 = { add_trait = clubfooted }
					2 = { add_trait = harelip }
					2 = { add_trait = hunchback }
					3 = { add_trait = lisp }
					3 = { add_trait = stutter }
					2 = { 
						add_trait = ugly 
						remove_trait = fair 
					}
					1 = { add_trait = dwarf }
					1 = { 
						add_trait = weak 
						remove_trait = strong 
						remove_trait = robust
					}
				}
				random = {
					chance = 10
					add_trait = homosexual
				}
				opinion = {
					who = ROOT
					modifier = opinion_servant
					months = 1200
				}

				#Add archetype 
				random_list = {
					#Conservative
					25 = {
						set_character_flag = archetype_conservative
						if = {
							limit = { has_dlc = "Way of Life" }
							random_list = {
								75 = { add_trait = architect }
								25 = { add_trait = theologian }
							}
						}
						random = {
							chance = 50
							add_trait = zealous
						}
						add_trait = stubborn
						add_trait = temperate
						random_list = {
							20 = { add_trait = greedy }
							20 = { add_trait = wroth }
							20 = { add_trait = deceitful }
							20 = { add_trait = shy }
							20 = { add_trait = cruel }
						}
						random_list = {
							25 = { add_trait = poet }
							25 = { add_trait = chaste }
							25 = { 
								add_trait = patient
								remove_trait = wroth
							}
							25 = { add_trait = just }
						}
					}
					#Supportive
					25 = {
						set_character_flag = archetype_supportive
						if = {
							limit = { has_dlc = "Way of Life" }    
							random_list = {
								50 = { add_trait = architect }
								25 = { add_trait = socializer }
								25 = { add_trait = gardener }
							}
						}
						add_trait = humble
						add_trait = patient
						random_list = {
							33 = { add_trait = slothful }
							33 = { add_trait = craven }
							33 = { add_trait = shy }
						}
						random_list = {
							25 = { add_trait = content }
							25 = { add_trait = charitable }
							25 = { add_trait = kind }
							25 = { add_trait = trusting }
						}      
					}
					#Decisive
					25 = {
						set_character_flag = archetype_decisive
						if = {
							limit = { has_dlc = "Way of Life" }
							random_list = {
								50 = { add_trait = architect }
								50 = { add_trait = strategist }
							}
						}
						add_trait = ambitious
						add_trait = cynical
						random_list = {
							20 = { add_trait = cruel }
							20 = { add_trait = stubborn }
							20 = { add_trait = greedy }
							20 = { add_trait = wroth }
							20 = { add_trait = proud }
						}
						random_list = {
							20 = { add_trait = falconer }
							20 = { add_trait = diligent }
							20 = { add_trait = brave }
							20 = { add_trait = honest }
							20 = { add_trait = gregarious }
						}    
					}
					#Sociable
					25 = {
						set_character_flag = archetype_sociable
						if = {
							limit = { has_dlc = "Way of Life" }
							random_list = {
								25 = { add_trait = architect }
								30 = { add_trait = socializer }
								25 = { add_trait = hedonist}
								20 = {
									trigger = { is_female = yes }
									add_trait = seductress
									add_trait = lustful
								}
								20 = {
									trigger = { is_female = no }
									add_trait = seducer
									add_trait = lustful
								}
							}
						}
						add_trait = gregarious
						add_trait = charitable
						random_list = {
							25 = { add_trait = craven }
							25 = { add_trait = envious }
							25 = { add_trait = gluttonous }
							25 = { add_trait = proud }
						}
						random_list = {
							25 = { add_trait = poet }
							25 = { add_trait = kind }
							25 = { add_trait = honest }
							25 = { add_trait = lustful }
						}
					}
				}
			}
			new_character = {
				if = {
					limit = {
						ROOT = {
							has_character_modifier = mandate_of_heaven_5
						}
					}
					set_character_flag = china_master_engineer_golden_age
				}
				give_minor_title = title_master_engineer
			}
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.01
				always = yes
			}
			modifier = {
				factor = 0.1
				OR = {
					AND = {
						is_chinese_emperor_trigger = yes
						NOT = {
							wealth = 1000
						}
					}
					AND = {
						is_chinese_emperor_trigger = no
						NOT = {
							wealth = 4000
						}
					}
				}
			}
			modifier = {
				factor = 0.1
				independent = no
			}
		}
	}
	
	employ_chinese_physician = {
		ai_check_interval = 240
		only_playable = yes
		potential = {
			has_dlc = "Jade Dragon"
			has_dlc = "Reapers"
			is_feudal = yes
			OR = {
				ai = no
				higher_real_tier_than = count
			}
			top_liege = {
				OR = {
					government = chinese_imperial_government
					government = eastern_imperial_government
					government = chinese_vassal_government
				}
			}
			OR = {
				government = chinese_imperial_government
				government = eastern_imperial_government
				government = chinese_vassal_government
				any_owned_bloodline = {
					OR = {
						has_bloodline_flag = chinese_characters_bloodline
						has_bloodline_flag = chinese_commanders_bloodline
						has_bloodline_flag = chinese_bureaucrats_bloodline
					}
					bloodline_is_active_for = PREV
				}
			}
		}
		
		allow = {
			is_inaccessible_or_incapable_trigger = no
			has_actual_regency_trigger = no	
			OR = {
				wealth = 1000
				AND = {
					is_chinese_emperor_trigger = yes
					wealth = 250
				}
			}
		}
		
		effect = {
			if = {
				limit = {
					is_chinese_emperor_trigger = yes
				}
				wealth = -250
			}
			if = {
				limit = {
					is_chinese_emperor_trigger = no
				}
				wealth = -1000
			}
			random_list = {
				50 = { #Female
					modifier = {
						NOT = {
							has_game_rule = {
								name = gender
								value = all
							}
						}
						factor = 0.05
					}
					create_character = {
						age = 35
						dynasty = actually_culture
						religion = ROOT
						culture = ROOT
						female = yes
						health = 6
						random_traits = no
						attributes = {
							martial = 2
							diplomacy = 5
							stewardship = 3
							intrigue = 3
							learning = 6
						}
					}
				}
				50 = { #Male
					create_character = {
						age = 35
						dynasty = actually_culture
						religion = ROOT
						culture = ROOT
						female = no
						health = 6
						random_traits = no
						attributes = {
							martial = 2
							diplomacy = 5
							stewardship = 3
							intrigue = 3
							learning = 6
						}
					}
				}
			}
			new_character = {
				#Education & other basic stuff
				set_character_flag = ai_flag_refuse_concubinage
				set_character_flag = ai_flag_refuse_marriage
				set_character_flag = originated_from_chinese_court
				set_character_flag = no_court_invites
				set_character_flag = is_chinese_physician
				random_list = {
					50 = { add_trait = scholarly_theologian }
					25 = { add_trait = mastermind_theologian }
				}
				add_trait = physician
				random_list = {
					20 = { } #Nothing
					30 = { add_trait = erudite }
					30 = { add_trait = shrewd }
					15 = { add_trait = quick }
					5 = { add_trait = genius }
				}
				random_list = {
					80 = { } #Nothing
					2 = { add_trait = clubfooted }
					2 = { add_trait = harelip }
					2 = { add_trait = hunchback }
					4 = { add_trait = lisp }
					4 = { add_trait = stutter }
					2 = { add_trait = ugly }
					2 = { add_trait = dwarf }
					2 = { add_trait = weak }
				}
				random_list = {
					50 = { } #Nothing
					25 = { add_trait = patient }
					25 = { add_trait = diligent }
				}
				random = {
					chance = 10
					add_trait = homosexual
				}
				opinion = {
					who = ROOT
					modifier = opinion_servant
					months = 1200
				}

				#Add archetype 
				random_list = {
					20 = { #Combat medic
						set_character_flag = archetype_decisive
						random_list = {
							50 = { add_trait = duelist }
							50 = { add_trait = scholar }
						}
						add_trait = scarred
						add_trait = robust
						random_list = {
							60 = { } #Nothing
							20 = { 
								trigger = { has_dlc = Reapers }
								add_trait = one_legged 
							}
							20 = { 
								trigger = { has_dlc = Reapers }
								add_trait = one_eyed 
							}
						}
						add_trait = brave
						random_list = {
							30 = { } #Nothing
							50 = { add_trait = cynical }
							10 = {
								add_trait = cynical
								add_trait = depressed
							}
							10 = {
								add_trait = cynical
								add_trait = depressed
								add_trait = drunkard
							}
						}
						random_list = {
							50 = { } #Nothing
							20 = { add_trait = kind }
							30 = { add_trait = honest }
						}
						remove_trait = dwarf
						remove_trait = weak
					}
					#Dr Jerk
					15 = { 
						set_character_flag = archetype_decisive
						add_trait = scholar
						add_trait = wroth
						remove_trait = patient
						random_list = {
							30 = { add_trait = proud }
							30 = { add_trait = envious }
							40 = { } #Nothing
						}
						add_trait = honest
						add_trait = cynical
						random = {
							chance = 30
							add_trait = drunkard
						}
						random_list = {
							60 = { }
							20 = { 
								add_trait = clubfooted
								set_name = Wu #House
							}
							20 = {
								trigger = { has_dlc = Reapers }
								add_trait = one_legged
								set_name = Wu #House
							}
						}
					}
					10 = { #Mad genius 
						set_character_flag = archetype_sociable
						random_list = {
							50 = { add_trait = impaler }
							50 = { add_trait = mystic }
						}
						random_list = {
							33 = { add_trait = drunkard } 
							33 = { add_trait = lunatic }
							33 = { add_trait = possessed }
						}
						add_trait = genius
						remove_trait = quick
						remove_trait = shrewd
						add_trait = paranoid
						random_list = {
							25 = { add_trait = gluttonous } 
							25 = { add_trait = wroth }
							25 = { add_trait = proud }
							25 = { add_trait = greedy }
						}   
					}
					20 = { #Herbalist
						set_character_flag = archetype_supportive
						add_trait = gardener
						add_trait = diligent
						add_trait = humble
						random_list = {
							33 = { add_trait = content } 
							33 = { add_trait = shy }
							33 = { add_trait = poet }
						}
						random = {
							chance = 50
							add_trait = robust
						}
						remove_trait = weak
					}
					20 = { #Health nut
						set_character_flag = archetype_conservative
						add_trait = mystic
						add_trait = celibate
						add_trait = chaste
						add_trait = temperate
						random_list = {
							50 = { add_trait = craven } 
							25 = { add_trait = shy }
							25 = { add_trait = content }
						}
						set_focus = focus_scholarship
					}
					20 = { #Compassionate doctor
						set_character_flag = archetype_supportive
						random_list = {
							50 = { add_trait = socializer }
							50 = { add_trait = scholar }
						}
						add_trait = kind
						add_trait = patient
						random_list = {
							25 = { add_trait = content } 
							25 = { add_trait = humble }
							25 = { add_trait = trusting }
							25 = { add_trait = charitable }
						}
						set_focus = focus_family
					}
					15 = { #McDreamy
						set_character_flag = archetype_sociable
						if = {
							limit = { is_female = yes }
							add_trait = seductress
						}
						if = {
							limit = { is_female = no }
							add_trait = seducer
						}
						random_list = {
							50 = { } #Nothing
							25 = { add_trait = poet }
							25 = { add_trait = falconer }
						}
						random_list = {
							30 = { add_trait = fair }
							50 = { add_trait = strong }
						}
						add_trait = lustful
						random_list = {
							35 = { add_trait = ambitious }
							35 = { add_trait = gregarious }
							30 = { } #Nothing
						}
						set_focus = focus_seduction
						remove_trait = clubfooted
						remove_trait = harelip
						remove_trait =  hunchback 
						remove_trait = lisp
						remove_trait = stutter
						remove_trait = ugly
						remove_trait = dwarf
						remove_trait = weak
					}
				}
			}
			new_character = {
				if = {
					limit = {
						has_character_modifier = mandate_of_heaven_5
					}
					change_learning = 5
				}
				give_minor_title = title_court_physician
			}
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.01
				always = yes
			}
			modifier = {
				factor = 0.1
				OR = {
					AND = {
						is_chinese_emperor_trigger = yes
						NOT = {
							wealth = 1000
						}
					}
					AND = {
						is_chinese_emperor_trigger = no
						NOT = {
							wealth = 4000
						}
					}
				}
			}
			modifier = {
				factor = 0.1
				independent = no
			}
		}
	}
}