###DEVIL WORSHIPERS###

# TODO: Account for new religions

the_ghost_gatherers = {
	primary_attribute = intrigue
	is_secret = yes
	criminal = yes
	devil_worshipper = yes
	opinion_to_other_members = +5
	opinion_to_pretenders = -40			#Pretenders is the opinion you have of people perceived/discovered to be in your society.
	opinion_to_perceived_members = -40	#Perceived is the opinion you have of people perceived/discovered to be of a society you're not part of
	opinion_per_rank_above = +10
	sound = devil_worshippers_interface
	society_ranks_gfx = devil_ranks
	society_influence = no
	
	active = {
		has_dlc = "Mystics"
		NOT = {
			has_game_rule = {
				name = devil_worshipers
				value = none
			}
		}
	}
	indestructible = yes
	
	can_join_society = {
		hidden_trigger = {
			NOT = {
				has_game_rule = {
					name = devil_worshipers
					value = none
				}
			}
			NAND = {
				ai = yes
				is_society_rank_full = { 
					society = the_ghost_gatherers
					rank = 1
				}
			}
		}
		hidden_trigger = {
			NOT = { has_character_flag = society_join_block }
		}
		trigger_if = {
			limit = { prisoner = yes }
			prisoner = no
		}
	}
	
	show_society = {
		NOT = {
			has_game_rule = {
				name = devil_worshipers
				value = none
			}
		}
		age = 16
		OR = {
			religion = shinto
			religion = shugendo
			religion = koshin
			religion = ryukyuan_pagan
			religion = ryukyuan_pagan_reformed
			religion = ainu_pagan
			religion = ainu_pagan_reformed
			AND = {
				culture_group = japonic
				religion = buddhist
			}
		}
	}
	
	potential = { 		
		OR = {
			religion = shinto
			religion = shugendo
			religion = koshin
			religion = ryukyuan_pagan
			religion = ryukyuan_pagan_reformed
			religion = ainu_pagan
			religion = ainu_pagan_reformed
			AND = {
				culture_group = japonic
				religion = buddhist
			}
		}
	}
	
	society_rank = {
		level = 1
		limit = 100 
		startup_limit = 10
		decisions = {
			decision_abduct
			prisoner_dark_sacrifice #Available Decision: Sacrifice Prisoner
			#Over time, lose virtues, gain vices. A Soul Corruption-effect is on a yearly pulse (with a chance to do nothing)
		}
		
		#custom_tooltip = unlockable_DW_powers_at_rank_2;
	}
	
	society_rank = { 
		level = 2
		limit = 50
		startup_limit = 6
		modifier = { 
			is_visible = {
				OR = {
					society_member_of = the_ghost_gatherers
					FROM = { is_society_discovered = yes }
				}
			}
			intrigue = 1
		}
		decisions = {
			devil_worshipers_summon_familiar #Available Power: Summon Familiar
			the_devil_worshipers_tainted_touch #Available Power: Curse people with disease
			devil_worshipers_demonic_possession #Available Power: Possess someone to make fanatically loyal
			#Available Power: Abduction plot
			#unlock new options in Seduction and Spy On?
		}
		
		#custom_tooltip = unlockable_DW_powers_at_rank_3;
	}
	
	society_rank = {
		level = 3
		limit = 25 
		startup_limit = 3
		modifier = {
			is_visible = {
				OR = {
					society_member_of = the_ghost_gatherers
					FROM = { is_society_discovered = yes }
				}
			}
			intrigue = 2
		}
		decisions = {
			devil_worshipers_dark_divorce #Available Power: Dark Divorce
			devil_worshipers_dark_healing #Available Power: Demonic Healing. Sacrifice a prisoner to heal a random illness or maiming.
			devil_worshipers_invite_disciple_of_devil #Available Decision: Invite a witch to court
			#Available Power: Love Potion
		}
		
		#custom_tooltip = unlockable_DW_powers_at_rank_4;
	}

	society_rank = {
		level = 4
		limit = 1 
		startup_limit = 1
		modifier = { 
			is_visible = {
				OR = {
					society_member_of = the_ghost_gatherers
					FROM = { is_society_discovered = yes }
				}
			}
			intrigue = 3
		}
		decisions = {
			DW_prolong_life #Available Power: Prolong Life
			DW_demonic_impregnation #Available power: Unholy Impregnation
		}
		obedience_tooltip = obedience_tooltip #this can be unique per rank/society 
		obedient = {
			ROOT = {
				always = yes
			}
		}		
	}

	monthly_currency_gain = {
		name = currency_name_the_ghost_gatherers
    
		per_attribute = {
			name = intrigue
			value = 0.5
		}
		has_trait = {
			trait = ambitious
			value = 5
		}
		has_trait = {
			trait = genius
			value = 4
		}
		has_trait = {
			trait = quick
			value = 3
		}
		has_trait = {
			trait = shrewd
			value = 3
		}
		has_trait = {
			trait = hedonist
			value = 3
		}
		has_trait = {
			trait = mystic
			value = 3
		}
		has_trait = {
			trait = seducer
			value = 3
		}
		has_trait = {
			trait = seductress
			value = 3
		}
		has_trait = {
			trait = schemer
			value = 3
		}
		has_trait = {
			trait = impaler
			value = 3
		}
		has_trait = {
			trait = one_eyed
			value = 3
		}
		has_trait = {
			trait = lustful
			value = 1
		}
		has_trait = {
			trait = proud
			value = 1
		}
		has_trait = {
			trait = greedy
			value = 1
		}
		has_trait = {
			trait = deceitful
			value = 1
		}
		has_trait = {
			trait = arbitrary
			value = 1
		}
		society_rank = {
			rank = 4
			value = 10
		}
	}

	member_score_per_attribute = 3
	member_score_per_rank = 100

	member_score = {
		value = 10

		modifier = {
			trait = ambitious
			factor = 1.5
		}
		modifier = {
			trait = genius
			factor = 1.3
		}
		modifier = {
			trait = quick
			factor = 1.3
		}
		modifier = {
			trait = shrewd
			factor = 1.3
		}
		modifier = {
			trait = hedonist
			factor = 1.3
		}
		modifier = {
			trait = mystic
			factor = 1.3
		}
		modifier = {
			trait = seducer
			factor = 1.3
		}
		modifier = {
			trait = seductress
			factor = 1.3
		}
		modifier = {
			trait = schemer
			factor = 1.3
		}
		modifier = {
			trait = impaler
			factor = 1.3
		}
		modifier = {
			trait = one_eyed
			factor = 1.3
		}
		modifier = {
			trait = lustful
			factor = 1.1
		}
		modifier = {
			trait = proud
			factor = 1.1
		}
		modifier = {
			trait = greedy
			factor = 1.1
		}
		modifier = {
			trait = deceitful
			factor = 1.1
		}
		modifier = {
			trait = arbitrary
			factor = 1.1
		}
	}
	
	startup_populate = {
	    trigger = {
			NOT = {
				has_game_rule = {
					name = devil_worshipers
					value = none
				}
			}
			ai = yes
	    	controls_religion = no 
		    OR = {
				religion = shinto
				religion = shugendo
				religion = koshin
				religion = ryukyuan_pagan
				religion = ryukyuan_pagan_reformed
				religion = ainu_pagan
				religion = ainu_pagan_reformed
				AND = {
					culture_group = japonic
					religion = buddhist
				}
			}
			OR = {
				has_impious_trait_trigger = yes
				has_vice_trigger = yes
				trait = drunkard
				trait = possessed
				trait = lunatic
			}
			age = 16
			is_in_society = no
			NOT = { higher_tier_than = DUKE }
			NOR = {
				mercenary = yes
				holy_order = yes
			}
		}
	}
}

the_underworld_triad = {
	primary_attribute = intrigue
	is_secret = yes
	criminal = yes
	devil_worshipper = yes
	opinion_to_other_members = +5
	opinion_to_pretenders = -40			#Pretenders is the opinion you have of people perceived/discovered to be in your society.
	opinion_to_perceived_members = -40	#Perceived is the opinion you have of people perceived/discovered to be of a society you're not part of
	opinion_per_rank_above = +10
	sound = devil_worshippers_interface
	society_ranks_gfx = devil_ranks
	society_influence = no
	
	active = {
		has_dlc = "Mystics"
		NOT = {
			has_game_rule = {
				name = devil_worshipers
				value = none
			}
		}
	}
	indestructible = yes

	can_join_society = {
		hidden_trigger = {
			NOT = {
				has_game_rule = {
					name = devil_worshipers
					value = none
				}
			}
			NAND = {
				ai = yes
				is_society_rank_full = { 
					society = the_underworld_triad
					rank = 1
				}
			}
		}
		hidden_trigger = {
			NOT = { has_character_flag = society_join_block }
		}
		trigger_if = {
			limit = { prisoner = yes }
			prisoner = no
		}
	}
	
	show_society = {
		NOT = {
			has_game_rule = {
				name = devil_worshipers
				value = none
			}
		}
		age = 16
		OR = {
			religion = taoist
			religion = confucian
			religion = chinese_pagan
			religion = chinese_pagan_reformed
			religion = viet_pagan
			religion = viet_pagan_reformed
			AND = {
				has_chinese_or_historical_culture_for_chinese_imperial_trigger = yes
				NOT = {
					culture_group = koreanic # Have access to the Procession of Pox instead
				}
				religion = buddhist
			}
		}
	}

	society_rank = {
		level = 1
		limit = 100 
		startup_limit = 10
		decisions = {
			decision_abduct
			prisoner_dark_sacrifice #Available Decision: Sacrifice Prisoner
			#Over time, lose virtues, gain vices. A Soul Corruption-effect is on a yearly pulse (with a chance to do nothing)
		}
		
		#custom_tooltip = unlockable_DW_powers_at_rank_2;
	}

	potential = { 
		OR = {
			religion = taoist
			religion = confucian
			religion = chinese_pagan
			religion = chinese_pagan_reformed
			religion = viet_pagan
			religion = viet_pagan_reformed
			AND = {
				OR = {
					culture_group = chinese_group
					culture = viet
					culture = tangut
					culture = kaifeng
					culture = khitan
					culture = mongol
				}
				religion = buddhist
			}
		}
	} #no rules
	
	society_rank = { 
		level = 2
		limit = 50
		startup_limit = 6
		modifier = { 
			is_visible = {
				OR = {
					society_member_of = the_underworld_triad
					FROM = { is_society_discovered = yes }
				}
			}
			intrigue = 1
		}
		decisions = {
			devil_worshipers_summon_familiar #Available Power: Summon Familiar
			the_devil_worshipers_tainted_touch #Available Power: Curse people with disease
			devil_worshipers_demonic_possession #Available Power: Possess someone to make fanatically loyal
			#Available Power: Abduction plot
			#unlock new options in Seduction and Spy On?
		}
		
		#custom_tooltip = unlockable_DW_powers_at_rank_3;
	}
	
	society_rank = {
		level = 3
		limit = 25 
		startup_limit = 3
		modifier = {
			is_visible = {
				OR = {
					society_member_of = the_underworld_triad
					FROM = { is_society_discovered = yes }
				}
			}
			intrigue = 2
		}
		decisions = {
			devil_worshipers_dark_divorce #Available Power: Dark Divorce
			devil_worshipers_dark_healing #Available Power: Demonic Healing. Sacrifice a prisoner to heal a random illness or maiming.
			devil_worshipers_invite_disciple_of_devil #Available Decision: Invite a witch to court
			#Available Power: Love Potion
		}
		
		#custom_tooltip = unlockable_DW_powers_at_rank_4;
	}

	society_rank = {
		level = 4
		limit = 1 
		startup_limit = 1
		modifier = { 
			is_visible = {
				OR = {
					society_member_of = the_underworld_triad
					FROM = { is_society_discovered = yes }
				}
			}
			intrigue = 3
		}
		decisions = {
			DW_prolong_life #Available Power: Prolong Life
			DW_demonic_impregnation #Available power: Unholy Impregnation
		}
		obedience_tooltip = obedience_tooltip #this can be unique per rank/society 
		obedient = {
			ROOT = {
				always = yes
			}
		}
	}

	monthly_currency_gain = {
		name = currency_name_the_underworld_triad
    
		per_attribute = {
			name = intrigue
			value = 0.5
		}
		has_trait = {
			trait = ambitious
			value = 5
		}
		has_trait = {
			trait = genius
			value = 4
		}
		has_trait = {
			trait = quick
			value = 3
		}
		has_trait = {
			trait = shrewd
			value = 3
		}
		has_trait = {
			trait = hedonist
			value = 3
		}
		has_trait = {
			trait = mystic
			value = 3
		}
		has_trait = {
			trait = seducer
			value = 3
		}
		has_trait = {
			trait = seductress
			value = 3
		}
		has_trait = {
			trait = schemer
			value = 3
		}
		has_trait = {
			trait = impaler
			value = 3
		}
		has_trait = {
			trait = lustful
			value = 1
		}
		has_trait = {
			trait = proud
			value = 1
		}
		has_trait = {
			trait = greedy
			value = 1
		}
		has_trait = {
			trait = deceitful
			value = 1
		}
		has_trait = {
			trait = arbitrary
			value = 1
		}
		society_rank = {
			rank = 4
			value = 10
		}
	}

	member_score_per_attribute = 3
	member_score_per_rank = 100

	member_score = {
		value = 10

		modifier = {
			trait = ambitious
			factor = 1.5
		}
		modifier = {
			trait = genius
			factor = 1.3
		}
		modifier = {
			trait = quick
			factor = 1.3
		}
		modifier = {
			trait = shrewd
			factor = 1.3
		}
		modifier = {
			trait = hedonist
			factor = 1.3
		}
		modifier = {
			trait = mystic
			factor = 1.3
		}
		modifier = {
			trait = seducer
			factor = 1.3
		}
		modifier = {
			trait = seductress
			factor = 1.3
		}
		modifier = {
			trait = schemer
			factor = 1.3
		}
		modifier = {
			trait = impaler
			factor = 1.3
		}
		modifier = {
			trait = lustful
			factor = 1.1
		}
		modifier = {
			trait = proud
			factor = 1.1
		}
		modifier = {
			trait = greedy
			factor = 1.1
		}
		modifier = {
			trait = deceitful
			factor = 1.1
		}
		modifier = {
			trait = arbitrary
			factor = 1.1
		}
	}
	
	startup_populate = {
	    trigger = {
			NOT = {
				has_game_rule = {
					name = devil_worshipers
					value = none
				}
			}
			ai = yes
	    	controls_religion = no
    		OR = {
				religion = taoist
				religion = confucian
				religion = chinese_pagan
				religion = chinese_pagan_reformed
				religion = viet_pagan
				religion = viet_pagan_reformed
				AND = {
					OR = {
						culture_group = chinese_group
						culture = viet
						culture = tangut
						culture = kaifeng
						culture = khitan
						culture = mongol
					}
					religion = buddhist
				}
			}			
			OR = {
				has_impious_trait_trigger = yes
				has_vice_trigger = yes
				trait = drunkard
				trait = possessed
				trait = lunatic
			}
			age = 16
			is_in_society = no
			NOT = { higher_tier_than = DUKE }
			NOR = {
				mercenary = yes
				holy_order = yes
			}
		}
	}
}

the_procession_of_pox = {
	primary_attribute = intrigue
	is_secret = yes
	criminal = yes
	devil_worshipper = yes
	opinion_to_other_members = +5
	opinion_to_pretenders = -40			#Pretenders is the opinion you have of people perceived/discovered to be in your society.
	opinion_to_perceived_members = -40	#Perceived is the opinion you have of people perceived/discovered to be of a society you're not part of
	opinion_per_rank_above = +10
	sound = devil_worshippers_interface
	society_ranks_gfx = devil_ranks
	society_influence = no
	
	active = {
		has_dlc = "Mystics"
		NOT = {
			has_game_rule = {
				name = devil_worshipers
				value = none
			}
		}
	}
	indestructible = yes
		
	can_join_society = {
		hidden_trigger = {
			NOT = {
				has_game_rule = {
					name = devil_worshipers
					value = none
				}
			}
			NAND = {
				ai = yes
				is_society_rank_full = { 
					society = the_procession_of_pox
					rank = 1
				}
			}
		}
		hidden_trigger = {
			NOT = { has_character_flag = society_join_block }
		}
		trigger_if = {
			limit = { prisoner = yes }
			prisoner = no
		}
	}

	show_society = {
		NOT = {
			has_game_rule = {
				name = devil_worshipers
				value = none
			}
		}
		age = 16
		OR = {
			religion = korean_pagan_reformed
			religion = korean_pagan
			AND = {
				culture_group = koreanic
				religion = buddhist
			}
			society_member_of = the_procession_of_pox		
		}
	}
	
	potential = {
		OR = {
			religion = korean_pagan_reformed
			religion = korean_pagan
			AND = {
				culture_group = koreanic
				religion = buddhist
			}
		}
	}
	
	
	society_rank = {
		level = 1
		limit = 100 
		startup_limit = 10
		decisions = {
			decision_abduct
			prisoner_dark_sacrifice #Available Decision: Sacrifice Prisoner
			#Over time, lose virtues, gain vices. A Soul Corruption-effect is on a yearly pulse (with a chance to do nothing)
		}
		
		#custom_tooltip = unlockable_DW_powers_at_rank_2;
	}
	
	society_rank = { 
		level = 2
		limit = 50
		startup_limit = 6
		modifier = { 
			is_visible = {
				OR = {
					society_member_of = the_procession_of_pox
					FROM = { is_society_discovered = yes }
				}
			}
			intrigue = 1
		}
		decisions = {
			devil_worshipers_summon_familiar #Available Power: Summon Familiar
			the_devil_worshipers_tainted_touch #Available Power: Curse people with disease
			devil_worshipers_demonic_possession #Available Power: Possess someone to make fanatically loyal
			#Available Power: Abduction plot
			#unlock new options in Seduction and Spy On?
		}
		
		#custom_tooltip = unlockable_DW_powers_at_rank_3;
	}
	
	society_rank = {
		level = 3
		limit = 25 
		startup_limit = 3
		modifier = {
			is_visible = {
				OR = {
					society_member_of = the_procession_of_pox
					FROM = { is_society_discovered = yes }
				}
			}
			intrigue = 2
		}
		decisions = {
			devil_worshipers_dark_divorce #Available Power: Dark Divorce
			devil_worshipers_dark_healing #Available Power: Demonic Healing. Sacrifice a prisoner to heal a random illness or maiming.
			devil_worshipers_invite_disciple_of_devil #Available Decision: Invite a witch to court
			#Available Power: Love Potion
		}
		
		#custom_tooltip = unlockable_DW_powers_at_rank_4;
	}

	society_rank = {
		level = 4
		limit = 1 
		startup_limit = 1
		modifier = { 
			is_visible = {
				OR = {
					society_member_of = the_procession_of_pox
					FROM = { is_society_discovered = yes }
				}
			}
			intrigue = 3
		}
		decisions = {
			DW_prolong_life #Available Power: Prolong Life
			DW_demonic_impregnation #Available power: Unholy Impregnation
		}
		obedience_tooltip = obedience_tooltip #this can be unique per rank/society 
		obedient = {
			ROOT = {
				always = yes
			}
		}
	}
	
	monthly_currency_gain = {
		name = currency_name_the_procession_of_pox
    
		per_attribute = {
			name = intrigue
			value = 0.5
		}
		has_trait = {
			trait = ambitious
			value = 5
		}
		has_trait = {
			trait = genius
			value = 4
		}
		has_trait = {
			trait = quick
			value = 3
		}
		has_trait = {
			trait = shrewd
			value = 3
		}
		has_trait = {
			trait = hedonist
			value = 3
		}
		has_trait = {
			trait = mystic
			value = 3
		}
		has_trait = {
			trait = seducer
			value = 3
		}
		has_trait = {
			trait = seductress
			value = 3
		}
		has_trait = {
			trait = schemer
			value = 3
		}
		has_trait = {
			trait = impaler
			value = 3
		}
		has_trait = {
			trait = lustful
			value = 1
		}
		has_trait = {
			trait = proud
			value = 1
		}
		has_trait = {
			trait = greedy
			value = 1
		}
		has_trait = {
			trait = deceitful
			value = 1
		}
		has_trait = {
			trait = arbitrary
			value = 1
		}
		society_rank = {
			rank = 4
			value = 10
		}
	}

	member_score_per_attribute = 3
	member_score_per_rank = 100

	member_score = {
		value = 10

		modifier = {
			trait = ambitious
			factor = 1.5
		}
		modifier = {
			trait = genius
			factor = 1.3
		}
		modifier = {
			trait = quick
			factor = 1.3
		}
		modifier = {
			trait = shrewd
			factor = 1.3
		}
		modifier = {
			trait = hedonist
			factor = 1.3
		}
		modifier = {
			trait = mystic
			factor = 1.3
		}
		modifier = {
			trait = seducer
			factor = 1.3
		}
		modifier = {
			trait = seductress
			factor = 1.3
		}
		modifier = {
			trait = schemer
			factor = 1.3
		}
		modifier = {
			trait = impaler
			factor = 1.3
		}
		modifier = {
			trait = lustful
			factor = 1.1
		}
		modifier = {
			trait = proud
			factor = 1.1
		}
		modifier = {
			trait = greedy
			factor = 1.1
		}
		modifier = {
			trait = deceitful
			factor = 1.1
		}
		modifier = {
			trait = arbitrary
			factor = 1.1
		}
	}

	startup_populate = {
	    trigger = {
			NOT = {
				has_game_rule = {
					name = devil_worshipers
					value = none
				}
			}
			ai = yes
	    	controls_religion = no
    		OR = {
				religion = korean_pagan	
				religion = korean_pagan_reformed
				AND = {
					culture_group = koreanic
					religion = buddhist
				}
			}
			OR = {
				has_impious_trait_trigger = yes
				has_vice_trigger = yes
				trait = drunkard
				trait = possessed
				trait = lunatic
			}
			age = 16
			is_in_society = no
			NOT = { higher_tier_than = DUKE }
			NOR = {
				mercenary = yes
				holy_order = yes
			}
		}
	}
}

### Non-DW societies

warriors_of_the_rising_sun = { # Warrior lodge-adjacent; similar enough to lock to HF, but not a full copy since a bunch of warrior lodge stuff isn't very Japanese
	primary_attribute = martial
	opinion_to_other_members = +10
	opinion_per_rank_above = +5
	sound = warrior_lodge_ambient_01
	society_ranks_gfx = warriors_ranks
	society_rank_up_decision = request_to_rank_up_rising_sun
	society_influence = no
	
	# Intentionally does not have non-interference!
	
	active = {
		has_dlc = "Holy Fury"
	}
	indestructible = yes
	
	can_join_society = {
		hidden_trigger = {
			NAND = {
				ai = yes
				is_society_rank_full = { 
					society = warriors_of_the_rising_sun
					rank = 1
				}
			}
		}
		is_adult = yes
		# There's no initiation duel, so no need to check for that
		custom_tooltip = {
			text = did_not_betray_society
			NOT = { has_character_flag = betrayed_warriors_of_the_rising_sun } # No leaving and re-joining!
		}
		hidden_trigger = {
			NOT = { has_character_flag = society_join_block }
		}
		trigger_if = {
			limit = { prisoner = yes }
			prisoner = no
		}
		OR = {
			religion = shinto
			religion = shugendo
			religion = koshin
			AND = {
				culture_group = japonic
				OR = {
					religion = buddhist
					religion_group = christian
				}
			}
			religion = ryukyuan_pagan
			religion = ryukyuan_pagan_reformed
			custom_tooltip = {
				text = was_deemed_worthy
				has_character_flag = special_rising_sun_character
			}
		}
		OR = {
			is_tribal = yes
			is_feudal = yes
			is_landed = no # Covers the potential of someoneone that should be permitted to join that somehow ended up in a weird court
		}
		NAND = {
			is_ascetic_trigger = yes
			NOT = {
				custom_tooltip = {
					text = was_deemed_worthy
					has_character_flag = special_rising_sun_character
				}
			}
		}
	}

	show_society = {
		OR = {
			religion = shinto
			religion = shugendo
			religion = koshin
			AND = {
				culture_group = japonic
				OR = {
					religion = buddhist
					religion_group = christian
				}
			}
			OR = {
				religion = ryukyuan_pagan
				religion = ryukyuan_pagan_reformed
			}
			custom_tooltip = {
				text = was_deemed_worthy
				has_character_flag = special_rising_sun_character
			}
			society_member_of = warriors_of_the_rising_sun
		}
	}

	potential = {
		OR = {
			religion = shinto
			religion = shugendo
			religion = koshin
			AND = {
				culture_group = japonic
				# More generous, since some people might begrudgingly be permitted to remain
				OR = {
					religion = buddhist
					religion = taoist # They're nearby, and a bit weird, but not *that* weird
					religion = confucian # They're nearby, and a bit weird, but not *that* weird
					religion = hindu # They're a bit weird, but know how to fight...
					AND = {
						religion_group = christian # Well, there were a few historical daimyos...
						controls_religion = no # ... but let's not allow the Pope in...
						holy_order = no # ... or the Templars/etc.
					}
				}
			}
			religion = ryukyuan_pagan
			religion = ryukyuan_pagan_reformed
			# Should maybe also be opened up to Ryukyuans, though a weird reformation would make that weird
			custom_tooltip = {
				text = was_deemed_worthy
				has_character_flag = special_rising_sun_character
			}
		}
		OR = {
			is_tribal = yes
			is_feudal = yes
			is_landed = no # Covers the potential of someoneone that should be permitted to join that somehow ended up in a weird court
		}
	}

	society_rank = { # Initiate
		level = 1
		limit = 100 
		startup_limit = 50
		modifier = {
			monthly_character_prestige = 0.25
		}
		powers = {
			warrior_lodge_duel #Passive Power: Unlocks Duel
			warrior_lodge_survivor #Passive Power: Survivor
			warrior_lodge_lifetime_of_war #Passive Power: A Lifetime of War			
			rising_sun_war_of_honor # Can wage war vs. rivals, powerful rulers, and low-Honor members (with a higher threshold for higher tier targets) for Honor
			rising_sun_brothers_in_arms # Can call other society members of the same rank or lower to arms for Honor, unless already allied, having an NAP with the target, or having a truce with the target
		}
	}
	
	society_rank = { # Samurai/Onna-bugeisha
		level = 2
		limit = 50
		startup_limit = 15
		modifier = {
			monthly_character_prestige = 0.5
			combat_rating = 5
			martial = 1
		}		
		powers = {
			rising_sun_equality # Allows your liege to appoint you as a commander; intentionally higher tier than for WLs
			warrior_lodge_warrior_training #Power: Warrior Training
			warrior_lodge_summon_commander #Power: Summon Commander
			rising_sun_enlist_ronin # Summon event troops
		}
	}
	
	society_rank = { # Hatamoto
		level = 3
		limit = 7 # Seven samurai
		startup_limit = 7
		modifier = {
			monthly_character_prestige = 0.75
			combat_rating = 10
			martial = 2
		}
		powers = {
			warrior_lodge_inspire_warriors #Power: Inspire Warriors
			warrior_lodge_indomitable #Passive Power: Indomitable; intentionally lower tier
			warrior_lodge_choose_military_aspect #Power: Choose Military Aspect; intentionally lower tier
			rising_sun_become_japanese_feudal # Can become Japanese Feudal for Honor
		}
	}

	society_rank = { # Master/Mistress
		level = 4
		limit = 1
		startup_limit = 1
		modifier = { 
			monthly_character_prestige = 1
			combat_rating = 15
			martial = 3
		}
		powers = {
			rising_sun_subjugation_cb # Subjugation CB where the most contributing member gets the reward (similar to a crusade)
			rising_sun_mark_of_dishonor # Can make society members targets for Wars of Honor
		}
		obedience_tooltip = obedience_tooltip #this can be unique per rank/society 
		obedient = {
			FROM = {
				NOR = {
					war_with = ROOT
					AND = {
						independent = yes
						higher_tier_than = ROOT
					}
					is_liege_or_above = ROOT # Obey your superiors!
					controls_religion = yes # The Tenno is not obedient (and neither would a Ryukyuan rel head be...)
					trait = japanese_regent # The Regent is not obedient
					trait = japanese_regent2 # The Regent is not obedient
					trait = japanese_regent3 # The Regent is not obedient
					any_rival = {
						character = ROOT
					}
				}
			}
		}
	}

	monthly_currency_gain = {
		name = currency_name_warriors_of_the_rising_sun # Honor
    	
		per_attribute = {
    		name = martial
    		value = 0.25
    	}
    	has_trait = {
			trait = hunter
			value = 1
		}
		has_trait = {
			trait = strategist
			value = 1
		}
		has_trait = {
			trait = duelist
			value = 1
		}
		has_trait = {
			trait = scarred
			value = 1
		}
		has_trait = {
			trait = scarred_mid
			value = 2
		}
		has_trait = {
			trait = scarred_high
			value = 3
		}
		has_trait = {
			trait = genius
			value = 1
		}
		has_trait = {
			trait = quick
			value = 1
		}
		has_trait = {
			trait = shrewd
			value = 1
		}
		has_trait = {
			trait = strong
			value = 3
		}
		has_trait = {
			trait = robust
			value = 2
		}
		has_trait = {
			trait = giant
			value = 2
		}
		has_trait = {
			trait = falconer
			value = 1
		}
		has_trait = {
			trait = proud
			value = 1
		}
		has_trait = {
			trait = patient
			value = 1
		}
		has_trait = {
			trait = diligent
			value = 1
		}
		has_trait = {
			trait = humble
			value = 1
		}
		has_trait = {
			trait = brave
			value = 2
		}
		has_trait = {
			trait = ambitious
			value = 1
		}
		has_trait = {
			trait = stubborn
			value = 1
		}
		has_trait = {
			trait = poet
			value = 1
		}
		has_trait = {
			trait = varangian
			value = 1 # Fair; you've experience guarding someone with honor
		}
		triggered_gain = {
			desc = is_a_duke
			trigger = {
				tier = duke
				mercenary = no
			}
			value = 0.5
		}
		triggered_gain = {
			desc = is_a_king
			trigger = {
				tier = king
				mercenary = no
				NOT = {
					has_landed_title = k_chrysanthemum_throne
				}
			}
			value = 1
		}
		triggered_gain = {
			desc = is_an_emperor
			trigger = {
				OR = {
					tier = emperor
					has_landed_title = k_chrysanthemum_throne # Maintain the fiction that they're not a figurehead!
				}
				mercenary = no
			}
			value = 2
		}
		triggered_gain = {
			desc = is_japanese_feudal
			trigger = {
				government = japanese_feudal_government
			}
			value = 1
		}
		#NEGATIVE modifiers
		has_trait = {
			trait = impaler
			value = -2 # Dishonorable
		}
		has_trait = {
			trait = wroth
			value = -1 # Dishonorable
		}
		has_trait = {
			trait = cruel
			value = -2 # Dishonorable
		}
		has_trait = {
			trait = viking
			value = -1 # Dishonorable
		}
		has_trait = {
			trait = pirate
			value = -1 # Dishonorable
		}
		has_trait = {
			trait = ravager
			value = -2 # Dishonorable
		}
		has_trait = {
			trait = seaking
			value = -3 # Dishonorable
		}
		has_trait = {
			trait = sea_queen
			value = -3 # Dishonorable
		}
		has_trait = {
			trait = berserker
			value = -1 # Dishonorable
		}
		has_trait = {
			trait = valhalla_bound
			value = -1
		}
		has_trait = {
			trait = eagle_warrior
			value = -1
		}
		has_trait = {
			trait = sun_warrior
			value = -1
		}
		has_trait = {
			trait = ukkos_shield
			value = -1
		}
		has_trait = {
			trait = nyames_shield
			value = -1
		}
		has_trait = {
			trait = peruns_chosen
			value = -1
		}
		has_trait = {
			trait = romuvas_own
			value = -1
		}
		has_trait = {
			trait = ares_own
			value = -1
		}
		has_trait = {
			trait = tengri_warrior
			value = -1
		}
		has_trait = {
			trait = kailash_guardian # Missing in vanilla
			value = -1
		}
		has_trait = {
			trait = sword_of_the_dragon
			value = -1
		}
		has_trait = {
			trait = champion_of_purity
			value = -1
		}
		has_trait = {
			trait = chosen_conqueror
			value = -1
		}
		has_trait = {
			trait = great_bear_warrior
			value = -1
		}
		has_trait = {
			trait = ancestors_chosen
			value = -1
		}
		has_trait = {
			trait = striking_serpent
			value = -1
		}
		has_trait = {
			trait = stormborn
			value = -1
		}
		has_trait = {
			trait = spear_of_the_spirits
			value = -1
		}
		has_trait = {
			trait = chosen_of_the_sun
			value = -1
		}
		has_trait = {
			trait = craven
			value = -3
		}
		has_trait = {
			trait = weak
			value = -2
		}
		has_trait = {
			trait = feeble
			value = -1
		}
		has_trait = {
			trait = slothful
			value = -1
		}
		has_trait = {
			trait = content
			value = -1
		}
		has_trait = {
			trait = dwarf
			value = -1
		}
		has_trait = {
			trait = clubfooted
			value = -1
		}
		has_trait = {
			trait = hunchback
			value = -1
		}
		has_trait = {
			trait = deceitful
			value = -1
		}
		has_trait = {
			trait = schemer
			value = -2
		}
		triggered_gain = {
			desc = is_a_woman
			trigger = {
				is_female = yes
				society_rank == 1
			}
			value = -5
		}
		triggered_gain = {
			desc = is_a_woman
			trigger = {
				is_female = yes
				society_rank == 2
			}
			value = -4
		}
		triggered_gain = {
			desc = is_a_woman
			trigger = {
				is_female = yes
				society_rank == 3
			}
			value = -3
		}
		triggered_gain = {
			desc = is_a_woman
			trigger = {
				is_female = yes
				society_rank == 4
			}
			value = -2
		}
		per_attribute = {
    		name = intrigue
    		value = -0.1 # Dishonest; you could always go Buddhist if you are Shinto!
    	}
		triggered_gain = {
			desc = bad_culture
			trigger = {
				culture = wako
			}
			value = -0.5
		}
		triggered_gain = {
			desc = bad_culture
			trigger = {
				culture_group = japonic
				NOR = {
					culture = yamato
					culture = japanese
					culture = wako
				}
			}
			value = -1
		}
		triggered_gain = {
			desc = bad_culture
			trigger = {
				NOT = {
					culture_group = japonic
				}
			}
			value = -2
		}
		triggered_gain = {
			desc = bad_religion
			trigger = {
				OR = {
					religion = ryukyuan_pagan
					religion = ryukyuan_pagan_reformed
					religion = taoist
					religion = confucian
				}
			}
			value = -0.5
		}
		triggered_gain = {
			desc = bad_religion
			trigger = {
				OR = {
					religion_group = christian
					religion = hindu
				}
			}
			value = -1
		}
		triggered_gain = {
			desc = bad_religion
			trigger = {
				NOR = {
					religion = shinto
					religion = shugendo
					religion = koshin
					religion = buddhist
					religion = ryukyuan_pagan
					religion = ryukyuan_pagan_reformed
					religion = taoist
					religion = confucian
					religion_group = christian
					religion = hindu
				}
			}
			value = -2
		}
		triggered_gain = {
			desc = mark_of_dishonor
			trigger = {
				has_character_modifier = mark_of_dishonor
			}
			value = -5
		}
		has_trait = {
			trait = cannibal_trait
			value = -5
		}
		has_trait = {
			trait = kinslayer
			value = -4
		}
		has_trait = {
			trait = under_regency
			value = -5
		}
		has_trait = {
			trait = under_regency2
			value = -5
		}
		has_trait = {
			trait = familial_kinslayer
			value = -3
		}
		has_trait = {
			trait = tribal_kinslayer
			value = -2
		}
		has_trait = {
			trait = dynastic_kinslayer
			value = -2
		}
		has_trait = {
			trait = lefthanded
			value = -1
		}
		triggered_gain = {
			desc = has_japanese_feudal_bloodline
			trigger = {
				any_owned_bloodline = {
					has_bloodline_flag = bloodline_japanese_feudal
					bloodline_is_active_for = PREV
				}
			}
			value = 1
		}
		triggered_gain = {
			desc = has_shogunate_bloodline
			trigger = {
				any_owned_bloodline = {
					has_bloodline_flag = shogunate_bloodline
					bloodline_is_active_for = PREV
				}
			}
			value = 1
		}
		triggered_gain = {
			desc = has_the_very_best_bloodline
			trigger = {
				any_owned_bloodline = {
					has_bloodline_flag = the_very_best_bloodline
					bloodline_is_active_for = PREV
				}
			}
			value = 1
		}
		triggered_gain = {
			desc = has_warrior_bands_bloodline
			trigger = {
				any_owned_bloodline = {
					has_bloodline_flag = warrior_bands_bloodline
					bloodline_is_active_for = PREV
				}
			}
			value = 1
		}
		triggered_gain = {
			desc = has_duelist_bloodline
			trigger = {
				any_owned_bloodline = {
					has_bloodline_flag = duelist_bloodline
					bloodline_is_active_for = PREV
				}
			}
			value = 1
		}
	}
	
	member_score_per_attribute = 3
	member_score_per_rank = 250 # Very hierarchal

	member_score = {
		value = 10

		#POSITIVE modifiers
		modifier = {
			trait = hunter
			factor = 1.3
		}
		modifier = {
			trait = strategist
			factor = 1.5
		}
		modifier = {
			trait = duelist
			factor = 1.5
		}
		modifier = {
			trait = misguided_warrior
			factor = 1.1
		}	
		modifier = {
			trait = tough_soldier
			factor = 1.2
		}
    	modifier = {
			trait = skilled_tactician
			factor = 1.4
		}
    	modifier = {
			trait = brilliant_strategist
			factor = 1.6
		}
    	modifier = {
			trait = scarred
			factor = 1.1
		}
		modifier = {
			trait = one_eyed
			factor = 1.1
		}
		modifier = {
			trait = genius
			factor = 1.2
		}
		modifier = {
			trait = quick
			factor = 1.1
		}
		modifier = {
			trait = shrewd
			factor = 1.1
		}
		modifier = {
			trait = strong
			factor = 1.2
		}
		modifier = {
			trait = robust
			factor = 1.1
		}
		modifier = {
			trait = giant
			factor = 1.1
		}
		modifier = {
			trait = falconer
			factor = 1.1
		}
		modifier = {
			trait = proud
			factor = 1.1
		}
		modifier = {
			trait = patient
			factor = 1.1
		}
		modifier = {
			trait = diligent
			factor = 1.1
		}
		modifier = {
			trait = humble
			factor = 1.1
		}
		modifier = {
			trait = brave
			factor = 1.2
		}
		modifier = {
			trait = ambitious
			factor = 1.1
		}
		modifier = {
			trait = stubborn
			factor = 1.1
		}
		modifier = {
			trait = poet
			factor = 1.1
		}
		modifier = {
			trait = varangian
			factor = 1.1
		}
		modifier = {
			tier = duke
			mercenary = no
			factor = 1.1
		}
		modifier = {
			tier = king
			mercenary = no
			NOT = {
				has_landed_title = k_chrysanthemum_throne
			}
			factor = 1.3
		}
		modifier = {
			OR = {
				tier = emperor
				has_landed_title = k_chrysanthemum_throne # Maintain the fiction that they're not a figurehead!
			}
			mercenary = no
			factor = 1.6
		}
		modifier = {
			OR = {
				government = japanese_feudal_government
				government = japanese_imperial_government
			}
			factor = 1.2
		}
		
		modifier = {
			custom_tooltip = {
				text = has_japanese_feudal_bloodline
				any_owned_bloodline = {
					has_bloodline_flag = bloodline_japanese_feudal
					bloodline_is_active_for = PREV
				}
			}
			factor = 1.1
		}
		modifier = {
			custom_tooltip = {
				text = has_shogunate_bloodline
				any_owned_bloodline = {
					has_bloodline_flag = shogunate_bloodline
					bloodline_is_active_for = PREV
				}
			}
			factor = 1.1
		}
		modifier = {
			custom_tooltip = {
				text = has_the_very_best_bloodline
				any_owned_bloodline = {
					has_bloodline_flag = the_very_best_bloodline
					bloodline_is_active_for = PREV
				}
			}
			factor = 1.1
		}
		modifier = {
			custom_tooltip = {
				text = has_warrior_bands_bloodline
				any_owned_bloodline = {
					has_bloodline_flag = warrior_bands_bloodline
					bloodline_is_active_for = PREV
				}
			}
			factor = 1.1
		}
		modifier = {
			custom_tooltip = {
				text = has_duelist_bloodline
				any_owned_bloodline = {
					has_bloodline_flag = duelist_bloodline
					bloodline_is_active_for = PREV
				}
			}
			factor = 1.1
		}
		#NEGATIVE modifiers
		modifier = {
			trait = impaler
			factor = 0.9
		}
		modifier = {
			trait = wroth
			factor = 0.9
		}
		modifier = {
			trait = cruel
			factor = 0.9
		}
		modifier = {
			trait = viking
			factor = 0.9
		}
		modifier = {
			trait = pirate
			factor = 0.9
		}
		modifier = {
			trait = ravager
			factor = 0.9
		}
		modifier = {
			trait = seaking
			factor = 0.9
		}
		modifier = {
			trait = sea_queen
			factor = 0.9
		}
		modifier = {
			trait = shieldmaiden
			factor = 0.9
		}
		modifier = {
			trait = berserker
			factor = 0.9
		}
		modifier = {
			trait = craven
			factor = 0.8
		}
		modifier = {
			trait = weak
			factor = 0.8
		}
		modifier = {
			trait = feeble
			factor = 0.8
		}
		modifier = {
			trait = slothful
			factor = 0.9
		}
		modifier = {
			trait = content
			factor = 0.9
		}
		modifier = {
			trait = dwarf
			factor = 0.8
		}
		modifier = {
			trait = clubfooted
			factor = 0.8
		}
		modifier = {
			trait = hunchback
			factor = 0.8
		}
		modifier = {
			trait = deceitful
			factor = 0.9
		}
		modifier = {
			trait = schemer
			factor = 0.8
		}
		modifier = {
			is_female = yes # You won't have an easy time as a woman!
			factor = 0.5
		}
		modifier = {
			trait = under_regency
			factor = 0.5
		}
		modifier = {
			trait = under_regency2
			factor = 0.5
		}
		modifier = {
    		factor = 0.8
			intrigue = 10
    	}
		modifier = {
    		factor = 0.8
			intrigue = 20
    	}
		modifier = {
    		factor = 0.8
			intrigue = 30
    	}
		modifier = {
    		factor = 0.9
			culture = wako
    	}
		modifier = {
    		factor = 0.8
			culture_group = japonic
			NOR = {
				culture = yamato
				culture = japanese
				culture = wako
			}
    	}
		modifier = {
    		factor = 0.5
			NOT = {
				culture_group = japonic
			}
    	}
		modifier = {
    		factor = 0.9
			OR = {
				religion = ryukyuan_pagan
				religion = ryukyuan_pagan_reformed
				religion = taoist
				religion = confucian
			}
    	}
		modifier = {
    		factor = 0.8
			culture_group = japonic
			OR = {
				religion_group = christian
				religion = hindu
			}
    	}
		modifier = {
    		factor = 0.5
			NOR = {
				religion = shinto
				religion = shugendo
				religion = koshin
				religion = buddhist
				religion = ryukyuan_pagan
				religion = ryukyuan_pagan_reformed
				religion = taoist
				religion = confucian
				religion_group = christian
				religion = hindu
			}
    	}
		modifier = {
			trait = cannibal_trait
			factor = 0.1
		}
		modifier = {
			trait = kinslayer
			factor = 0.75
		}
		modifier = {
			trait = familial_kinslayer
			factor = 0.8
		}
		modifier = {
			trait = tribal_kinslayer
			factor = 0.85
		}
		modifier = {
			trait = dynastic_kinslayer
			factor = 0.85
		}
		modifier = {
			trait = lefthanded
			factor = 0.9
		}
		modifier = {
			factor = 0.1
			has_character_modifier = mark_of_dishonor
		}
		modifier = {
			factor = 0.01
			mercenary = yes # Mercs shouldn't easily gain higher ranks
		}
	}

	startup_populate = {
	    trigger = {
			ai = yes
			is_adult = yes
			is_in_society = no
			OR = {
				martial = 12
				has_lifestyle_martial_trigger = yes
				has_education_martial_trigger = yes
				trait = japanese_feudal_trait
			}
			OR = {
				religion = shinto
				religion = shugendo
				religion = koshin
				AND = {
					culture_group = japonic
					religion = buddhist
				}
			}
			controls_religion = no
			is_ascetic_trigger = no
			is_feudal = yes
			is_female = no # Women in the society should be very rare
		}
	}
}

monastic_order_japanese = {
	primary_attribute = diplomacy
	is_religious = yes
	opinion_to_other_members = +10
	opinion_per_rank_above = +5
	sound = monastic_orders_indian_interface
	society_ranks_gfx = monk_ranks
	society_influence = no
	non_interference = {
		always = yes
	}
	
	active = {
		has_dlc = "Mystics"
	}
	indestructible = yes

	can_join_society = {
		hidden_trigger = {
			NAND = {
				ai = yes
				is_society_rank_full = { 
					society = monastic_order_japanese
					rank = 1
				}
			}
		}
		age = 16
		OR = {
			religion = shinto
			religion = shugendo
			religion = koshin
			AND = {
				religion = buddhist
				culture_group = japonic
			}
		}
		custom_tooltip = {
			text = did_not_betray_society
			NOT = { has_character_flag = betrayed_monastic_order_japanese }
		}
		scaled_wealth = 0.25
		hidden_trigger = {
			NOT = { has_character_flag = society_join_block }
		}
		trigger_if = {
			limit = { prisoner = yes }
			prisoner = no
		}
	}

	show_society = {
		OR = {
			religion = shinto
			religion = shugendo
			religion = koshin
			AND = {
				religion = buddhist
				culture_group = japonic
			}
			society_member_of = monastic_order_japanese
		}
	}

	potential = {
		OR = {
			religion = shinto
			religion = shugendo
			religion = koshin
			religion = buddhist # You don't get kicked out if you convert culture
		}
	}

	society_rank = {
		level = 1
		limit = 50 
		startup_limit = 10
		modifier = {
			monthly_character_piety = 0.05
			fertility = -0.15
		}
		custom_tooltip = monastic_order_japanese_lose_bad_traits
	}
	
	society_rank = {
		level = 2
		limit = 20
		startup_limit = 6
		modifier = { 
			monthly_character_piety = 0.1
			diplomacy = 1
			fertility = -0.15
		}
		decisions = {
			monastic_orders_go_celibate #Power: toggle celibacy
			monastic_orders_stop_celibate
			monastic_orders_spiritual_guidance
		}
	}
	
	society_rank = {
		level = 3
		limit = 10 
		startup_limit = 3
		modifier = {
			monthly_character_piety = 0.2
			diplomacy = 2
			build_cost_temple_modifier = -0.25
			fertility = -0.15
		}
		decisions = {
			#monastic_orders_invite_ascetic
			monastic_orders_teach_virtue
			monastic_order_become_japanese_monastic_feudal
			monastic_order_sohei_training
		}
	}

	society_rank = {
		level = 4
		limit = 5
		startup_limit = 1
		modifier = { 
			monthly_character_piety = 0.5
			diplomacy = 3
			build_cost_temple_modifier = -0.5
			fertility = -0.15
		}
		decisions = {
			monastic_order_make_shinto_approve
			monastic_order_make_buddhist_approve
			monastic_order_make_shugendo_approve
			monastic_order_make_koshin_approve
		}
	}

	monthly_currency_gain = {
		name = currency_name_monastic_order_buddhist
    	
		per_attribute = {
    		name = diplomacy
    		value = 0.5
    	}
		has_trait = {
			trait = content
			value = 3
		}
		has_trait = {
			trait = kind
			value = 3
		}
		has_trait = {
			trait = patient
			value = 3
		}
		has_trait = {
			trait = diligent
			value = 1
		}
		has_trait = {
			trait = temperate
			value = 1
		}
		has_trait = {
			trait = charitable
			value = 1
		}
		has_trait = {
			trait = humble
			value = 1
		}
		has_trait = {
			trait = chaste
			value = 1
		}
		has_trait = {
			trait = celibate
			value = 1
		}
		has_trait = {
			trait = honest
			value = 1
		}
		has_trait = {
			trait = theologian
			value = 1
		}
		has_trait = {
			trait = japanese_monastic_trait
			value = 5
		}
		has_trait = {
			trait = imperial_priestess
			value = 5
		}
		society_rank = {
			rank = 4
			value = 10
		}
		has_trait = {
			trait = amaterasu_descendant
			value = 1.5
		}
		triggered_gain = {
			desc = shinto
			trigger = {
				religion = shinto
			}
			value = 2
		}
		triggered_gain = {
			desc = is_the_tenno
			trigger = {
				religion = shinto
				controls_religion = yes
			}
			value = 10
		}
		has_trait = {
			trait = indian_pilgrim
			value = 1
		}
		triggered_gain = {
			desc = is_jimmus_descendant
			trigger = {
				any_owned_bloodline = {
					has_bloodline_flag = imperial_family
					bloodline_is_active_for = PREV
				}
			}
			value = 1
		}
	}

	member_score_per_attribute = 3
	member_score_per_rank = 100

	member_score = {
		value = 10

		modifier = {
			is_priest = yes
			factor = 10
		}
		modifier = {
			trait = content
			factor = 1.3
		}
		modifier = {
			trait = kind
			factor = 1.3
		}
		modifier = {
			trait = patient
			factor = 1.3
		}
		modifier = {
			trait = diligent
			factor = 1.1
		}
		modifier = {
			trait = temperate
			factor = 1.1
		}
		modifier = {
			trait = charitable
			factor = 1.1
		}
		modifier = {
			trait = humble
			factor = 1.1
		}
		modifier = {
			trait = chaste
			factor = 1.1
		}
		modifier = {
			trait = celibate
			factor = 1.1
		}
		modifier = {
			trait = honest
			factor = 1.1
		}
		modifier = {
			trait = theologian
			factor = 1.1
		}
		modifier = {
			trait = amaterasu_descendant
			factor = 1.1
		}
		modifier = {
			trait = japanese_monastic_trait
			factor = 1.5
		}
		modifier = {
			trait = imperial_priestess
			factor = 1.5
		}
		modifier = {
			religion = shinto
			factor = 1.5
		}
		modifier = {
			religion = shinto
			controls_religion = yes
			factor = 20
		}
		modifier = {
			trait = indian_pilgrim
			factor = 1.1
		}
		modifier = {
			custom_tooltip = {
				text = is_jimmus_descendant
				any_owned_bloodline = {
					has_bloodline_flag = imperial_family
					bloodline_is_active_for = PREV
				}
			}
			factor = 1.5
		}
	}
	
	startup_populate = {
	    trigger = {
			ai = yes
	    	OR = {
				religion = shinto
				religion = shugendo
				religion = koshin
				religion = buddhist
			}
			age = 16
			is_in_society = no
			NOT = { higher_tier_than = DUKE }
			NOR = {
				mercenary = yes
				holy_order = yes
			}
			NOT = { trait = cynical }
			has_secret_religion_trait_trigger = no
			OR = {
				trait = zealous
				trait = scholar
				trait = theologian
				trait = japanese_monastic_trait
				trait = imperial_priestess
				controls_religion = yes
				learning = 16
				is_priest = yes
			}
			culture_group = japonic
		}
	}
}

hwarang = {
	primary_attribute = martial # It'll not be a wholly military society, but...
	opinion_to_other_members = +10
	opinion_per_rank_above = +5
	sound = monastic_orders_indian_interface
	society_ranks_gfx = monk_ranks
	society_influence = yes # There's a hierarchy
	society_rank_up_decision = request_to_rank_up_hwarang
	
	non_interference = {
		always = yes # We're all friends here!
	}
	
	active = {
		has_global_flag = hwarang_active
	}
	
	indestructible = yes
	
	can_join_society = {
		is_nomadic = no # Go join the nomadic WL instead!
		hidden_trigger = {
			NAND = {
				ai = yes
				is_society_rank_full = { 
					society = hwarang
					rank = 1
				}
			}
		}
		age = 12
		hidden_tooltip = {
			OR = {
				ai = no
				NOT = {
					has_character_modifier = not_interested_in_hwarang # Added to a child you fail to recruit, to prevent spamming
				}
			}
			OR = {
				ai = no
				NOT = {
					age = 30 # Fairly high, but it's probably not good to be too restrictive
				}
			}
		}
		# There's no initiation duel, so no need to check for that
		custom_tooltip = {
			text = did_not_betray_society
			NOT = { has_character_flag = betrayed_hwarang } # No leaving and re-joining!
		}
		hidden_trigger = {
			NOT = { has_character_flag = society_join_block }
		}
		trigger_if = {
			limit = { prisoner = yes }
			prisoner = no
		}
		OR = {
			AND = {
				culture_group = koreanic
				OR = { # Founded on Buddhist and Daotic and Confucian principles
					religion = buddhist
					religion = taoist
					religion = confucian
				}
			}
			# Muists get this society as it seems like a better fit than a WL
			religion = korean_pagan
			religion = korean_pagan_reformed
		}
		custom_tooltip = {
			text = is_not_an_ex_hwarang
			NAND = {
				OR = {
					AND = { # The AI is never allowed to rejoin
						has_character_flag = hwarang_ai_leave
						ai = yes
					}
					has_character_flag = hwarang_player_leave # The player can rejoin if their character previously left while AI-controlled
				}
			}
		}
	}
	

	show_society = {
		OR = {
			AND = {
				culture_group = koreanic
				OR = { # Founded on Buddhist and Daotic and Confucian principles
					religion = buddhist
					religion = taoist
					religion = confucian
				}
			}
			# Muists get this society as it seems like a better fit than a WL
			religion = korean_pagan
			religion = korean_pagan_reformed
		}
	}

	potential = {
		OR = {
			AND = {
				culture_group = koreanic # Koreanic characters that convert to foreign cultures should probably not remain...
				OR = { # Founded on Buddhist and Daotic and Confucian principles
					religion = buddhist
					religion = taoist
					religion = confucian
				}
			}
			# Muists get this society as it seems like a better fit than a WL
			religion = korean_pagan
			religion = korean_pagan_reformed
		}
	}
	
	society_rank = { # Nangdo
		level = 1
		limit = 100 
		startup_limit = 50
		modifier = {
			koreanic_opinion = 5
		}
		powers = {
			hwarang_personal_grooming # Can lose Uncouth/become Groomed for a small amount of currency
			hwarang_seek_spiritual_guidance # Try to get a theocracy vassal/ascetic/high Learning character with suitable education to help you become a better person
			hwarang_cash_out # Exchange society currency for piety and prestige and leave the society
		}
	}
	
	society_rank = { # Hwarang/Wonhwa
		level = 2
		limit = 50
		startup_limit = 15
		modifier = {
			koreanic_opinion = 5
			vassal_opinion = 5
			martial = 1
		}		
		powers = {
			hwarang_inspire_loyalty # Make a vassal like you more
			hwarang_organize_patrols # Lower revolt risk in a province
			hwarang_reflect_on_traits # Attempt to better yourself (i.e. lose vices/bad traits or gain virtues/good traits)
		}
	}
	
	society_rank = { # Pung-wolju
		level = 3
		limit = 5
		startup_limit = 5
		modifier = {
			koreanic_opinion = 10
			vassal_opinion = 5
			martial = 2
		}
		powers = {
			hwarang_nap # Can sign an NAP with another Hwarang or a vassal
			hwarang_lifestyle # Can select a suitable lifestyle
			hwarang_demand_leadership # Can become the new society leader if the current one is unsuitable
		}
	}

	society_rank = { # Gukseon
		level = 4
		limit = 1
		startup_limit = 1
		modifier = {
			koreanic_opinion = 10
			vassal_opinion = 5
			dynasty_opinion = 5
			martial = 2
			global_revolt_risk = -0.04 # Half of the Buddhist MO, but still very powerful
		}
		powers = {
			hwarang_raise_righteous_army # Spawn event troops
			hwarang_discourage_factions # Reduce faction willingness for society currency
		}
		obedience_tooltip = obedience_tooltip #this can be unique per rank/society 
		obedient = {
			FROM = {
				NOR = {
					war_with = ROOT
					AND = {
						independent = yes
						higher_tier_than = ROOT
					}
					is_liege_or_above = ROOT # Obey your superiors!
					controls_religion = yes # If there's a Muist rel head, they'll not obey
					any_rival = {
						character = ROOT
					}
				}
			}
		}
	}
	
	monthly_currency_gain = {
		name = currency_name_hwarang # Flower Power? Probably not, as something more serious seems better...
    	
		per_attribute = {
    		name = martial
    		value = 0.1 # Lower than normal base gain as you also can gain credit from other attributes
    	}
		per_attribute = {
    		name = diplomacy
    		value = 0.05
    	}
		per_attribute = {
    		name = stewardship
    		value = 0.05
    	}
		per_attribute = {
    		name = learning
    		value = 0.05
    	}
		has_trait = {
			trait = affectionate # Content, Kind, Trusting, Charitable - all good outcomes
			value = 2
		}
		has_trait = {
			trait = playful # Deceitful, Gregarious, Lunatic, Cruel - only Gregarious is a good outcome
			value = -1
		}
		has_trait = {
			trait = haughty # Arbitrary, Cruel, Groomed, Proud, Ambitious - Groomed is good, but not the rest
			value = -1
		}
		has_trait = {
			trait = rowdy # Brawny, Dull, Honest, Uncouth, Brave - while Brave and Honest are good, Dull and Uncouth are really bad
			value = -1
		}
		has_trait = {
			trait = conscientious # Diligent, Temperate, Just - all good
			value = 2
		}
		has_trait = {
			trait = fussy # Greedy, Paranoid, Patient, Diligent - half-and-half, and the bad ones are kind of bad
			value = -1
		}
		has_trait = {
			trait = brooding # Envious, Just, Uncouth, Wroth, Temperate - more bad than not
			value = -1
		}
		has_trait = {
			trait = indolent # Charitable, Gluttonous, Groomed, Slothful, Sturdy, Gregarious - more good than bad
			value = 1
		}
		has_trait = {
			trait = willful # Ambitious, Brave, Stubborn, Proud - more bad than good
			value = -1
		}
		has_trait = {
			trait = curious # Cynical, Shrewd, Sympathy, Patient - Cynical is bad, Sympathy is neutral, the rest are good
			value = 1
		}
		has_trait = {
			trait = idolizer # Erudite, Frail, Zealous, Kind - Frail isn't great, but the rest are good
			value = 2
		}
		has_trait = {
			trait = timid # Craven, Humble, Shy, Content - more bad than good
			value = -1
		}
		has_trait = {
			trait = depressed
			value = -1
		}
		has_trait = {
			trait = drunkard
			value = -2
		}
		has_trait = {
			trait = incapable
			value = -5
		}
		has_trait = {
			trait = infirm
			value = -2
		}
		has_trait = {
			trait = lunatic
			value = -2
		}
		has_trait = {
			trait = possessed
			value = -2
		}
		has_trait = {
			trait = stressed
			value = -1
		}
		has_trait = {
			trait = wounded
			value = -0.5
		}
		has_trait = {
			trait = scarred
			value = -0.1
		}
		has_trait = {
			trait = scarred_mid
			value = -0.2
		}
		has_trait = {
			trait = scarred_high
			value = -0.5
		}
		has_trait = {
			trait = maimed
			value = -2
		}
		has_trait = {
			trait = immortal
			value = 10
		}
		has_trait = {
			trait = physician
			value = 1
		}
		has_trait = {
			trait = is_fat
			value = -2
		}
		has_trait = {
			trait = is_malnourished
			value = -2
		}
		has_trait = {
			trait = disfigured
			value = -5
		}
		has_trait = {
			trait = mangled
			value = -2
		}
		has_trait = {
			trait = one_eyed
			value = -1
		}
		has_trait = {
			trait = one_handed
			value = -1
		}
		has_trait = {
			trait = one_legged
			value = -1
		}
		has_trait = {
			trait = severely_injured
			value = -1
		}
		has_trait = {
			trait = bastard
			value = -2
		}
		has_trait = {
			trait = legit_bastard
			value = -1
		}
		has_trait = {
			trait = fair
			value = 5
		}
		has_trait = {
			trait = genius
			value = 3
		}
		has_trait = {
			trait = quick
			value = 2
		}
		has_trait = {
			trait = strong
			value = 1
		}
		has_trait = {
			trait = clubfooted
			value = -1
		}
		has_trait = {
			trait = dwarf
			value = -1
		}
		has_trait = {
			trait = harelip
			value = -2
		}
		has_trait = {
			trait = hunchback
			value = -2
		}
		has_trait = {
			trait = imbecile
			value = -3
		}
		has_trait = {
			trait = inbred
			value = -5
		}
		has_trait = {
			trait = lisp
			value = -1
		}
		has_trait = {
			trait = slow
			value = -2
		}
		has_trait = {
			trait = stutter
			value = -1
		}
		has_trait = {
			trait = ugly
			value = -5
		}
		has_trait = {
			trait = weak
			value = -1
		}
		has_trait = {
			trait = giant
			value = -1
		}
		has_trait = {
			trait = lefthanded
			value = -1
		}
		has_trait = {
			trait = robust
			value = 1
		}
		has_trait = {
			trait = sturdy
			value = 1
		}
		has_trait = {
			trait = feeble
			value = -1
		}
		has_trait = {
			trait = shrewd
			value = 2
		}
		has_trait = {
			trait = dull
			value = -2
		}
		has_trait = {
			trait = groomed
			value = 3
		}
		has_trait = {
			trait = uncouth
			value = -3
		}
		has_trait = {
			trait = administrator
			value = 1
		}
		has_trait = {
			trait = architect
			value = 0.5
		}
		has_trait = {
			trait = duelist
			value = 0.5
		}
		has_trait = {
			trait = gamer # Must of course be a thing for a Korean society, even if it's not *that* kind of gamer...
			value = 1
		}
		has_trait = {
			trait = gardener
			value = 0.5
		}
		has_trait = {
			trait = hedonist
			value = -2
		}
		has_trait = {
			trait = hunter
			value = 0.5
		}
		has_trait = {
			trait = impaler
			value = -2
		}
		has_trait = {
			trait = schemer
			value = -2
		}
		has_trait = {
			trait = seducer
			value = -2
		}
		has_trait = {
			trait = seductress
			value = -2
		}
		has_trait = {
			trait = mystic
			value = 0.5
		}
		has_trait = {
			trait = scholar
			value = 1
		}
		has_trait = {
			trait = socializer
			value = 1
		}
		has_trait = {
			trait = strategist
			value = 1
		}
		has_trait = {
			trait = theologian
			value = 1
		}
		has_trait = {
			trait = chaste
			value = 1
		}
		has_trait = {
			trait = temperate
			value = 1
		}
		has_trait = {
			trait = charitable
			value = 1
		}
		has_trait = {
			trait = diligent
			value = 2
		}
		has_trait = {
			trait = patient
			value = 2
		}
		has_trait = {
			trait = kind
			value = 2
		}
		has_trait = {
			trait = humble
			value = 2
		}
		has_trait = {
			trait = lustful
			value = -2
		}
		has_trait = {
			trait = gluttonous
			value = -2
		}
		has_trait = {
			trait = greedy
			value = -2
		}
		has_trait = {
			trait = slothful
			value = -2
		}
		has_trait = {
			trait = wroth
			value = -2
		}
		has_trait = {
			trait = envious
			value = -2
		}
		has_trait = {
			trait = proud
			value = -1
		}
		has_trait = {
			trait = ambitious # It's not all bad, but it's not a mark of a good and loyal vassal...
			value = -1
		}
		has_trait = {
			trait = arbitrary
			value = -2
		}
		has_trait = {
			trait = brave
			value = 2
		}
		has_trait = {
			trait = content
			value = 2
		}
		has_trait = {
			trait = craven
			value = -2
		}
		has_trait = {
			trait = cruel
			value = -2
		}
		has_trait = {
			trait = cynical
			value = -2
		}
		has_trait = {
			trait = deceitful
			value = -2
		}
		has_trait = {
			trait = erudite
			value = 2
		}
		has_trait = {
			trait = gregarious
			value = 2
		}
		has_trait = {
			trait = honest
			value = 2
		}
		has_trait = {
			trait = just
			value = 2
		}
		has_trait = {
			trait = paranoid
			value = -2
		}
		has_trait = {
			trait = shy
			value = -1
		}
		has_trait = {
			trait = stubborn
			value = -1
		}
		has_trait = {
			trait = trusting
			value = 2
		}
		has_trait = {
			trait = zealous # Not bad, but it might make cooperation between relevant religions an issue...
			value = 1
		}
		has_trait = {
			trait = inspiring_leader
			value = 1
		}
		has_trait = {
			trait = unyielding_leader
			value = 1
		}
		has_trait = {
			trait = indian_pilgrim # Good, but not as good as for an MO
			value = 0.5
		}
		has_trait = {
			trait = sympathy_indian
			value = 0.5
		}
		has_trait = {
			trait = sympathy_pagans
			value = 0.5
		}
		has_trait = {
			trait = kinslayer
			value = -4
		}
		has_trait = {
			trait = familial_kinslayer
			value = -3
		}
		has_trait = {
			trait = dynastic_kinslayer
			value = -2
		}	
		triggered_gain = {
			desc = is_a_woman
			trigger = {
				is_female = yes
				society_rank == 1
				NOR = {
					has_religion_feature = religion_equal
					has_religion_feature = religion_matriarchal
				}
			}
			value = -5
		}
		triggered_gain = {
			desc = is_a_woman
			trigger = {
				is_female = yes
				society_rank == 2
				NOR = {
					has_religion_feature = religion_equal
					has_religion_feature = religion_matriarchal
				}
			}
			value = -4
		}
		triggered_gain = {
			desc = is_a_woman
			trigger = {
				is_female = yes
				society_rank == 3
				NOR = {
					has_religion_feature = religion_equal
					has_religion_feature = religion_matriarchal
				}
			}
			value = -3
		}
		triggered_gain = {
			desc = is_a_woman
			trigger = {
				is_female = yes
				society_rank == 4
				NOR = {
					has_religion_feature = religion_equal
					has_religion_feature = religion_matriarchal
				}
			}
			value = -2
		}
		has_trait = {
			trait = cannibal_trait
			value = -5
		}
		has_trait = {
			trait = blinded
			value = -2
		}
		has_trait = {
			trait = eunuch
			value = -2
		}
		triggered_gain = {
			desc = is_a_duke
			trigger = {
				tier = duke
				mercenary = no
			}
			value = 0.5
		}
		triggered_gain = {
			desc = is_a_king
			trigger = {
				tier = king
				mercenary = no
			}
			value = 1
		}
		triggered_gain = {
			desc = is_an_emperor
			trigger = {
				tier = emperor
				mercenary = no
			}
			value = 2
		}
		triggered_gain = {
			desc = youngling
			trigger = {
				is_adult = no
			}
			value = 1
		}
		triggered_gain = {
			desc = age_30
			trigger = {
				age = 30
				NOT = {
					age = 35
				}
			}
			value = -1
		}
		triggered_gain = {
			desc = age_35
			trigger = {
				age = 35
				NOT = {
					age = 40
				}
			}
			value = -2
		}
		triggered_gain = {
			desc = age_40
			trigger = {
				age = 40
				NOT = {
					age = 45
				}
			}
			value = -3
		}
		triggered_gain = {
			desc = age_45
			trigger = {
				age = 45
				NOT = {
					age = 50
				}
			}
			value = -4
		}
		triggered_gain = {
			desc = age_50
			trigger = {
				age = 50
				NOT = {
					age = 55
				}
			}
			value = -5
		}
		triggered_gain = {
			desc = age_55
			trigger = {
				age = 55
				NOT = {
					age = 60
				}
			}
			value = -6
		}
		triggered_gain = {
			desc = age_60
			trigger = {
				age = 60
				NOT = {
					age = 65
				}
			}
			value = -7
		}
		triggered_gain = {
			desc = age_65
			trigger = {
				age = 65
				NOT = {
					age = 70
				}
			}
			value = -8
		}
		triggered_gain = {
			desc = age_70
			trigger = {
				age = 70
				NOT = {
					age = 75
				}
			}
			value = -9
		}
		triggered_gain = {
			desc = age_75
			trigger = {
				age = 75
				NOT = {
					age = 80
				}
			}
			value = -10
		}
		triggered_gain = {
			desc = age_80
			trigger = {
				age = 80
				NOT = {
					age = 85
				}
			}
			value = -11
		}
		triggered_gain = {
			desc = age_85
			trigger = {
				age = 85
				NOT = {
					age = 90
				}
			}
			value = -12
		}
		triggered_gain = {
			desc = age_90
			trigger = {
				age = 90
				NOT = {
					age = 95
				}
			}
			value = -13
		}
		triggered_gain = {
			desc = age_95
			trigger = {
				age = 95
				NOT = {
					age = 100
				}
			}
			value = -14
		}
		triggered_gain = {
			desc = age_100
			trigger = {
				age = 100
			}
			value = -15
		}
		triggered_gain = {
			desc = has_hwarang_bloodline
			trigger = {
				any_owned_bloodline = {
					has_bloodline_flag = hwarang_bloodline
					bloodline_is_active_for = PREV
				}
			}
			value = 1
		}
	}
	
	member_score_per_attribute = 1
	member_score_per_rank = 250 # Very hierarchal
	
	member_score = {
		value = 10
		
		modifier = {
			factor = 0.001 # A child shall not lead them!
			is_adult = no
		}
		modifier = {
			trait = affectionate # Content, Kind, Trusting, Charitable - all good outcomes
			factor = 1.1
		}
		modifier = {
			trait = playful # Deceitful, Gregarious, Lunatic, Cruel - only Gregarious is a good outcome
			factor = 0.9
		}
		modifier = {
			trait = haughty # Arbitrary, Cruel, Groomed, Proud, Ambitious - Groomed is good, but not the rest
			factor = 0.9
		}
		modifier = {
			trait = rowdy # Brawny, Dull, Honest, Uncouth, Brave - while Brave and Honest are good, Dull and Uncouth are really bad
			factor = 0.9
		}
		modifier = {
			trait = conscientious # Diligent, Temperate, Just - all good
			factor = 1.5
		}
		modifier = {
			trait = fussy # Greedy, Paranoid, Patient, Diligent - half-and-half, and the bad ones are kind of bad
			factor = 0.9
		}
		modifier = {
			trait = brooding # Envious, Just, Uncouth, Wroth, Temperate - more bad than not
			factor = 0.9
		}
		modifier = {
			trait = indolent # Charitable, Gluttonous, Groomed, Slothful, Sturdy, Gregarious - more good than bad
			factor = 1.1
		}
		modifier = {
			trait = willful # Ambitious, Brave, Stubborn, Proud - more bad than good
			factor = 0.9
		}
		modifier = {
			trait = curious # Cynical, Shrewd, Sympathy, Patient - Cynical is bad, Sympathy is neutral, the rest are good
			factor = 1.1
		}
		modifier = {
			trait = idolizer # Erudite, Frail, Zealous, Kind - Frail isn't great, but the rest are good
			factor = 1.5
		}
		modifier = {
			trait = timid # Craven, Humble, Shy, Content - more bad than good
			factor = 0.9
		}
		modifier = {
			trait = depressed
			factor = 0.9
		}
		modifier = {
			trait = drunkard
			factor = 0.5
		}
		modifier = {
			trait = incapable
			factor = 0.1
		}
		modifier = {
			trait = infirm
			factor = 0.8
		}
		modifier = {
			trait = lunatic
			factor = 0.8
		}
		modifier = {
			trait = possessed
			factor = 0.8
		}
		modifier = {
			trait = stressed
			factor = 0.9
		}
		modifier = {
			trait = immortal
			factor = 2
		}
		modifier = {
			trait = physician
			factor = 1.1
		}
		modifier = {
			trait = is_fat
			factor = 0.8
		}
		modifier = {
			trait = is_malnourished
			factor = 0.8
		}
		modifier = {
			trait = disfigured
			factor = 0.1
		}
		modifier = {
			trait = mangled
			factor = 0.5
		}
		modifier = {
			trait = one_eyed
			factor = 0.9
		}
		modifier = {
			trait = one_handed
			factor = 0.9
		}
		modifier = {
			trait = one_legged
			factor = 0.9
		}
		modifier = {
			trait = severely_injured
			factor = 0.9
		}
		modifier = {
			trait = bastard
			factor = 0.8
		}
		modifier = {
			trait = legit_bastard
			factor = 0.9
		}
		modifier = {
			trait = fair
			factor = 5
		}
		modifier = {
			trait = genius
			factor = 2
		}
		modifier = {
			trait = quick
			factor = 1.5
		}
		modifier = {
			trait = strong
			factor = 1.1
		}
		modifier = {
			trait = clubfooted
			factor = 0.9
		}
		modifier = {
			trait = dwarf
			factor = 0.9
		}
		modifier = {
			trait = harelip
			factor = 0.8
		}
		modifier = {
			trait = hunchback
			factor = 0.8
		}
		modifier = {
			trait = imbecile
			factor = 0.5
		}
		modifier = {
			trait = inbred
			factor = 0.1
		}
		modifier = {
			trait = lisp
			factor = 0.9
		}
		modifier = {
			trait = slow
			factor = 0.8
		}
		modifier = {
			trait = stutter
			factor = 0.9
		}
		modifier = {
			trait = ugly
			factor = 0.1
		}
		modifier = {
			trait = weak
			factor = 0.9
		}
		modifier = {
			trait = giant
			factor = 0.9
		}
		modifier = {
			trait = lefthanded
			factor = 0.9
		}
		modifier = {
			trait = robust
			factor = 1.1
		}
		modifier = {
			trait = sturdy
			factor = 1.1
		}
		modifier = {
			trait = feeble
			factor = 0.9
		}
		modifier = {
			trait = shrewd
			factor = 1.5
		}
		modifier = {
			trait = dull
			factor = 0.5
		}
		modifier = {
			trait = groomed
			factor = 2
		}
		modifier = {
			trait = uncouth
			factor = 0.25
		}
		modifier = {
			trait = administrator
			factor = 1.2
		}
		modifier = {
			trait = architect
			factor = 1.1
		}
		modifier = {
			trait = duelist
			factor = 1.1
		}
		modifier = {
			trait = gamer # Must of course be a thing for a Korean society, even if it's not *that* kind of gamer...
			factor = 1.2
		}
		modifier = {
			trait = gardener
			factor = 1.1
		}
		modifier = {
			trait = hedonist
			factor = 0.5
		}
		modifier = {
			trait = hunter
			factor = 1.1
		}
		modifier = {
			trait = impaler
			factor = 0.5
		}
		modifier = {
			trait = schemer
			factor = 0.5
		}
		modifier = {
			trait = seducer
			factor = 0.5
		}
		modifier = {
			trait = seductress
			factor = 0.5
		}
		modifier = {
			trait = mystic
			factor = 1.1
		}
		modifier = {
			trait = scholar
			factor = 1.2
		}
		modifier = {
			trait = socializer
			factor = 1.2
		}
		modifier = {
			trait = strategist
			factor = 1.2
		}
		modifier = {
			trait = theologian
			factor = 1.2
		}
		modifier = {
			trait = chaste
			factor = 1.1
		}
		modifier = {
			trait = temperate
			factor = 1.1
		}
		modifier = {
			trait = charitable
			factor = 1.1
		}
		modifier = {
			trait = diligent
			factor = 1.5
		}
		modifier = {
			trait = patient
			factor = 1.5
		}
		modifier = {
			trait = kind
			factor = 1.5
		}
		modifier = {
			trait = humble
			factor = 1.5
		}
		modifier = {
			trait = lustful
			factor = 0.5
		}
		modifier = {
			trait = gluttonous
			factor = 0.5
		}
		modifier = {
			trait = greedy
			factor = 0.5
		}
		modifier = {
			trait = slothful
			factor = 0.5
		}
		modifier = {
			trait = wroth
			factor = 0.5
		}
		modifier = {
			trait = envious
			factor = 0.5
		}
		modifier = {
			trait = proud
			factor = 0.9
		}
		modifier = {
			trait = ambitious # It's not all bad, but it's not a mark of a good and loyal vassal...
			factor = 0.9
		}
		modifier = {
			trait = arbitrary
			factor = 0.5
		}
		modifier = {
			trait = brave
			factor = 1.5
		}
		modifier = {
			trait = content
			factor = 1.5
		}
		modifier = {
			trait = craven
			factor = 0.5
		}
		modifier = {
			trait = cruel
			factor = 0.5
		}
		modifier = {
			trait = cynical
			factor = 0.5
		}
		modifier = {
			trait = deceitful
			factor = 0.5
		}
		modifier = {
			trait = erudite
			factor = 1.5
		}
		modifier = {
			trait = gregarious
			factor = 1.5
		}
		modifier = {
			trait = honest
			factor = 1.5
		}
		modifier = {
			trait = just
			factor = 1.5
		}
		modifier = {
			trait = paranoid
			factor = 0.5
		}
		modifier = {
			trait = shy
			factor = 0.9
		}
		modifier = {
			trait = stubborn
			factor = 0.9
		}
		modifier = {
			trait = trusting
			factor = 1.5
		}
		modifier = {
			trait = zealous # Not bad, but it might make cooperation between relevant religions an issue...
			factor = 1.2
		}
		modifier = {
			trait = inspiring_leader
			factor = 1.5
		}
		modifier = {
			trait = unyielding_leader
			factor = 1.5
		}
		modifier = {
			trait = indian_pilgrim # Good, but not as good as for an MO
			factor = 1.1
		}
		modifier = {
			trait = sympathy_indian
			factor = 1.1
		}
		modifier = {
			trait = sympathy_pagans
			factor = 1.1
		}
		modifier = {
			trait = kinslayer
			factor = 0.1
		}
		modifier = {
			trait = familial_kinslayer
			factor = 0.25
		}
		modifier = {
			trait = dynastic_kinslayer
			factor = 0.5
		}	
		modifier = {
			is_female = yes
			society_rank == 1
			NOR = {
				has_religion_feature = religion_equal
				has_religion_feature = religion_matriarchal
			}
			factor = 0.1
		}	
		modifier = {
			is_female = yes
			society_rank == 2
			NOR = {
				has_religion_feature = religion_equal
				has_religion_feature = religion_matriarchal
			}
			factor = 0.25
		}	
		modifier = {
			is_female = yes
			society_rank == 3
			NOR = {
				has_religion_feature = religion_equal
				has_religion_feature = religion_matriarchal
			}
			factor = 0.5
		}	
		modifier = {
			is_female = yes
			society_rank == 4
			NOR = {
				has_religion_feature = religion_equal
				has_religion_feature = religion_matriarchal
			}
			factor = 0.9
		}
		modifier = {
			trait = cannibal_trait
			factor = 0.1
		}
		modifier = {
			trait = blinded
			factor = 0.5
		}
		modifier = {
			trait = eunuch
			factor = 0.5
		}
		modifier = {
			age = 30
			NOT = {
				age = 40
			}
			factor = 0.8
		}
		modifier = {
			age = 40
			NOT = {
				age = 50
			}
			factor = 0.7
		}
		modifier = {
			age = 50
			NOT = {
				age = 60
			}
			factor = 0.6
		}
		modifier = {
			age = 60
			NOT = {
				age = 70
			}
			factor = 0.5
		}
		modifier = {
			age = 70
			NOT = {
				age = 80
			}
			factor = 0.4
		}
		modifier = {
			age = 80
			NOT = {
				age = 90
			}
			factor = 0.3
		}
		modifier = {
			age = 90
			NOT = {
				age = 100
			}
			factor = 0.2
		}
		modifier = {
			age = 100
			factor = 0.1
		}
		modifier = {
			factor = 0.01
			mercenary = yes # Mercs shouldn't easily gain higher ranks
		}
		modifier = {
			factor = 1.1
			custom_tooltip = {
				text = has_hwarang_bloodline
				any_owned_bloodline = {
					has_bloodline_flag = hwarang_bloodline
					bloodline_is_active_for = PREV
				}
			}
		}
	}

	startup_populate = {
	    trigger = {
			ai = yes
			age = 12
			#top_liege = {
			#	has_landed_title = k_silla
			#}
			is_in_society = no
			OR = {
				martial = 12
				has_lifestyle_martial_trigger = yes
				has_education_martial_trigger = yes
				is_adult = no
			}
			is_nomadic = no # Go join the nomadic WL instead!
			OR = {
				AND = {
					culture_group = koreanic
					OR = { # Founded on Buddhist and Daotic and Confucian principles
						religion = buddhist
						religion = taoist
						religion = confucian
					}
				}
				# Muists get this society as it seems like a better fit than a WL
				religion = korean_pagan
			}
			is_feudal = yes
			is_female = no # Women in the society should be very rare
		}
	}
}

warrior_lodge_ainu = {
	primary_attribute = martial
	opinion_to_other_members = +10
	opinion_per_rank_above = +5
	sound = warrior_lodge_ambient_02
	society_ranks_gfx = warriors_ranks
	society_influence = no
	
	non_interference = {
		always = yes
	}
    
	active = {
		has_dlc = "Holy Fury" # Copy-paste WL, so needs to be DLC-locked!
	}
	indestructible = yes
	
	can_join_society = {
		hidden_trigger = {
			NAND = {
				ai = yes
				is_society_rank_full = { 
					society = warrior_lodge_ainu
					rank = 1
				}
			}
		}
		is_adult = yes
		custom_tooltip = {
			text = has_not_angered_society_tt
			hidden_trigger = { NOT = { has_character_modifier = warrior_lodge_failed_joining_cd } }
		}
		NOT = { has_character_modifier = warrior_lodge_failed_joining_cd }
		hidden_trigger = {
			NOT = { has_character_flag = society_join_block }
		}
		trigger_if = {
			limit = { prisoner = yes }
			prisoner = no
		}
		OR = {
			religion_openly_ainu_or_reformed_trigger = yes
			AND = {
				custom_tooltip = {
					text = society_has_at_least_10_members_tt
					FROM = { num_of_society_members >= 10 }
				}
				has_tribal_or_nomadic_government_trigger = yes
				custom_tooltip = {
					text = special_join_warrior_lodge_trigger_tt
					special_join_warrior_lodge_trigger = yes
				}
				NOT = { trait = zealous }
			}
		}
		OR = {
			ai = no
			NOT = {
				can_join_society = warriors_of_the_rising_sun # Prefer this!
			}
		}
	}

	show_society = {
		OR = {
			#You are this religion: will show only this lodge (the other "show_society"'s will make sure)
			religion_openly_ainu_or_reformed_trigger = yes	
			
			AND = {
				#You are of a religion that doesn't match *any* warrior lodge
				has_religion_matching_available_warrior_lodge_trigger = no
				
				OR = {
					#You have neighbors, etc, of the correct religion...
					any_vassal = { religion_openly_ainu_or_reformed_trigger = yes }
					any_liege = { religion_openly_ainu_or_reformed_trigger = yes }
					any_neighbor_independent_ruler = { religion_openly_ainu_or_reformed_trigger = yes }
				}
			}
			NOT = { #Hide if: you don't have a religion that corresponds to this lodge, but there is another society available to you already
				religion_openly_ainu_or_reformed_trigger = no
				has_religion_matching_available_warrior_lodge_trigger = yes
			}
			#Always show if: You are already a member. Duh.
			society_member_of = warrior_lodge_ainu
		}
	}

	potential = { #if you change religion or become zealous while NOT pagan, you are kicked out
		OR = {
			religion_openly_ainu_or_reformed_trigger = yes
			AND = {
				religion_openly_ainu_or_reformed_trigger = no
				NOT = { trait = zealous }
			}
		}
	}

	society_rank = { #"Fledling"
		level = 1
		limit = 50 
		startup_limit = 10
		modifier = {
			monthly_character_prestige = 0.25
		}
		powers = {
			warrior_lodge_duel #Passive Power: Unlocks Duel
			warrior_lodge_shieldmaiden #Passive Power: Unlocks Shieldmaidens
			warrior_lodge_survivor #Passive Power: Survivor
			warrior_lodge_lifetime_of_war #Passive Power: A Lifetime of War
		}
	}
	
	society_rank = { #"Warrior"
		level = 2
		limit = 20
		startup_limit = 6
		modifier = {
			monthly_character_prestige = 0.5
			combat_rating = 5
			martial = 1
		}		
		powers = {
			warrior_lodge_reaver #Passive Power: Reaver
			warrior_lodge_warrior_training #Power: Warrior Training
			warrior_lodge_summon_commander #Power: Summon Commander
			warrior_lodge_admirer_consort #Power: Create a decent consort
		}
	}
	
	society_rank = { #"Veteran"
		level = 3
		limit = 10 
		startup_limit = 4
		modifier = {
			monthly_character_prestige = 0.75
			combat_rating = 10
			martial = 2
		}
		powers = {
			warrior_lodge_inspire_warriors #Power: Inspire Warriors
			warrior_lodge_war_sacrifice #Power: War Sacrifice
		}
	}

	society_rank = { #"Hero"
		level = 4
		limit = 4
		startup_limit = 3
		modifier = { 
			monthly_character_prestige = 1
			combat_rating = 15
			martial = 3
		}
		powers = {
			warrior_lodge_indomitable #Passive Power: Indomitable
			warrior_lodge_call_to_glory #Power: Call to Glory
			warrior_lodge_choose_military_aspect #Power: Choose Military Aspect
		}
	}
	monthly_currency_gain = {
		name = currency_name_warrior_lodge_norse
    	
		per_attribute = {
    		name = martial
    		value = 0.25
    	}
    	has_trait = {
			trait = hunter
			value = 1
		}
		has_trait = {
			trait = strategist
			value = 1
		}
		has_trait = {
			trait = duelist
			value = 1
		}
		has_trait = {
			trait = scarred
			value = 1
		}
		has_trait = {
			trait = scarred_mid
			value = 2
		}
		has_trait = {
			trait = scarred_high
			value = 3
		}
		has_trait = {
			trait = genius
			value = 1
		}
		has_trait = {
			trait = quick
			value = 1
		}
		has_trait = {
			trait = shrewd
			value = 1
		}
		has_trait = {
			trait = strong
			value = 3
		}
		has_trait = {
			trait = robust
			value = 2
		}
		has_trait = {
			trait = giant
			value = 2
		}
		has_trait = {
			trait = impaler
			value = 1
		}
		has_trait = {
			trait = falconer
			value = 1
		}
		has_trait = {
			trait = wroth
			value = 1
		}
		has_trait = {
			trait = proud
			value = 1
		}
		has_trait = {
			trait = patient
			value = 1
		}
		has_trait = {
			trait = diligent
			value = 1
		}
		has_trait = {
			trait = humble
			value = 1
		}
		has_trait = {
			trait = brave
			value = 2
		}
		has_trait = {
			trait = ambitious
			value = 1
		}
		has_trait = {
			trait = cruel
			value = 1
		}
		has_trait = {
			trait = stubborn
			value = 1
		}
		has_trait = {
			trait = adventurer
			value = 1
		}
		has_trait = {
			trait = viking
			value = 1
		}
		has_trait = {
			trait = pirate
			value = 1
		}
		has_trait = {
			trait = ravager
			value = 2
		}
		has_trait = {
			trait = seaking
			value = 3
		}
		has_trait = {
			trait = sea_queen
			value = 3
		}
		has_trait = {
			trait = shieldmaiden
			value = 1
		}
		has_trait = {
			trait = berserker
			value = 1
		}
		has_trait = {
			trait = varangian
			value = 1
		}
		has_trait = {
			trait = valhalla_bound
			value = 1
		}
		has_trait = {
			trait = eagle_warrior
			value = 1
		}
		has_trait = {
			trait = sun_warrior
			value = 1
		}
		has_trait = {
			trait = ukkos_shield
			value = 1
		}
		has_trait = {
			trait = nyames_shield
			value = 1
		}
		has_trait = {
			trait = peruns_chosen
			value = 1
		}
		has_trait = {
			trait = romuvas_own
			value = 1
		}
		has_trait = {
			trait = ares_own
			value = 1
		}
		has_trait = {
			trait = tengri_warrior
			value = 1
		}
		has_trait = {
			trait = kailash_guardian # Missing in vanilla
			value = 1
		}
		has_trait = {
			trait = sword_of_the_dragon
			value = 1
		}
		has_trait = {
			trait = champion_of_purity
			value = 1
		}
		has_trait = {
			trait = chosen_conqueror
			value = 1
		}
		has_trait = {
			trait = great_bear_warrior
			value = 1
		}
		has_trait = {
			trait = ancestors_chosen
			value = 1
		}
		has_trait = {
			trait = striking_serpent
			value = 1
		}
		has_trait = {
			trait = stormborn
			value = 1
		}
		has_trait = {
			trait = spear_of_the_spirits
			value = 1
		}
		has_trait = {
			trait = chosen_of_the_sun
			value = 1
		}
		#NEGATIVE modifiers
		has_trait = {
			trait = craven
			value = -3
		}
		has_trait = {
			trait = weak
			value = -2
		}
		has_trait = {
			trait = feeble
			value = -1
		}
		has_trait = {
			trait = slothful
			value = -1
		}
		has_trait = {
			trait = content
			value = -1
		}
		has_trait = {
			trait = dwarf
			value = -1
		}
		has_trait = {
			trait = clubfooted
			value = -1
		}
		has_trait = {
			trait = hunchback
			value = -1
		}
	}
	
	member_score_per_attribute = 3
	member_score_per_rank = 100

	member_score = {
		value = 10

		#POSITIVE modifiers
		modifier = {
			trait = hunter
			factor = 1.3
		}
		modifier = {
			trait = strategist
			factor = 1.5
		}
		modifier = {
			trait = duelist
			factor = 1.5
		}
		modifier = {
			trait = misguided_warrior
			factor = 1.1
		}	
		modifier = {
			trait = tough_soldier
			factor = 1.2
		}
    	modifier = {
			trait = skilled_tactician
			factor = 1.4
		}
    	modifier = {
			trait = brilliant_strategist
			factor = 1.6
		}
    	modifier = {
			trait = scarred
			factor = 1.1
		}
		modifier = {
			trait = one_eyed
			factor = 1.1
		}
		modifier = {
			trait = genius
			factor = 1.2
		}
		modifier = {
			trait = quick
			factor = 1.1
		}
		modifier = {
			trait = shrewd
			factor = 1.1
		}
		modifier = {
			trait = strong
			factor = 1.2
		}
		modifier = {
			trait = robust
			factor = 1.1
		}
		modifier = {
			trait = giant
			factor = 1.1
		}
		modifier = {
			trait = impaler
			factor = 1.1
		}
		modifier = {
			trait = falconer
			factor = 1.1
		}
		modifier = {
			trait = wroth
			factor = 1.1
		}
		modifier = {
			trait = proud
			factor = 1.1
		}
		modifier = {
			trait = patient
			factor = 1.1
		}
		modifier = {
			trait = diligent
			factor = 1.1
		}
		modifier = {
			trait = humble
			factor = 1.1
		}
		modifier = {
			trait = brave
			factor = 1.2
		}
		modifier = {
			trait = ambitious
			factor = 1.1
		}
		modifier = {
			trait = cruel
			factor = 1.1
		}
		modifier = {
			trait = stubborn
			factor = 1.1
		}
		modifier = {
			trait = adventurer
			factor = 1.1
		}
		modifier = {
			trait = viking
			factor = 1.1
		}
		modifier = {
			trait = pirate
			factor = 1.1
		}
		modifier = {
			trait = ravager
			factor = 1.1
		}
		modifier = {
			trait = seaking
			factor = 1.1
		}
		modifier = {
			trait = sea_queen
			factor = 1.1
		}
		modifier = {
			trait = shieldmaiden
			factor = 1.1
		}
		modifier = {
			trait = berserker
			factor = 1.1
		}
		modifier = {
			trait = varangian
			factor = 1.1
		}
		modifier = {
			trait = ukkos_shield
			factor = 1.1
		}
		#NEGATIVE modifiers
		modifier = {
			trait = craven
			factor = 0.8
		}
		modifier = {
			trait = weak
			factor = 0.8
		}
		modifier = {
			trait = feeble
			factor = 0.8
		}
		modifier = {
			trait = slothful
			factor = 0.9
		}
		modifier = {
			trait = content
			factor = 0.9
		}
		modifier = {
			trait = dwarf
			factor = 0.8
		}
		modifier = {
			trait = clubfooted
			factor = 0.8
		}
		modifier = {
			trait = hunchback
			factor = 0.8
		}
	}	

	startup_populate = {
	    trigger = {
			ai = yes
	    	controls_religion = no
		   	religion_openly_ainu_or_reformed_trigger = yes
			is_adult = yes
			is_in_society = no
			OR = {
				trait = zealous
				martial = 12
				has_lifestyle_martial_trigger = yes
				has_education_martial_trigger = yes
				OR = {
					duelist_skill_is_medium_group_trigger = yes
					duelist_skill_is_high_group_trigger = yes
				}
			}
		}
	}
}