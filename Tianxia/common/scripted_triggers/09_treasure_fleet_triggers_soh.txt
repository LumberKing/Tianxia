# notified_of_treasure_fleet_arrival_trigger
# can_interact_with_treasure_fleet_trigger
# is_in_next_treasure_fleet_region_trigger
# is_in_active_treasure_fleet_region_trigger
# can_go_on_treasure_fleet_pilgrimage_trigger

# treasure_fleet_tech_can_spread_here_trigger
# treasure_fleet_tech_infantry_can_spread_here_trigger
# treasure_fleet_tech_cavalry_can_spread_here_trigger
# treasure_fleet_tech_skirmish_can_spread_here_trigger
# treasure_fleet_tech_melee_can_spread_here_trigger
# treasure_fleet_tech_siege_equipment_can_spread_here_trigger
# treasure_fleet_tech_recruitment_can_spread_here_trigger
# treasure_fleet_tech_castle_construction_can_spread_here_trigger
# treasure_fleet_tech_city_construction_can_spread_here_trigger
# treasure_fleet_tech_fortifications_construction_can_spread_here_trigger
# treasure_fleet_tech_trade_practices_can_spread_here_trigger
# treasure_fleet_tech_construction_can_spread_here_trigger
# treasure_fleet_tech_naval_can_spread_here_trigger
# treasure_fleet_tech_noble_customs_can_spread_here_trigger
# treasure_fleet_tech_popular_customs_can_spread_here_trigger
# treasure_fleet_tech_religious_customs_can_spread_here_trigger
# treasure_fleet_tech_majesty_can_spread_here_trigger
# treasure_fleet_tech_culture_flex_can_spread_here_trigger
# treasure_fleet_tech_legalism_can_spread_here_trigger

# treasure_fleet_has_artifacts_trigger
# treasure_fleet_has_characters_trigger
# treasure_fleet_has_modifiers_trigger

notified_of_treasure_fleet_arrival_trigger = {
	OR = {
		AND = {
			top_liege = {
				is_chinese_emperor_trigger = yes
			}
			trait = treasure_fleet_voyage
		}
		
		top_liege = {
			any_realm_province = {
				is_in_active_treasure_fleet_region_trigger = yes
			}
		}
	}
	
	is_chinese_emperor_trigger = no
}

can_interact_with_treasure_fleet_trigger = {
	is_nomadic = no # China doesn't care about them!
	
	top_liege = {
		NOT = {
			government = chinese_imperial_government # Pretender empire or China
		}
	}
	
	is_inaccessible_or_incapable_trigger = no
	
	any_demesne_province = {
		is_in_active_treasure_fleet_region_trigger = yes
	}
	
	NOT = {
		suzerain = {
			government = chinese_imperial_government
			is_chinese_emperor_trigger = no
		}
	}
}

is_in_next_treasure_fleet_region_trigger = {
	port = yes
	2753 = { # Hangzhou
		trigger_if = {
			limit = {
				has_province_flag = treasure_fleet_going_to_korea
			}
			
			OR = {# 1066 Baekje + Silla + Tsushima
				province_id = 2940 # Jeonju
				province_id = 2941 # Gimjie
				province_id = 2943 # Okju
				province_id = 2944 # Naju
				province_id = 2947 # Jeju
				province_id = 2946 # Honam
				province_id = 2949 # Namhae
				province_id = 2951 # Jinju
				province_id = 2952 # Geoje
				province_id = 2955 # Busan
				province_id = 2956 # Dongnae
				province_id = 2959 # Gyeongju
				province_id = 2963 # Uljin
				province_id = 2451 # Tsushima
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_going_to_japan
			}
			
			OR = {# Everything in Honshu "between" Nagato and Muro (inclusive) + Shikoku + Kyushu + minor islands in the south
				AND = {
					region = world_kyushu
					NOT = {
						province_id = 2451 # Tsushima
					}
				}
				
				region = world_shikoku
				province_id = 2460 # Awaji
				province_id = 2461 # Kii
				province_id = 2462 # Kumano
				province_id = 2463 # Muro
				province_id = 2464 # Nagato 
				province_id = 2465 # Suo
				province_id = 2466 # Aki
				province_id = 2467 # Bingo
				province_id = 2468 # Bitchu
				province_id = 2469 # Bizen
				province_id = 2471 # Harima
				province_id = 2481 # Settsu
				province_id = 2482 # Izumi
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_going_to_ryukyu
			}
			
			OR = {
				region = world_taiwan
				region = world_ryukyu
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_going_to_maynila
			}
			
			OR = {
				province_id = 2382 # Palawan
				province_id = 2407 # Mansalay
				province_id = 2408 # Mamburao
				province_id = 2417 # Batangas
				province_id = 2418 # Tondo
				province_id = 2419 # Bataan
				province_id = 2420 # Pangasinan
				province_id = 2422 # Samtoy
				province_id = 2424 # Apayao
				province_id = 2425 # Lallo
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_going_to_champa
			}
			
			OR = {
				province_id = 2577 # Oc Eo
				province_id = 2588 # Prey Nokor
				province_id = 2666 # Panduranga
				province_id = 2667 # Kauthara
				province_id = 2668 # Vijaya
				province_id = 2669 # Binh Dinh
				province_id = 2670 # Amaravati
				province_id = 2671 # Indrapura
				province_id = 2672 # Phu Xuang
				province_id = 2673 # Tien Binh
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_going_to_borneo
			}
			
			OR = {
				# Everything "between" Sandakan and Sambas
				province_id = 2354 # Sambas
				province_id = 2371 # Kuching
				province_id = 2372 # Sarikei
				province_id = 2373 # Mukah
				province_id = 2375 # Bintulu
				province_id = 2376 # Miri
				province_id = 2377 # Limbang
				province_id = 2378 # Tambunan
				province_id = 2379 # Kota Marudu
				province_id = 2380 # Sandakan
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_going_to_lavo
			}
			
			OR = {
				# world_khmer minus Oc Eo and Prey Nokor + duchy of Kelantan
				AND = {
					region = world_khmer
					# We already check for being coastal!
					NOR = {
						province_id = 2577 # Oc Eo
						province_id = 2588 # Prey Nokor
					}
				}
				
				province_id = 2545 # Kelantan
				province_id = 2547 # Pattani
				province_id = 2548 # Phatthalung
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_going_to_temasek
			}
			
			OR = {
				# Duchies of Kuantan, Melaka, Pelalawan, and Riau Islands
				province_id = 2291 # Bengkalis
				province_id = 2292 # Pelalawan
				province_id = 2297 # Batam
				province_id = 2298 # Natuna
				province_id = 2299 # Lingga
				province_id = 2300 # Indragiri
				province_id = 2301 # Jambi
				province_id = 2537 # Temasek
				province_id = 2538 # Gelanggi
				province_id = 2539 # Kuantan
				province_id = 2540 # Melaka
				province_id = 2544 # Terengganu
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_going_to_palembang
			}
			
			OR = {
				# Duchies of Palembang and Lampung, counties of Tanggamus and Lampung Barat
				province_id = 2303 # Belitung
				province_id = 2304 # Bangka
				province_id = 2305 # Palembang
				province_id = 2314 # Simpantiga
				province_id = 2315 # Lampung Barat
				province_id = 2316 # Tanggamus
				province_id = 2318 # Lampung Selatan
				province_id = 2319 # Lampung Timur
				province_id = 2320 # Tulang Bawang
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_going_to_java
			}
			
			region = world_java
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_going_to_lamuri
			}
			
			OR = {
				# Duchies of Panai, Aru, Aceh, Andamans, Langkasuka
				province_id = 2266 # Andamans
				province_id = 2267 # Nicobar
				province_id = 2268 # Lamuri
				province_id = 2269 # Sigli
				province_id = 2270 # Lamun
				province_id = 2271 # Pasai
				province_id = 2272 # Gayo
				province_id = 2274 # Peureulak
				province_id = 2275 # Aru
				province_id = 2281 # Asahan
				province_id = 2285 # Panai
				province_id = 2290 # Dumai
				province_id = 2541 # Kelang
				province_id = 2543 # Bujang
				province_id = 2546 # Kedah
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_going_to_dagon
			}
			
			region = world_burma
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_going_to_bengal
			}
			
			OR = {
				province_id = 1232 # Midnapore
				province_id = 1235 # Tamralipti
				province_id = 1236 # Candradvipa
				province_id = 1318 # Samatata
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_going_to_eastern_india
			}
			
			OR = {
				province_id = 1204 # Nellore
				province_id = 1221 # Vijayawada
				province_id = 1123 # Vengipura
				province_id = 1415 # Pithapuram
				province_id = 1128 # Vizagipatam
				province_id = 1224 # Kalinganagar
				province_id = 1225 # Puri
				province_id = 1129 # Kataka
				province_id = 1231 # Viraja
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_going_to_lanka
			}
			
			OR = {
				province_id = 1360 # Maldives
				province_id = 1200 # Kanara
				province_id = 1117 # Qalqut
				province_id = 1114 # Mahoyadapuram
				province_id = 1413 # Venadu
				province_id = 1214 # Tirunelveli
				province_id = 1112 # Madurai
				province_id = 1215 # Dakhina Desa
				province_id = 1279 # Rohana
				province_id = 1414 # Kotthasara
				province_id = 1194 # Nagadipa
				province_id = 1195 # Phiti
				province_id = 1115 # Cholamandalam
				province_id = 1119 # Kanchipuram
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_going_to_western_india
			}
			
			OR = {
				province_id = 1134 # Bhumilka
				province_id = 1266 # Somnath
				province_id = 1135 # Valabhi
				province_id = 1290 # Khetaka
				province_id = 1127 # Navasarika
				province_id = 1126 # Daman
				province_id = 1125 # Thana
				province_id = 1220 # Goa
				province_id = 1124 # Honnore
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_going_to_sindh
			}
			
			OR = {
				province_id = 899 # Tis
				province_id = 1139 # Makran
				province_id = 1370 # Armail
				province_id = 1297 # Debul
				province_id = 1331 # Sonda
				province_id = 1294 # Satyapura
				province_id = 1295 # Kutch
				province_id = 1292 # Sarasvata Mandala
				province_id = 1268 # Dhamalpur
				province_id = 1136 # Dvaraka
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_going_to_oman
			}
			
			OR = {
				province_id = 867 # Duqm
				province_id = 868 # Muscat
				province_id = 869 # Hajar
				province_id = 641 # Hormuz
				province_id = 637 # Sistan
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_going_to_persian_gulf
			}
			
			OR = {
				province_id = 870 # Dhu Zabi
				province_id = 653 # Bahrein
				province_id = 1531 # Uwal
				province_id = 652 # Al Hasa
				province_id = 651 # Damman
				province_id = 650 # Kuwait
				province_id = 649 # Basra
				province_id = 648 # Khozistan
				province_id = 645 # Hendjan
				province_id = 643 # Fars
				province_id = 642 # Ladistan
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_going_to_socotra
			}
			
			OR = {
				province_id = 2265 # Garoowe
				province_id = 2264 # Qardho
				province_id = 1369 # Socotra
				province_id = 871 # Busaso
				province_id = 872 # Berbera
				province_id = 1344 # Zeila
				province_id = 874 # Tadjoura
				province_id = 858 # Aden
				province_id = 857 # Bayda
				province_id = 856 # Kathiri
				province_id = 855 # Mahra
				province_id = 866 # Dhofar
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_going_to_red_sea
			}
			
			OR = {
				province_id = 1373 # Assab
				province_id = 1343 # Massawa
				province_id = 1332 # Trinkitat
				province_id = 1330 # Suakin
				province_id = 1320 # Aydhab
				province_id = 794 # Aswan
				province_id = 1781 # al-Qusair
				province_id = 2006 # Kolzum # Al-Khulzum
				province_id = 788 # Farama
				province_id = 785 # Sinai
				province_id = 786 # Eilat
				province_id = 722 # Al 'Aqabah
				province_id = 721 # Tabuk
				province_id = 1536 # Khaybar
				province_id = 716 # Jeddah
				province_id = 1535 # Tihama
				province_id = 1532 # Zabid
			}
		}
		
		trigger_else = {
			region = world_china
		}
	}
}

is_in_active_treasure_fleet_region_trigger = {
	port = yes
	2753 = {# Hangzhou
		trigger_if = {
			limit = {
				has_province_flag = treasure_fleet_in_korea
			}
			
			OR = {# 1066 Baekje + Silla + Tsushima
				province_id = 2940 # Jeonju
				province_id = 2941 # Gimjie
				province_id = 2943 # Okju
				province_id = 2944 # Naju
				province_id = 2947 # Jeju
				province_id = 2946 # Honam
				province_id = 2949 # Namhae
				province_id = 2951 # Jinju
				province_id = 2952 # Geoje
				province_id = 2955 # Busan
				province_id = 2956 # Dongnae
				province_id = 2959 # Gyeongju
				province_id = 2963 # Uljin
				province_id = 2451 # Tsushima
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_in_japan
			}
			
			OR = {# Everything in Honshu "between" Nagato and Muro (inclusive) + Shikoku + Kyushu + minor islands in the south
				AND = {
					region = world_kyushu
					NOT = {
						province_id = 2451 # Tsushima
					}
				}
				
				region = world_shikoku
				province_id = 2460 # Awaji
				province_id = 2461 # Kii
				province_id = 2462 # Kumano
				province_id = 2463 # Muro
				province_id = 2464 # Nagato 
				province_id = 2465 # Suo
				province_id = 2466 # Aki
				province_id = 2467 # Bingo
				province_id = 2468 # Bitchu
				province_id = 2469 # Bizen
				province_id = 2471 # Harima
				province_id = 2481 # Settsu
				province_id = 2482 # Izumi
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_in_ryukyu
			}
			
			OR = {
				region = world_taiwan
				region = world_ryukyu
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_in_maynila
			}
			
			OR = {
				province_id = 2382 # Palawan
				province_id = 2407 # Mansalay
				province_id = 2408 # Mamburao
				province_id = 2417 # Batangas
				province_id = 2418 # Tondo
				province_id = 2419 # Bataan
				province_id = 2420 # Pangasinan
				province_id = 2422 # Samtoy
				province_id = 2424 # Apayao
				province_id = 2425 # Lallo
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_in_champa
			}
			
			OR = {
				province_id = 2577 # Oc Eo
				province_id = 2588 # Prey Nokor
				province_id = 2666 # Panduranga
				province_id = 2667 # Kauthara
				province_id = 2668 # Vijaya
				province_id = 2669 # Binh Dinh
				province_id = 2670 # Amaravati
				province_id = 2671 # Indrapura
				province_id = 2672 # Phu Xuang
				province_id = 2673 # Tien Binh
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_in_borneo
			}
			
			OR = {
				# Everything "between" Sandakan and Sambas
				province_id = 2354 # Sambas
				province_id = 2371 # Kuching
				province_id = 2372 # Sarikei
				province_id = 2373 # Mukah
				province_id = 2375 # Bintulu
				province_id = 2376 # Miri
				province_id = 2377 # Limbang
				province_id = 2378 # Tambunan
				province_id = 2379 # Kota Marudu
				province_id = 2380 # Sandakan
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_in_lavo
			}
			
			OR = {
				# world_khmer minus Oc Eo and Prey Nokor + duchy of Kelantan
				AND = {
					region = world_khmer
					# We already check for being coastal!
					NOR = {
						province_id = 2577 # Oc Eo
						province_id = 2588 # Prey Nokor
					}
				}
				
				province_id = 2545 # Kelantan
				province_id = 2547 # Pattani
				province_id = 2548 # Phatthalung
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_in_temasek
			}
			
			OR = {
				# Duchies of Kuantan, Melaka, Pelalawan, and Riau Islands
				province_id = 2291 # Bengkalis
				province_id = 2292 # Pelalawan
				province_id = 2297 # Batam
				province_id = 2298 # Natuna
				province_id = 2299 # Lingga
				province_id = 2300 # Indragiri
				province_id = 2301 # Jambi
				province_id = 2537 # Temasek
				province_id = 2538 # Gelanggi
				province_id = 2539 # Kuantan
				province_id = 2540 # Melaka
				province_id = 2544 # Terengganu
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_in_palembang
			}
			
			OR = {
				# Duchies of Palembang and Lampung, counties of Tanggamus and Lampung Barat
				province_id = 2303 # Belitung
				province_id = 2304 # Bangka
				province_id = 2305 # Palembang
				province_id = 2314 # Simpantiga
				province_id = 2315 # Lampung Barat
				province_id = 2316 # Tanggamus
				province_id = 2318 # Lampung Selatan
				province_id = 2319 # Lampung Timur
				province_id = 2320 # Tulang Bawang
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_in_java
			}
			
			region = world_java
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_in_lamuri
			}
			
			OR = {
				# Duchies of Panai, Aru, Aceh, Andamans, Langkasuka
				province_id = 2266 # Andamans
				province_id = 2267 # Nicobar
				province_id = 2268 # Lamuri
				province_id = 2269 # Sigli
				province_id = 2270 # Lamun
				province_id = 2271 # Pasai
				province_id = 2272 # Gayo
				province_id = 2274 # Peureulak
				province_id = 2275 # Aru
				province_id = 2281 # Asahan
				province_id = 2285 # Panai
				province_id = 2290 # Dumai
				province_id = 2541 # Kelang
				province_id = 2543 # Bujang
				province_id = 2546 # Kedah
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_in_dagon
			}
			
			region = world_burma
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_in_bengal
			}
			
			OR = {
				province_id = 1232 # Midnapore
				province_id = 1235 # Tamralipti
				province_id = 1236 # Candradvipa
				province_id = 1318 # Samatata
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_in_eastern_india
			}
			
			OR = {
				province_id = 1204 # Nellore
				province_id = 1221 # Vijayawada
				province_id = 1123 # Vengipura
				province_id = 1415 # Pithapuram
				province_id = 1128 # Vizagipatam
				province_id = 1224 # Kalinganagar
				province_id = 1225 # Puri
				province_id = 1129 # Kataka
				province_id = 1231 # Viraja
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_in_lanka
			}
			
			OR = {
				province_id = 1360 # Maldives
				province_id = 1200 # Kanara
				province_id = 1117 # Qalqut
				province_id = 1114 # Mahoyadapuram
				province_id = 1413 # Venadu
				province_id = 1214 # Tirunelveli
				province_id = 1112 # Madurai
				province_id = 1215 # Dakhina Desa
				province_id = 1279 # Rohana
				province_id = 1414 # Kotthasara
				province_id = 1194 # Nagadipa
				province_id = 1195 # Phiti
				province_id = 1115 # Cholamandalam
				province_id = 1119 # Kanchipuram
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_in_western_india
			}
			
			OR = {
				province_id = 1134 # Bhumilka
				province_id = 1266 # Somnath
				province_id = 1135 # Valabhi
				province_id = 1290 # Khetaka
				province_id = 1127 # Navasarika
				province_id = 1126 # Daman
				province_id = 1125 # Thana
				province_id = 1220 # Goa
				province_id = 1124 # Honnore
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_in_sindh
			}
			
			OR = {
				province_id = 899 # Tis
				province_id = 1139 # Makran
				province_id = 1370 # Armail
				province_id = 1297 # Debul
				province_id = 1331 # Sonda
				province_id = 1294 # Satyapura
				province_id = 1295 # Kutch
				province_id = 1292 # Sarasvata Mandala
				province_id = 1268 # Dhamalpur
				province_id = 1136 # Dvaraka
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_in_oman
			}
			
			OR = {
				province_id = 867 # Duqm
				province_id = 868 # Muscat
				province_id = 869 # Hajar
				province_id = 641 # Hormuz
				province_id = 637 # Sistan
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_in_persian_gulf
			}
			
			OR = {
				province_id = 870 # Dhu Zabi
				province_id = 653 # Bahrein
				province_id = 1531 # Uwal
				province_id = 652 # Al Hasa
				province_id = 651 # Damman
				province_id = 650 # Kuwait
				province_id = 649 # Basra
				province_id = 648 # Khozistan
				province_id = 645 # Hendjan
				province_id = 643 # Fars
				province_id = 642 # Ladistan
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_in_socotra
			}
			
			OR = {
				province_id = 2265 # Garoowe
				province_id = 2264 # Qardho
				province_id = 1369 # Socotra
				province_id = 871 # Busaso
				province_id = 872 # Berbera
				province_id = 1344 # Zeila
				province_id = 874 # Tadjoura
				province_id = 858 # Aden
				province_id = 857 # Bayda
				province_id = 856 # Kathiri
				province_id = 855 # Mahra
				province_id = 866 # Dhofar
			}
		}
		
		trigger_else_if = {
			limit = {
				has_province_flag = treasure_fleet_in_red_sea
			}
			
			OR = {
				province_id = 1373 # Assab
				province_id = 1343 # Massawa
				province_id = 1332 # Trinkitat
				province_id = 1330 # Suakin
				province_id = 1320 # Aydhab
				province_id = 794 # Aswan
				province_id = 1781 # al-Qusair
				province_id = 2006 # Kolzum # Al-Khulzum
				province_id = 788 # Farama
				province_id = 785 # Sinai
				province_id = 786 # Eilat
				province_id = 722 # Al 'Aqabah
				province_id = 721 # Tabuk
				province_id = 1536 # Khaybar
				province_id = 716 # Jeddah
				province_id = 1535 # Tihama
				province_id = 1532 # Zabid
			}
		}
		
		trigger_else = {
			always = no
		}
	}
}

treasure_fleet_tech_can_spread_here_trigger = {
	e_china = {
		holder_scope = {
			any_realm_province = {
				port = yes
				can_naval_path_to = PREVPREVPREV
				has_higher_tech_than = PREVPREVPREV
			}
		}
	}
}

can_go_on_treasure_fleet_pilgrimage_trigger = {
	NOT = {
		has_character_flag = treasure_fleet_no_pilgrimage
	}
	
	OR = {
		AND = {
			2753 = { # Hangzhou
				has_province_flag = treasure_fleet_in_red_sea
			}
			OR = {
				religion_group = christian
				religion_group = muslim
			}
		}
		
		AND = {
			2753 = { # Hangzhou
				has_province_flag = treasure_fleet_in_sindh
			}
			religion = hindu
		}
		
		AND = {
			2753 = { # Hangzhou
				OR = {
					has_province_flag = treasure_fleet_in_korea
					has_province_flag = treasure_fleet_in_japan
				}
			}
			religion = buddhist
		}
		
		AND = {
			2753 = { # Hangzhou
				OR = {
					has_province_flag = treasure_fleet_in_bengal
					has_province_flag = treasure_fleet_in_lanka
					has_province_flag = treasure_fleet_in_sindh
				}
			}
			religion = jain
		}
		
		AND = {
			2753 = { # Hangzhou
				has_province_flag = treasure_fleet_in_japan
			}
			religion = shinto
		}
		
		# TIANXIATODO: Kèjawen, Shugendo, Koshin, Ryukyuan
	}
}
		

treasure_fleet_tech_infantry_can_spread_here_trigger = {
	OR = {
		AND = {
			TECH_INFANTRY < 1
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_INFANTRY >= 2
					}
				}
			}
		}
		
		AND = {
			TECH_INFANTRY < 2
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_INFANTRY >= 3
					}
				}
			}
		}
		
		AND = {
			TECH_INFANTRY < 3
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_INFANTRY >= 4
					}
				}
			}
		}
		
		AND = {
			TECH_INFANTRY < 4
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_INFANTRY >= 5
					}
				}
			}
		}
		
		AND = {
			TECH_INFANTRY < 5
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_INFANTRY >= 6
					}
				}
			}
		}
		
		AND = {
			TECH_INFANTRY < 6
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_INFANTRY >= 7
					}
				}
			}
		}
		
		AND = {
			TECH_INFANTRY < 7
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_INFANTRY >= 8
					}
				}
			}
		}
	}
}

treasure_fleet_tech_cavalry_can_spread_here_trigger = {
	OR = {
		AND = {
			TECH_CAVALRY < 1
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CAVALRY >= 2
					}
				}
			}
		}
		
		AND = {
			TECH_CAVALRY < 2
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CAVALRY >= 3
					}
				}
			}
		}
		
		AND = {
			TECH_CAVALRY < 3
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CAVALRY >= 4
					}
				}
			}
		}
		
		AND = {
			TECH_CAVALRY < 4
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CAVALRY >= 5
					}
				}
			}
		}
		
		AND = {
			TECH_CAVALRY < 5
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CAVALRY >= 6
					}
				}
			}
		}
		
		AND = {
			TECH_CAVALRY < 6
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CAVALRY >= 7
					}
				}
			}
		}
		
		AND = {
			TECH_CAVALRY < 7
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CAVALRY >= 8
					}
				}
			}
		}
	}
}

treasure_fleet_tech_skirmish_can_spread_here_trigger = {
	OR = {
		AND = {
			TECH_SKIRMISH < 1
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_SKIRMISH >= 2
					}
				}
			}
		}
		
		AND = {
			TECH_SKIRMISH < 2
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_SKIRMISH >= 3
					}
				}
			}
		}
		
		AND = {
			TECH_SKIRMISH < 3
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_SKIRMISH >= 4
					}
				}
			}
		}
		
		AND = {
			TECH_SKIRMISH < 4
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_SKIRMISH >= 5
					}
				}
			}
		}
		
		AND = {
			TECH_SKIRMISH < 5
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_SKIRMISH >= 6
					}
				}
			}
		}
		
		AND = {
			TECH_SKIRMISH < 6
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_SKIRMISH >= 7
					}
				}
			}
		}
		
		AND = {
			TECH_SKIRMISH < 7
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_SKIRMISH >= 8
					}
				}
			}
		}
	}
}

treasure_fleet_tech_melee_can_spread_here_trigger = {
	OR = {
		AND = {
			TECH_MELEE < 1
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_MELEE >= 2
					}
				}
			}
		}
		
		AND = {
			TECH_MELEE < 2
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_MELEE >= 3
					}
				}
			}
		}
		
		AND = {
			TECH_MELEE < 3
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_MELEE >= 4
					}
				}
			}
		}
		
		AND = {
			TECH_MELEE < 4
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_MELEE >= 5
					}
				}
			}
		}
		
		AND = {
			TECH_MELEE < 5
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_MELEE >= 6
					}
				}
			}
		}
		
		AND = {
			TECH_MELEE < 6
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_MELEE >= 7
					}
				}
			}
		}
		
		AND = {
			TECH_MELEE < 7
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_MELEE >= 8
					}
				}
			}
		}
	}
}

treasure_fleet_tech_siege_equipment_can_spread_here_trigger = {
	OR = {
		AND = {
			TECH_SIEGE_EQUIPMENT < 1
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_SIEGE_EQUIPMENT >= 2
					}
				}
			}
		}
		
		AND = {
			TECH_SIEGE_EQUIPMENT < 2
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_SIEGE_EQUIPMENT >= 3
					}
				}
			}
		}
		
		AND = {
			TECH_SIEGE_EQUIPMENT < 3
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_SIEGE_EQUIPMENT >= 4
					}
				}
			}
		}
		
		AND = {
			TECH_SIEGE_EQUIPMENT < 4
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_SIEGE_EQUIPMENT >= 5
					}
				}
			}
		}
		
		AND = {
			TECH_SIEGE_EQUIPMENT < 5
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_SIEGE_EQUIPMENT >= 6
					}
				}
			}
		}
		
		AND = {
			TECH_SIEGE_EQUIPMENT < 6
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_SIEGE_EQUIPMENT >= 7
					}
				}
			}
		}
		
		AND = {
			TECH_SIEGE_EQUIPMENT < 7
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_SIEGE_EQUIPMENT >= 8
					}
				}
			}
		}
	}
}

treasure_fleet_tech_recruitment_can_spread_here_trigger = {
	OR = {
		AND = {
			TECH_RECRUITMENT < 1
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_RECRUITMENT >= 2
					}
				}
			}
		}
		
		AND = {
			TECH_RECRUITMENT < 2
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_RECRUITMENT >= 3
					}
				}
			}
		}
		
		AND = {
			TECH_RECRUITMENT < 3
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_RECRUITMENT >= 4
					}
				}
			}
		}
		
		AND = {
			TECH_RECRUITMENT < 4
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_RECRUITMENT >= 5
					}
				}
			}
		}
		
		AND = {
			TECH_RECRUITMENT < 5
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_RECRUITMENT >= 6
					}
				}
			}
		}
		
		AND = {
			TECH_RECRUITMENT < 6
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_RECRUITMENT >= 7
					}
				}
			}
		}
		
		AND = {
			TECH_RECRUITMENT < 7
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_RECRUITMENT >= 8
					}
				}
			}
		}
	}
}

treasure_fleet_tech_castle_construction_can_spread_here_trigger = {
	OR = {
		AND = {
			TECH_CASTLE_CONSTRUCTION < 1
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CASTLE_CONSTRUCTION >= 2
					}
				}
			}
		}
		
		AND = {
			TECH_CASTLE_CONSTRUCTION < 2
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CASTLE_CONSTRUCTION >= 3
					}
				}
			}
		}
		
		AND = {
			TECH_CASTLE_CONSTRUCTION < 3
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CASTLE_CONSTRUCTION >= 4
					}
				}
			}
		}
		
		AND = {
			TECH_CASTLE_CONSTRUCTION < 4
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CASTLE_CONSTRUCTION >= 5
					}
				}
			}
		}
		
		AND = {
			TECH_CASTLE_CONSTRUCTION < 5
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CASTLE_CONSTRUCTION >= 6
					}
				}
			}
		}
		
		AND = {
			TECH_CASTLE_CONSTRUCTION < 6
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CASTLE_CONSTRUCTION >= 7
					}
				}
			}
		}
		
		AND = {
			TECH_CASTLE_CONSTRUCTION < 7
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CASTLE_CONSTRUCTION >= 8
					}
				}
			}
		}
	}
}

treasure_fleet_tech_city_construction_can_spread_here_trigger = {
	OR = {
		AND = {
			TECH_CITY_CONSTRUCTION < 1
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CITY_CONSTRUCTION >= 2
					}
				}
			}
		}
		
		AND = {
			TECH_CITY_CONSTRUCTION < 2
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CITY_CONSTRUCTION >= 3
					}
				}
			}
		}
		
		AND = {
			TECH_CITY_CONSTRUCTION < 3
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CITY_CONSTRUCTION >= 4
					}
				}
			}
		}
		
		AND = {
			TECH_CITY_CONSTRUCTION < 4
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CITY_CONSTRUCTION >= 5
					}
				}
			}
		}
		
		AND = {
			TECH_CITY_CONSTRUCTION < 5
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CITY_CONSTRUCTION >= 6
					}
				}
			}
		}
		
		AND = {
			TECH_CITY_CONSTRUCTION < 6
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CITY_CONSTRUCTION >= 7
					}
				}
			}
		}
		
		AND = {
			TECH_CITY_CONSTRUCTION < 7
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CITY_CONSTRUCTION >= 8
					}
				}
			}
		}
	}
}

treasure_fleet_tech_fortifications_construction_can_spread_here_trigger = {
	OR = {
		AND = {
			TECH_FORTIFICATIONS_CONSTRUCTION < 1
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_FORTIFICATIONS_CONSTRUCTION >= 2
					}
				}
			}
		}
		
		AND = {
			TECH_FORTIFICATIONS_CONSTRUCTION < 2
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_FORTIFICATIONS_CONSTRUCTION >= 3
					}
				}
			}
		}
		
		AND = {
			TECH_FORTIFICATIONS_CONSTRUCTION < 3
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_FORTIFICATIONS_CONSTRUCTION >= 4
					}
				}
			}
		}
		
		AND = {
			TECH_FORTIFICATIONS_CONSTRUCTION < 4
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_FORTIFICATIONS_CONSTRUCTION >= 5
					}
				}
			}
		}
		
		AND = {
			TECH_FORTIFICATIONS_CONSTRUCTION < 5
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_FORTIFICATIONS_CONSTRUCTION >= 6
					}
				}
			}
		}
		
		AND = {
			TECH_FORTIFICATIONS_CONSTRUCTION < 6
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_FORTIFICATIONS_CONSTRUCTION >= 7
					}
				}
			}
		}
		
		AND = {
			TECH_FORTIFICATIONS_CONSTRUCTION < 7
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_FORTIFICATIONS_CONSTRUCTION >= 8
					}
				}
			}
		}
	}
}

treasure_fleet_tech_trade_practices_can_spread_here_trigger = {
	OR = {
		AND = {
			TECH_TRADE_PRACTICES < 1
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_TRADE_PRACTICES >= 2
					}
				}
			}
		}
		
		AND = {
			TECH_TRADE_PRACTICES < 2
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_TRADE_PRACTICES >= 3
					}
				}
			}
		}
		
		AND = {
			TECH_TRADE_PRACTICES < 3
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_TRADE_PRACTICES >= 4
					}
				}
			}
		}
		
		AND = {
			TECH_TRADE_PRACTICES < 4
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_TRADE_PRACTICES >= 5
					}
				}
			}
		}
		
		AND = {
			TECH_TRADE_PRACTICES < 5
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_TRADE_PRACTICES >= 6
					}
				}
			}
		}
		
		AND = {
			TECH_TRADE_PRACTICES < 6
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_TRADE_PRACTICES >= 7
					}
				}
			}
		}
		
		AND = {
			TECH_TRADE_PRACTICES < 7
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_TRADE_PRACTICES >= 8
					}
				}
			}
		}
	}
}

treasure_fleet_tech_construction_can_spread_here_trigger = {
	OR = {
		AND = {
			TECH_CONSTRUCTION < 1
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CONSTRUCTION >= 2
					}
				}
			}
		}
		
		AND = {
			TECH_CONSTRUCTION < 2
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CONSTRUCTION >= 3
					}
				}
			}
		}
		
		AND = {
			TECH_CONSTRUCTION < 3
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CONSTRUCTION >= 4
					}
				}
			}
		}
		
		AND = {
			TECH_CONSTRUCTION < 4
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CONSTRUCTION >= 5
					}
				}
			}
		}
		
		AND = {
			TECH_CONSTRUCTION < 5
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CONSTRUCTION >= 6
					}
				}
			}
		}
		
		AND = {
			TECH_CONSTRUCTION < 6
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CONSTRUCTION >= 7
					}
				}
			}
		}
		
		AND = {
			TECH_CONSTRUCTION < 7
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CONSTRUCTION >= 8
					}
				}
			}
		}
	}
}

treasure_fleet_tech_naval_can_spread_here_trigger = {
	OR = {
		AND = {
			TECH_NAVAL < 1
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_NAVAL >= 2
					}
				}
			}
		}
		
		AND = {
			TECH_NAVAL < 2
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_NAVAL >= 3
					}
				}
			}
		}
		
		AND = {
			TECH_NAVAL < 3
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_NAVAL >= 4
					}
				}
			}
		}
		
		AND = {
			TECH_NAVAL < 4
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_NAVAL >= 5
					}
				}
			}
		}
		
		AND = {
			TECH_NAVAL < 5
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_NAVAL >= 6
					}
				}
			}
		}
		
		AND = {
			TECH_NAVAL < 6
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_NAVAL >= 7
					}
				}
			}
		}
		
		AND = {
			TECH_NAVAL < 7
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_NAVAL >= 8
					}
				}
			}
		}
	}
}

treasure_fleet_tech_noble_customs_can_spread_here_trigger = {
	OR = {
		AND = {
			TECH_NOBLE_CUSTOMS < 1
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_NOBLE_CUSTOMS >= 2
					}
				}
			}
		}
		
		AND = {
			TECH_NOBLE_CUSTOMS < 2
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_NOBLE_CUSTOMS >= 3
					}
				}
			}
		}
		
		AND = {
			TECH_NOBLE_CUSTOMS < 3
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_NOBLE_CUSTOMS >= 4
					}
				}
			}
		}
		
		AND = {
			TECH_NOBLE_CUSTOMS < 4
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_NOBLE_CUSTOMS >= 5
					}
				}
			}
		}
		
		AND = {
			TECH_NOBLE_CUSTOMS < 5
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_NOBLE_CUSTOMS >= 6
					}
				}
			}
		}
		
		AND = {
			TECH_NOBLE_CUSTOMS < 6
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_NOBLE_CUSTOMS >= 7
					}
				}
			}
		}
		
		AND = {
			TECH_NOBLE_CUSTOMS < 7
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_NOBLE_CUSTOMS >= 8
					}
				}
			}
		}
	}
}

treasure_fleet_tech_popular_customs_can_spread_here_trigger = {
	OR = {
		AND = {
			TECH_POPULAR_CUSTOMS < 1
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_POPULAR_CUSTOMS >= 2
					}
				}
			}
		}
		
		AND = {
			TECH_POPULAR_CUSTOMS < 2
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_POPULAR_CUSTOMS >= 3
					}
				}
			}
		}
		
		AND = {
			TECH_POPULAR_CUSTOMS < 3
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_POPULAR_CUSTOMS >= 4
					}
				}
			}
		}
		
		AND = {
			TECH_POPULAR_CUSTOMS < 4
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_POPULAR_CUSTOMS >= 5
					}
				}
			}
		}
		
		AND = {
			TECH_POPULAR_CUSTOMS < 5
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_POPULAR_CUSTOMS >= 6
					}
				}
			}
		}
		
		AND = {
			TECH_POPULAR_CUSTOMS < 6
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_POPULAR_CUSTOMS >= 7
					}
				}
			}
		}
		
		AND = {
			TECH_POPULAR_CUSTOMS < 7
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_POPULAR_CUSTOMS >= 8
					}
				}
			}
		}
	}
}

treasure_fleet_tech_religious_customs_can_spread_here_trigger = {
	OR = {
		AND = {
			TECH_RELIGIOUS_CUSTOMS < 1
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_RELIGIOUS_CUSTOMS >= 2
					}
				}
			}
		}
		
		AND = {
			TECH_RELIGIOUS_CUSTOMS < 2
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_RELIGIOUS_CUSTOMS >= 3
					}
				}
			}
		}
		
		AND = {
			TECH_RELIGIOUS_CUSTOMS < 3
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_RELIGIOUS_CUSTOMS >= 4
					}
				}
			}
		}
		
		AND = {
			TECH_RELIGIOUS_CUSTOMS < 4
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_RELIGIOUS_CUSTOMS >= 5
					}
				}
			}
		}
		
		AND = {
			TECH_RELIGIOUS_CUSTOMS < 5
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_RELIGIOUS_CUSTOMS >= 6
					}
				}
			}
		}
		
		AND = {
			TECH_RELIGIOUS_CUSTOMS < 6
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_RELIGIOUS_CUSTOMS >= 7
					}
				}
			}
		}
		
		AND = {
			TECH_RELIGIOUS_CUSTOMS < 7
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_RELIGIOUS_CUSTOMS >= 8
					}
				}
			}
		}
	}
}

treasure_fleet_tech_majesty_can_spread_here_trigger = {
	OR = {
		AND = {
			TECH_MAJESTY < 1
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_MAJESTY >= 2
					}
				}
			}
		}
		
		AND = {
			TECH_MAJESTY < 2
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_MAJESTY >= 3
					}
				}
			}
		}
		
		AND = {
			TECH_MAJESTY < 3
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_MAJESTY >= 4
					}
				}
			}
		}
		
		AND = {
			TECH_MAJESTY < 4
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_MAJESTY >= 5
					}
				}
			}
		}
		
		AND = {
			TECH_MAJESTY < 5
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_MAJESTY >= 6
					}
				}
			}
		}
		
		AND = {
			TECH_MAJESTY < 6
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_MAJESTY >= 7
					}
				}
			}
		}
		
		AND = {
			TECH_MAJESTY < 7
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_MAJESTY >= 8
					}
				}
			}
		}
	}
}

treasure_fleet_tech_culture_flex_can_spread_here_trigger = {
	OR = {
		AND = {
			TECH_CULTURE_FLEX < 1
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CULTURE_FLEX >= 2
					}
				}
			}
		}
		
		AND = {
			TECH_CULTURE_FLEX < 2
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CULTURE_FLEX >= 3
					}
				}
			}
		}
		
		AND = {
			TECH_CULTURE_FLEX < 3
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CULTURE_FLEX >= 4
					}
				}
			}
		}
		
		AND = {
			TECH_CULTURE_FLEX < 4
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CULTURE_FLEX >= 5
					}
				}
			}
		}
		
		AND = {
			TECH_CULTURE_FLEX < 5
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CULTURE_FLEX >= 6
					}
				}
			}
		}
		
		AND = {
			TECH_CULTURE_FLEX < 6
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CULTURE_FLEX >= 7
					}
				}
			}
		}
		
		AND = {
			TECH_CULTURE_FLEX < 7
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_CULTURE_FLEX >= 8
					}
				}
			}
		}
	}
}

treasure_fleet_tech_legalism_can_spread_here_trigger = {
	OR = {
		AND = {
			TECH_LEGALISM < 1
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_LEGALISM >= 2
					}
				}
			}
		}
		
		AND = {
			TECH_LEGALISM < 2
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_LEGALISM >= 3
					}
				}
			}
		}
		
		AND = {
			TECH_LEGALISM < 3
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_LEGALISM >= 4
					}
				}
			}
		}
		
		AND = {
			TECH_LEGALISM < 4
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_LEGALISM >= 5
					}
				}
			}
		}
		
		AND = {
			TECH_LEGALISM < 5
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_LEGALISM >= 6
					}
				}
			}
		}
		
		AND = {
			TECH_LEGALISM < 6
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_LEGALISM >= 7
					}
				}
			}
		}
		
		AND = {
			TECH_LEGALISM < 7
			e_china = {
				holder_scope = {
					any_realm_province = {
						port = yes
						can_naval_path_to = PREVPREVPREV
						TECH_LEGALISM >= 8
					}
				}
			}
		}
	}
}

treasure_fleet_has_artifacts_trigger = {
	2753 = {# Hangzhou
		check_variable = {
			which = treasure_fleet_artifacts
			value > 0
		}
	}
}

treasure_fleet_has_courtiers_trigger = {
	2753 = {# Hangzhou
		check_variable = {
			which = treasure_fleet_courtiers
			value > 0
		}
	}
}

treasure_fleet_has_modifiers_trigger = {
	2753 = {# Hangzhou
		check_variable = {
			which = treasure_fleet_modifiers
			value > 0
		}
	}
}