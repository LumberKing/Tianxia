#####################################################################
############################ INDEX ##################################
#####################################################################
### ANYONE ADDING UPGRADES(features): Keep this updated, please!
###
### Template:
###
###		upgrade_example_name
###			picture = GFX_upgrade_icon_crates
###			show_in_history = yes
###			allow = { }
###			potential = { }
###			active = { }
###			flags = { }
###			build_time = 20
###			gold_cost_flat = 450
###			gold_cost_ticking = 1
###			local_modifier = { }
###			owner_modifier = { }
###		}
###

# Note: Names are reference points, but likely displayed differently in game
# Upgrades are referred to as "features" in game
# Scopes: ROOT is the character, FROM is the upgrade, FROMFROM the wonder, and FROMFROMFROM the province.

################### Available Upgrades ###########################

#### ISE GRAND SHRINE and SHINTO GRAND SHRINE
# upgrade_greater_shrine_amaterasu_omikami
# upgrade_greater_shrine_ame_no_uzume
# upgrade_greater_shrine_hachiman
# upgrade_greater_shrine_inari_okami
# upgrade_greater_shrine_ninigi_no_mikoto
# upgrade_greater_shrine_omoikane
# upgrade_greater_shrine_ryujin
# upgrade_greater_shrine_susanoo_no_mikoto
# upgrade_greater_shrine_tsukuyomi_no_mikoto
# upgrade_greater_shrine_takemikazuchi
# upgrade_shrine_amaterasu_omikami
# upgrade_shrine_ame_no_uzume
# upgrade_shrine_hachiman
# upgrade_shrine_inari_okami
# upgrade_shrine_ninigi_no_mikoto
# upgrade_shrine_omoikane
# upgrade_shrine_ryujin
# upgrade_shrine_susanoo_no_mikoto
# upgrade_shrine_tsukuyomi_no_mikoto
# upgrade_shrine_takemikazuchi
# upgrade_pilgrim_route
# upgrade_buddhist_shrine
# upgrade_shugendo_shrine
# upgrade_koshin_shrine
# upgrade_inner_sanctum
# upgrade_festival_grounds
# upgrade_grand_torii
# upgrade_pool_of_purification
# upgrade_prayer_hall
# upgrade_shrine_grounds

# TEMPLE AND CEMETERY OF CONFUCIUS and CONFUCIAN GRAND TEMPLE
# upgrade_kong_family_mansion # Only Qufu
# upgrade_confucius_cementery # Only Qufu
# upgrade_confucian_academy
# upgrade_confucian_library
# upgrade_temple_expansion
# upgrade_temple_courtyards
# upgrade_stelae # Only Qufu
# upgrade_confucius_temple_walls
# upgrade_altars_to_disciples
# upgrade_examination_hall
# upgrade_statue_confucius
# upgrade_apricot_platform # Only Qufu
# upgrade_hall_of_great_perfection
# upgrade_spirit_tablets

# TAOIST GRAND TEMPLE
# upgrade_dragon_tiger_statue
# upgrade_taoist_monastery
# upgrade_hall_of_the_jade_emperor
# upgrade_hall_of_the_three_pure_ones
# upgrade_fu_shou_ji_carvings
# upgrade_detailed_bagua
# upgrade_chinese_hospital
# upgrade_meditation_area
# upgrade_imperial_dragon
# upgrade_fenghuang
# upgrade_four_symbols

# LONGMEN GROTTOES
# upgrade_guyangdong
# upgrade_binyangsandong
# upgrade_fengxianxi
# upgrade_huangfugong
# upgrade_wanfudong
# upgrade_yaofangdong
# upgrade_qianxisi
# upgrade_lianhuadong

# Shinto Grand Shrine upgrades

upgrade_greater_shrine_amaterasu_omikami = {
	picture = GFX_upgrade_icon_crates

	potential = {
		NOR = {
			has_wonder_upgrade = upgrade_greater_shrine_ame_no_uzume
			has_wonder_upgrade = upgrade_greater_shrine_hachiman
			has_wonder_upgrade = upgrade_greater_shrine_inari_okami
			has_wonder_upgrade = upgrade_greater_shrine_ninigi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_omoikane
			has_wonder_upgrade = upgrade_greater_shrine_ryujin
			has_wonder_upgrade = upgrade_greater_shrine_susanoo_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_tsukuyomi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_takemikazuchi
		}
	}
	
	allow = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_singular
		holy
	}
	
	build_time = 72
	gold_cost_flat = 1000
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		shinto_opinion = 3
	}
}

upgrade_greater_shrine_ame_no_uzume = {
	picture = GFX_upgrade_icon_crates

	potential = {
		NOR = {
			has_wonder_upgrade = upgrade_greater_shrine_amaterasu_omikami
			has_wonder_upgrade = upgrade_greater_shrine_hachiman
			has_wonder_upgrade = upgrade_greater_shrine_inari_okami
			has_wonder_upgrade = upgrade_greater_shrine_ninigi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_omoikane
			has_wonder_upgrade = upgrade_greater_shrine_ryujin
			has_wonder_upgrade = upgrade_greater_shrine_susanoo_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_tsukuyomi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_takemikazuchi
		}
	}
	
	allow = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_singular
		holy
	}
	
	build_time = 72
	gold_cost_flat = 1000
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		diplomacy = 3
	}
}

upgrade_greater_shrine_hachiman = {
	picture = GFX_upgrade_icon_crates

	potential = {
		NOR = {
			has_wonder_upgrade = upgrade_greater_shrine_amaterasu_omikami
			has_wonder_upgrade = upgrade_greater_shrine_ame_no_uzume
			has_wonder_upgrade = upgrade_greater_shrine_inari_okami
			has_wonder_upgrade = upgrade_greater_shrine_ninigi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_omoikane
			has_wonder_upgrade = upgrade_greater_shrine_ryujin
			has_wonder_upgrade = upgrade_greater_shrine_susanoo_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_tsukuyomi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_takemikazuchi
		}
	}
	
	allow = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_singular
		holy
	}
	
	build_time = 72
	gold_cost_flat = 1000
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		martial = 3
	}
}

upgrade_greater_shrine_inari_okami = {
	picture = GFX_upgrade_icon_crates

	potential = {
		NOR = {
			has_wonder_upgrade = upgrade_greater_shrine_amaterasu_omikami
			has_wonder_upgrade = upgrade_greater_shrine_ame_no_uzume
			has_wonder_upgrade = upgrade_greater_shrine_hachiman
			has_wonder_upgrade = upgrade_greater_shrine_ninigi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_omoikane
			has_wonder_upgrade = upgrade_greater_shrine_ryujin
			has_wonder_upgrade = upgrade_greater_shrine_susanoo_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_tsukuyomi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_takemikazuchi
		}
	}
	
	allow = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_singular
		holy
	}
	
	build_time = 72
	gold_cost_flat = 1000
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		stewardship = 3
	}
}

upgrade_greater_shrine_ninigi_no_mikoto = {
	picture = GFX_upgrade_icon_crates

	potential = {
		NOR = {
			has_wonder_upgrade = upgrade_greater_shrine_amaterasu_omikami
			has_wonder_upgrade = upgrade_greater_shrine_ame_no_uzume
			has_wonder_upgrade = upgrade_greater_shrine_hachiman
			has_wonder_upgrade = upgrade_greater_shrine_inari_okami
			has_wonder_upgrade = upgrade_greater_shrine_omoikane
			has_wonder_upgrade = upgrade_greater_shrine_ryujin
			has_wonder_upgrade = upgrade_greater_shrine_susanoo_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_tsukuyomi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_takemikazuchi
		}
	}
	
	allow = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_singular
		holy
	}
	
	build_time = 72
	gold_cost_flat = 1000
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		dynasty_opinion = 3
	}
}

upgrade_greater_shrine_omoikane = {
	picture = GFX_upgrade_icon_crates

	potential = {
		NOR = {
			has_wonder_upgrade = upgrade_greater_shrine_amaterasu_omikami
			has_wonder_upgrade = upgrade_greater_shrine_ame_no_uzume
			has_wonder_upgrade = upgrade_greater_shrine_hachiman
			has_wonder_upgrade = upgrade_greater_shrine_inari_okami
			has_wonder_upgrade = upgrade_greater_shrine_ninigi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_ryujin
			has_wonder_upgrade = upgrade_greater_shrine_susanoo_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_tsukuyomi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_takemikazuchi
		}
	}
	
	allow = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_singular
		holy
	}
	
	build_time = 72
	gold_cost_flat = 1000
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		learning = 3
	}
}

upgrade_greater_shrine_ryujin = {
	picture = GFX_upgrade_icon_crates

	potential = {
		NOR = {
			has_wonder_upgrade = upgrade_greater_shrine_amaterasu_omikami
			has_wonder_upgrade = upgrade_greater_shrine_ame_no_uzume
			has_wonder_upgrade = upgrade_greater_shrine_hachiman
			has_wonder_upgrade = upgrade_greater_shrine_inari_okami
			has_wonder_upgrade = upgrade_greater_shrine_ninigi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_omoikane
			has_wonder_upgrade = upgrade_greater_shrine_susanoo_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_tsukuyomi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_takemikazuchi
		}
	}
	
	allow = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_singular
		holy
	}
	
	build_time = 72
	gold_cost_flat = 1000
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		health = 0.3
	}
}

upgrade_greater_shrine_susanoo_no_mikoto = {
	picture = GFX_upgrade_icon_crates

	potential = {
		NOR = {
			has_wonder_upgrade = upgrade_greater_shrine_amaterasu_omikami
			has_wonder_upgrade = upgrade_greater_shrine_ame_no_uzume
			has_wonder_upgrade = upgrade_greater_shrine_hachiman
			has_wonder_upgrade = upgrade_greater_shrine_inari_okami
			has_wonder_upgrade = upgrade_greater_shrine_ninigi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_omoikane
			has_wonder_upgrade = upgrade_greater_shrine_ryujin
			has_wonder_upgrade = upgrade_greater_shrine_tsukuyomi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_takemikazuchi
		}
	}
	
	allow = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_singular
		holy
	}
	
	build_time = 72
	gold_cost_flat = 1000
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		fertility = 0.03
	}
}

upgrade_greater_shrine_tsukuyomi_no_mikoto = {
	picture = GFX_upgrade_icon_crates

	potential = {
		NOR = {
			has_wonder_upgrade = upgrade_greater_shrine_amaterasu_omikami
			has_wonder_upgrade = upgrade_greater_shrine_ame_no_uzume
			has_wonder_upgrade = upgrade_greater_shrine_hachiman
			has_wonder_upgrade = upgrade_greater_shrine_inari_okami
			has_wonder_upgrade = upgrade_greater_shrine_ninigi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_omoikane
			has_wonder_upgrade = upgrade_greater_shrine_ryujin
			has_wonder_upgrade = upgrade_greater_shrine_susanoo_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_takemikazuchi
		}
	}
	
	allow = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_singular
		holy
	}
	
	build_time = 72
	gold_cost_flat = 1000
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		intrigue = 3
	}
}

upgrade_greater_shrine_takemikazuchi = {
	picture = GFX_upgrade_icon_crates

	potential = {
		NOR = {
			has_wonder_upgrade = upgrade_greater_shrine_amaterasu_omikami
			has_wonder_upgrade = upgrade_greater_shrine_ame_no_uzume
			has_wonder_upgrade = upgrade_greater_shrine_hachiman
			has_wonder_upgrade = upgrade_greater_shrine_inari_okami
			has_wonder_upgrade = upgrade_greater_shrine_ninigi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_omoikane
			has_wonder_upgrade = upgrade_greater_shrine_ryujin
			has_wonder_upgrade = upgrade_greater_shrine_susanoo_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_tsukuyomi_no_mikoto
		}
	}
	
	allow = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_singular
		holy
	}
	
	build_time = 72
	gold_cost_flat = 1000
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		combat_rating = 3
	}
}

upgrade_shrine_amaterasu_omikami = {
	picture = GFX_upgrade_icon_crates

	potential = {
		OR = {
			has_wonder_upgrade = upgrade_greater_shrine_ame_no_uzume
			has_wonder_upgrade = upgrade_greater_shrine_hachiman
			has_wonder_upgrade = upgrade_greater_shrine_inari_okami
			has_wonder_upgrade = upgrade_greater_shrine_ninigi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_omoikane
			has_wonder_upgrade = upgrade_greater_shrine_ryujin
			has_wonder_upgrade = upgrade_greater_shrine_susanoo_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_tsukuyomi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_takemikazuchi
		}
	}
	
	allow = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_singular
		holy
	}
	
	build_time = 72
	gold_cost_flat = 300
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		shinto_opinion = 1
	}
}

upgrade_shrine_ame_no_uzume = {
	picture = GFX_upgrade_icon_crates

	potential = {
		OR = {
			has_wonder_upgrade = upgrade_greater_shrine_amaterasu_omikami
			has_wonder_upgrade = upgrade_greater_shrine_hachiman
			has_wonder_upgrade = upgrade_greater_shrine_inari_okami
			has_wonder_upgrade = upgrade_greater_shrine_ninigi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_omoikane
			has_wonder_upgrade = upgrade_greater_shrine_ryujin
			has_wonder_upgrade = upgrade_greater_shrine_susanoo_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_tsukuyomi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_takemikazuchi
		}
	}
	
	allow = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_singular
		holy
	}
	
	build_time = 72
	gold_cost_flat = 300
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		diplomacy = 1
	}
}

upgrade_shrine_hachiman = {
	picture = GFX_upgrade_icon_crates

	potential = {
		OR = {
			has_wonder_upgrade = upgrade_greater_shrine_amaterasu_omikami
			has_wonder_upgrade = upgrade_greater_shrine_ame_no_uzume
			has_wonder_upgrade = upgrade_greater_shrine_inari_okami
			has_wonder_upgrade = upgrade_greater_shrine_ninigi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_omoikane
			has_wonder_upgrade = upgrade_greater_shrine_ryujin
			has_wonder_upgrade = upgrade_greater_shrine_susanoo_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_tsukuyomi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_takemikazuchi
		}
	}
	
	allow = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_singular
		holy
	}
	
	build_time = 72
	gold_cost_flat = 300
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		martial = 1
	}
}

upgrade_shrine_inari_okami = {
	picture = GFX_upgrade_icon_crates

	potential = {
		OR = {
			has_wonder_upgrade = upgrade_greater_shrine_amaterasu_omikami
			has_wonder_upgrade = upgrade_greater_shrine_ame_no_uzume
			has_wonder_upgrade = upgrade_greater_shrine_hachiman
			has_wonder_upgrade = upgrade_greater_shrine_ninigi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_omoikane
			has_wonder_upgrade = upgrade_greater_shrine_ryujin
			has_wonder_upgrade = upgrade_greater_shrine_susanoo_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_tsukuyomi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_takemikazuchi
		}
	}
	
	allow = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_singular
		holy
	}
	
	build_time = 72
	gold_cost_flat = 300
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		stewardship = 1
	}
}

upgrade_shrine_ninigi_no_mikoto = {
	picture = GFX_upgrade_icon_crates

	potential = {
		OR = {
			has_wonder_upgrade = upgrade_greater_shrine_amaterasu_omikami
			has_wonder_upgrade = upgrade_greater_shrine_ame_no_uzume
			has_wonder_upgrade = upgrade_greater_shrine_hachiman
			has_wonder_upgrade = upgrade_greater_shrine_inari_okami
			has_wonder_upgrade = upgrade_greater_shrine_omoikane
			has_wonder_upgrade = upgrade_greater_shrine_ryujin
			has_wonder_upgrade = upgrade_greater_shrine_susanoo_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_tsukuyomi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_takemikazuchi
		}
	}
	
	allow = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_singular
		holy
	}
	
	build_time = 72
	gold_cost_flat = 300
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		dynasty_opinion = 1
	}
}

upgrade_shrine_omoikane = {
	picture = GFX_upgrade_icon_crates

	potential = {
		OR = {
			has_wonder_upgrade = upgrade_greater_shrine_amaterasu_omikami
			has_wonder_upgrade = upgrade_greater_shrine_ame_no_uzume
			has_wonder_upgrade = upgrade_greater_shrine_hachiman
			has_wonder_upgrade = upgrade_greater_shrine_inari_okami
			has_wonder_upgrade = upgrade_greater_shrine_ninigi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_ryujin
			has_wonder_upgrade = upgrade_greater_shrine_susanoo_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_tsukuyomi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_takemikazuchi
		}
	}
	
	allow = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_singular
		holy
	}
	
	build_time = 72
	gold_cost_flat = 300
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		learning = 1
	}
}

upgrade_shrine_ryujin = {
	picture = GFX_upgrade_icon_crates

	potential = {
		OR = {
			has_wonder_upgrade = upgrade_greater_shrine_amaterasu_omikami
			has_wonder_upgrade = upgrade_greater_shrine_ame_no_uzume
			has_wonder_upgrade = upgrade_greater_shrine_hachiman
			has_wonder_upgrade = upgrade_greater_shrine_inari_okami
			has_wonder_upgrade = upgrade_greater_shrine_ninigi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_omoikane
			has_wonder_upgrade = upgrade_greater_shrine_susanoo_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_tsukuyomi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_takemikazuchi
		}
	}
	
	allow = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_singular
		holy
	}
	
	build_time = 72
	gold_cost_flat = 300
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		health = 0.1
	}
}

upgrade_shrine_susanoo_no_mikoto = {
	picture = GFX_upgrade_icon_crates

	potential = {
		OR = {
			has_wonder_upgrade = upgrade_greater_shrine_amaterasu_omikami
			has_wonder_upgrade = upgrade_greater_shrine_ame_no_uzume
			has_wonder_upgrade = upgrade_greater_shrine_hachiman
			has_wonder_upgrade = upgrade_greater_shrine_inari_okami
			has_wonder_upgrade = upgrade_greater_shrine_ninigi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_omoikane
			has_wonder_upgrade = upgrade_greater_shrine_ryujin
			has_wonder_upgrade = upgrade_greater_shrine_tsukuyomi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_takemikazuchi
		}
	}
	
	allow = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_singular
		holy
	}
	
	build_time = 72
	gold_cost_flat = 300
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		fertility = 0.01
	}
}

upgrade_shrine_tsukuyomi_no_mikoto = {
	picture = GFX_upgrade_icon_crates

	potential = {
		OR = {
			has_wonder_upgrade = upgrade_greater_shrine_amaterasu_omikami
			has_wonder_upgrade = upgrade_greater_shrine_ame_no_uzume
			has_wonder_upgrade = upgrade_greater_shrine_hachiman
			has_wonder_upgrade = upgrade_greater_shrine_inari_okami
			has_wonder_upgrade = upgrade_greater_shrine_ninigi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_omoikane
			has_wonder_upgrade = upgrade_greater_shrine_ryujin
			has_wonder_upgrade = upgrade_greater_shrine_susanoo_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_takemikazuchi
		}
	}
	
	allow = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_singular
		holy
	}
	
	build_time = 72
	gold_cost_flat = 300
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		intrigue = 1
	}
}

upgrade_shrine_takemikazuchi = {
	picture = GFX_upgrade_icon_crates

	potential = {
		OR = {
			has_wonder_upgrade = upgrade_greater_shrine_amaterasu_omikami
			has_wonder_upgrade = upgrade_greater_shrine_ame_no_uzume
			has_wonder_upgrade = upgrade_greater_shrine_hachiman
			has_wonder_upgrade = upgrade_greater_shrine_inari_okami
			has_wonder_upgrade = upgrade_greater_shrine_ninigi_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_omoikane
			has_wonder_upgrade = upgrade_greater_shrine_ryujin
			has_wonder_upgrade = upgrade_greater_shrine_susanoo_no_mikoto
			has_wonder_upgrade = upgrade_greater_shrine_tsukuyomi_no_mikoto
		}
	}
	
	allow = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_singular
		holy
	}
	
	build_time = 72
	gold_cost_flat = 300
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		combat_rating = 1
	}
}

upgrade_pilgrim_route = {
	picture = GFX_upgrade_icon_roses_red
	
	potential = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	allow = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	flags = {
		is_singular
		holy
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		same_religion_opinion = 3
	}
}

upgrade_buddhist_shrine = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		OR = {
			AND = {
				has_japanese_religion_trigger = yes
				NOT = {
					trait = zealous
				}
			}
			religion = buddhist
		}
	}
	
	allow = {
		OR = {
			AND = {
				has_japanese_religion_trigger = yes
				NOT = {
					trait = zealous
				}
			}
			religion = buddhist
		}
	}
	
	active = {
		OR = {
			AND = {
				has_japanese_religion_trigger = yes
				NOT = {
					trait = zealous
				}
			}
			religion = buddhist
		}
	}
	
	flags = {
		is_singular
		holy
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		buddhist_opinion = 3
	}
}

upgrade_shugendo_shrine = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		OR = {
			AND = {
				OR = {
					religion = shinto
					AND = {
						religion = buddhist
						culture_group = japonic
					}
					religion = koshin
				}
				NOT = {
					trait = zealous
				}
			}
			religion = shugendo
		}
	}
	
	allow = {
		OR = {
			AND = {
				OR = {
					religion = shinto
					AND = {
						religion = buddhist
						culture_group = japonic
					}
					religion = koshin
				}
				NOT = {
					trait = zealous
				}
			}
			religion = shugendo
		}
	}
	
	active = {
		OR = {
			AND = {
				OR = {
					religion = shinto
					AND = {
						religion = buddhist
						culture_group = japonic
					}
					religion = koshin
				}
				NOT = {
					trait = zealous
				}
			}
			religion = shugendo
		}
	}
	
	flags = {
		is_singular
		holy
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		shugendo_opinion = 3
	}
}

upgrade_koshin_shrine = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		OR = {
			AND = {
				OR = {
					religion = shinto
					AND = {
						religion = buddhist
						culture_group = japonic
					}
					religion = shugendo
				}
				NOT = {
					trait = zealous
				}
			}
			religion = koshin
		}
	}
	
	allow = {
		OR = {
			AND = {
				OR = {
					religion = shinto
					AND = {
						religion = buddhist
						culture_group = japonic
					}
					religion = shugendo
				}
				NOT = {
					trait = zealous
				}
			}
			religion = koshin
		}
	}
	
	active = {
		OR = {
			AND = {
				OR = {
					religion = shinto
					AND = {
						religion = buddhist
						culture_group = japonic
					}
					religion = shugendo
				}
				NOT = {
					trait = zealous
				}
			}
			religion = koshin
		}
	}
	
	flags = {
		is_singular
		holy
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		koshin_opinion = 3
	}
}

upgrade_inner_sanctum = {
	picture = GFX_upgrade_icon_roses_red
	
	potential = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	allow = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	flags = {
		is_singular
		holy
		valuable
		stores_relic
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		monthly_character_piety = 0.25
		custom_modifier_text = storing_a_relic_possible_modifier_tt
	}
}

upgrade_festival_grounds = {
	picture = GFX_upgrade_icon_roses_red
	
	potential = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	allow = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	flags = {
		is_plural
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
		local_revolt_risk = -0.05
	}
	
	owner_modifier = {
	}
}

upgrade_grand_torii = {
	picture = GFX_upgrade_icon_roses_red
	
	potential = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	allow = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	flags = {
		is_singular
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		monthly_character_prestige = 0.5
	}
}

upgrade_pool_of_purification = {
	picture = GFX_upgrade_icon_roses_red
	
	potential = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	allow = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_singular
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
		disease_defence = 0.05
	}
	
	owner_modifier = {
	}
}

upgrade_prayer_hall = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	allow = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_singular
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		monthly_character_piety = 0.5
	}
}

upgrade_shrine_grounds = {
	picture = GFX_upgrade_icon_roses_white
	
	potential = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	allow = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			has_japanese_religion_trigger = yes
			AND = {
				culture_group = japonic
				religion = buddhist
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		holy
		decorative
		nature
		is_plural
		secluded
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
		local_revolt_risk = -0.04
	}
	
	owner_modifier = {
		custom_modifier_text = private_talk_possible_modifier_tt
	}
}

# Temple and Cemetery of Confucius upgrades + generic Grand Confucian Temple

upgrade_kong_family_mansion = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	allow = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		holy
		is_singular
		unlocks_minor_title
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		monthly_character_prestige = 1
		custom_modifier_text = unlocks_duke_of_yansheng
	}
}

upgrade_confucius_cementery = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	allow = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		holy
		is_singular
		kong_family_burial
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		monthly_character_piety = 1
		kong_family_burial = 1
	}
}

upgrade_confucian_academy = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	allow = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_singular
		culture_conversion_faster
		inspires_learning
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		scholar_opinion = 5
		tech_growth_modifier = 0.5
	}
}

upgrade_confucian_library = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	allow = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_singular
		culture_conversion_faster
		inspires_learning
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
		culture_techpoints = 0.05
		economy_techpoints = 0.05
	}
	
	owner_modifier = {
		learning = 2
	}
}

upgrade_temple_expansion = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	allow = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_singular
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
		local_tax_modifier = 0.1
	}
	
	owner_modifier = {
	}
}

upgrade_temple_courtyards = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
		has_wonder_upgrade = upgrade_temple_expansion
	}
	
	allow = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_plural
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
		local_revolt_risk = -0.1
	}
	
	owner_modifier = {
	}
}

upgrade_stelae = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	allow = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_plural
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		vassal_opinion = 5
	}
}

upgrade_confucius_temple_walls = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
		has_wonder_upgrade = upgrade_temple_courtyards
	}
	
	allow = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_plural
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
		military_techpoints = 0.05
	}
	
	owner_modifier = {
	}
}

upgrade_altars_to_disciples = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	allow = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_plural
		holy
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		confucian_opinion = 2
	}
}

upgrade_examination_hall = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	allow = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_singular
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
		culture_techpoints = 0.05
		economy_techpoints = 0.05
	}
	
	owner_modifier = {
		stewardship = 2
	}
}

upgrade_statue_confucius = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	allow = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_singular
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		confucian_opinion = 2
	}
}

upgrade_apricot_platform = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	allow = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_singular
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		confucian_opinion = 2
		gregarious_opinion = 5
	}
}

upgrade_hall_of_great_perfection = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
		num_of_wonder_upgrades = 6
	}
	
	allow = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_singular
		holy
	}
	
	build_time = 24
	gold_cost_flat = 1000
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		monthly_character_piety = 0.5
		monthly_character_prestige = 0.5
	}
}

upgrade_spirit_tablets = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
		has_wonder_upgrade = upgrade_hall_of_great_perfection
	}
	
	allow = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	active = {
		OR = {
			religion = confucian
			AND = {
				has_chinese_government_trigger = yes
				NOT = {
					trait = zealous
				}
			}
		}
	}

	flags = {
		is_plural
		is_holy
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		mystic_opinion = 5
		confucian_opinion = 2
	}
}

# Grand Taoist Temple
upgrade_dragon_tiger_statue = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		religion = taoist
	}
	
	allow = {
		religion = taoist
	}
	
	active = {
		religion = taoist
	}

	flags = {
		is_singular
		is_holy
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
		local_revolt_risk = -0.04
	}
	
	owner_modifier = {
	}
}

upgrade_taoist_monastery = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		religion = taoist
	}
	
	allow = {
		religion = taoist
	}
	
	active = {
		religion = taoist
	}

	flags = {
		is_singular
		is_holy
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		taoist_opinion = 3
	}
}

upgrade_hall_of_the_jade_emperor = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		religion = taoist
	}
	
	allow = {
		religion = taoist
	}
	
	active = {
		religion = taoist
	}

	flags = {
		is_singular
		is_holy
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		monthly_character_piety = 0.25
	}
}

upgrade_hall_of_the_three_pure_ones = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		religion = taoist
	}
	
	allow = {
		religion = taoist
	}
	
	active = {
		religion = taoist
	}

	flags = {
		is_singular
		is_holy
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		monthly_character_piety = 0.25
	}
}

upgrade_fu_shou_ji_carvings = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		religion = taoist
	}
	
	allow = {
		religion = taoist
	}
	
	active = {
		religion = taoist
	}

	flags = {
		is_singular
		is_holy
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		taoist_opinion = 2
	}
}

upgrade_detailed_bagua = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		religion = taoist
	}
	
	allow = {
		religion = taoist
	}
	
	active = {
		religion = taoist
	}

	flags = {
		is_singular
		is_holy
		inspires_learning
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		taoist_opinion = 2
		mystic_opinion = 5
	}
}

upgrade_chinese_hospital = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		religion = taoist
	}
	
	allow = {
		religion = taoist
	}
	
	active = {
		religion = taoist
	}

	flags = {
		is_singular
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
		disease_defence = 0.05
	}
	
	owner_modifier = {
	}
}

upgrade_meditation_area = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		religion = taoist
	}
	
	allow = {
		religion = taoist
	}
	
	active = {
		religion = taoist
	}

	flags = {
		is_singular
		holy
		secluded
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		monthly_character_piety = 0.25
	}
}

upgrade_imperial_dragon = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		government = chinese_imperial_government
		religion = taoist
	}
	
	allow = {
		government = chinese_imperial_government
		religion = taoist
	}
	
	active = {
		government = chinese_imperial_government
		religion = taoist
	}

	flags = {
		is_singular
	}
	
	build_time = 24
	gold_cost_flat = 1000
	gold_cost_ticking = 1
	
	local_modifier = {
		local_revolt_risk = -0.1
	}
	
	owner_modifier = {
		vassal_opinion = 5
		monthly_character_prestige = 0.25
	}
}

upgrade_fenghuang = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		religion = taoist
	}
	
	allow = {
		religion = taoist
	}
	
	active = {
		religion = taoist
	}

	flags = {
		is_singular
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		spouse_opinion = 5
		fertility = 0.05
	}
}

upgrade_four_symbols = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		religion = taoist
	}
	
	allow = {
		religion = taoist
	}
	
	active = {
		religion = taoist
	}

	flags = {
		is_plural
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		monthly_character_piety = 0.25
	}
}

# Longmen Grottoes upgrades

upgrade_guyangdong = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		religion = buddhist
	}
	
	allow = {
		religion = buddhist
	}
	
	active = {
		religion = buddhist
	}

	flags = {
		is_singular
		inspires_learning
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		learning = 1
		scholar_opinion = 5
	}
}

upgrade_binyangsandong = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		religion = buddhist
	}
	
	allow = {
		religion = buddhist
	}
	
	active = {
		religion = buddhist
	}

	flags = {
		is_singular
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		dynasty_opinion = 3
	}
}

upgrade_fengxianxi = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		religion = buddhist
	}
	
	allow = {
		religion = buddhist
	}
	
	active = {
		religion = buddhist
	}

	flags = {
		is_singular
		holy
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		dynasty_opinion = 2
		architect_opinion = 5
	}
}

upgrade_huangfugong = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		religion = buddhist
	}
	
	allow = {
		religion = buddhist
	}
	
	active = {
		religion = buddhist
	}

	flags = {
		is_singular
		holy
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		indian_group_opinion = 3
	}
}

upgrade_wanfudong = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		religion = buddhist
	}
	
	allow = {
		religion = buddhist
	}
	
	active = {
		religion = buddhist
	}

	flags = {
		is_singular
		holy
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		buddhist_opinion = 3
	}
}

upgrade_yaofangdong = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		religion = buddhist
	}
	
	allow = {
		religion = buddhist
	}
	
	active = {
		religion = buddhist
	}

	flags = {
		is_singular
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
		disease_defence = 0.05
	}
	
	owner_modifier = {
	}
}

upgrade_qianxisi = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		religion = buddhist
	}
	
	allow = {
		religion = buddhist
	}
	
	active = {
		religion = buddhist
	}

	flags = {
		is_singular
		holy
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
		local_revolt_risk = -0.02
	}
	
	owner_modifier = {
	}
}

upgrade_lianhuadong = {
	picture = GFX_upgrade_icon_crates
	
	potential = {
		religion = buddhist
	}
	
	allow = {
		religion = buddhist
	}
	
	active = {
		religion = buddhist
	}

	flags = {
		is_singular
	}
	
	build_time = 24
	gold_cost_flat = 450
	gold_cost_ticking = 1
	
	local_modifier = {
	}
	
	owner_modifier = {
		monthly_character_piety = 0.25
	}
}