# Religion conversion events in China/etc.
# By shenxy13

namespace = soh

# soh.9701-9800 reserved



##### Chinese religious conversion

# Characters convert
character_event = {
	id = soh.9701
	hide_window = yes
	
	only_playable = yes
	
	is_triggered_only = yes # on_decade_pulse
	
	trigger = {
		religions_are_standard_trigger = yes
		
		could_have_chinese_government_trigger = yes
		
		any_courtier = {
			is_landed = no
			is_adult = yes
			is_inaccessible_or_incapable_trigger = no
			is_ascetic_trigger = no
			
			could_have_chinese_government_trigger = yes
			
			NOR = {
				AND = {
					OR = {
						trait = zealous
						trait = proud
					}
					NOR = {
						has_secret_chinese_eastern_religion_trigger = yes
						AND = {
							secret_religion = buddhist
							has_chinese_or_historical_culture_trigger = yes # The stricter one
						}
						religion_secretly_bai_or_reformed_trigger = yes
						religion_secretly_chinese_or_reformed_trigger = yes
						religion_secretly_korean_or_reformed_trigger = yes
						religion_secretly_miao_or_reformed_trigger = yes
						religion_secretly_viet_or_reformed_trigger = yes
						religion_secretly_yi_or_reformed_trigger = yes
						religion_secretly_zhuang_or_reformed_trigger = yes
					}
				}
				has_character_flag = china_converted
				has_character_flag = chinese_religion_switch
				has_character_flag = no_chinese_religion_switch
				has_character_flag = ai_flag_refuse_conversion
				AND = {
					has_secret_religion = yes
					NOR = {
						secret_religion = buddhist
						has_secret_chinese_eastern_religion_trigger = yes
					}
				}
			}
		}
	}
	
	immediate = {
		any_courtier = {
			limit = {
				is_landed = no
				is_adult = yes
				is_inaccessible_or_incapable_trigger = no
				is_ascetic_trigger = no

				could_have_chinese_government_trigger = yes

				NOR = {
					AND = {
						OR = {
							trait = zealous
							trait = proud
						}
						NOR = {
							has_secret_chinese_eastern_religion_trigger = yes
							AND = {
								secret_religion = buddhist
								has_chinese_or_historical_culture_trigger = yes # The stricter one
							}
							religion_secretly_bai_or_reformed_trigger = yes
							religion_secretly_chinese_or_reformed_trigger = yes
							religion_secretly_korean_or_reformed_trigger = yes
							religion_secretly_miao_or_reformed_trigger = yes
							religion_secretly_viet_or_reformed_trigger = yes
							religion_secretly_yi_or_reformed_trigger = yes
							religion_secretly_zhuang_or_reformed_trigger = yes
						}
					}
					has_character_flag = china_converted
					has_character_flag = chinese_religion_switch
					has_character_flag = no_chinese_religion_switch
					has_character_flag = ai_flag_refuse_conversion
					AND = {
						has_secret_religion = yes
						NOR = {
							secret_religion = buddhist
							has_secret_chinese_eastern_religion_trigger = yes
						}
					}
				}
			}
			
			random_list = {
				90 = {
					mult_modifier = {
						factor = 5
						host = {
							dynasty = ROOT
							is_close_relative = ROOT
							real_tier = emperor
						}
					}
					
					mult_modifier = {
						factor = 2
						host = {
							dynasty = ROOT
							is_close_relative = ROOT
							real_tier = king
						}
					}
					
					mult_modifier = {
						factor = 5
						religion = confucian
						dynasty = 1000158294 # Kong
						any_owned_bloodline = {
							has_bloodline_flag = confucius
							bloodline_is_active_for = PREV
						}
					}
					
					mult_modifier = {
						factor = 2
						trait = content
					}
					
					random_list = {
						50 = {
							# Do nothing
						}
						
						50 = {
							# Make ineligible for future events; reduce spam!
							set_character_flag = no_chinese_religion_switch
						}
					}
				}

				10 = {
					mult_modifier = {
						factor = 2
						has_secret_religion = yes
					}
	
					set_character_flag = chinese_religion_switch

					random_list = {
						25 = {
							trigger = {
								NOT = {
									religion = confucian
								}
							}
							
							mult_modifier = {
								factor = 100
								true_religion = confucian
							}
			
							mult_modifier = {
								factor = 0.2
								# Try to keep it somewhat historical
								NOR = {
									culture = han
									culture = korean
								}
							}
			
							mult_modifier = {
								factor = 5
								# Heirs of Confucius should be motivated to return to the Confucian faith
								any_owned_bloodline = {
									has_bloodline_flag = confucius
									bloodline_is_active_for = ROOT
								}
							}
				
			
							religion = confucian
						}
		
						25 = {
							trigger = {
								NOT = {
									religion = taoist
								}
							}
							
							mult_modifier = {
								factor = 100
								true_religion = taoist
							}
			
							mult_modifier = {
								factor = 0.1
								# Limit the spread of Taoism outside China
								NOR = {
									culture_group = chinese_group
									culture = yao
									culture = qiang
									culture = nakhi
								}
							}
			
							mult_modifier = {
								factor = 0.2
								# Limit the spread of Taoism for groups in China that didn't embrace it historically
								OR = {
									culture = bai
									culture = tujia
								}
							}
			
							mult_modifier = {
								factor = 0.2
								# Heirs of Confucius should be motivated to return to the Confucian faith
								religion = confucian
								any_owned_bloodline = {
									has_bloodline_flag = confucius
									bloodline_is_active_for = ROOT
								}
							}
				
							religion = taoist
						}
		
						10 = {
							trigger = {
								NOR = {
									religion = buddhist
									AND = {
										any_close_relative = {
											dynasty = ROOT
											government = chinese_imperial_government
										}
										has_chinese_or_historical_culture_for_chinese_imperial_trigger = no
									}
									AND = {
										any_close_relative = {
											dynasty = ROOT
											OR = {
												government = chinese_vassal_government
												government = eastern_imperial_government
											}
										}
										has_chinese_or_historical_culture_trigger = no
									}
								}
							}
							
							mult_modifier = {
								factor = 100
								true_religion = buddhist
							}
			
							mult_modifier = {
								factor = 0.2
								# Stem it a bit for groups that shouldn't adopt Buddhism too readily
								OR = {
									# Possibly Yi as well, but then we have Nanzhao...
									culture_group = hmongmien
									culture_group = rauic_group
									culture = tujia
								}
							}
			
							mult_modifier = {
								factor = 2
								# Try to keep it somewhat historical
								OR = {
									culture = korean
									culture = bai
								}
							}
			
							mult_modifier = {
								factor = 0.2
								# Heirs of Confucius should be motivated to return to the Confucian faith
								religion = confucian
								any_owned_bloodline = {
									has_bloodline_flag = confucius
									bloodline_is_active_for = ROOT
								}
							}
				
							religion = taoist
						}
		
						25 = {
							trigger = {
								religion_openly_chinese_or_reformed_trigger = no
								OR = {
									AND = {
										culture_group = chinese_group
										NOT = {
											culture = bai
										}
									}
									religion_secretly_chinese_or_reformed_trigger = yes
								}
							}
							
							mult_modifier = {
								factor = 100
								religion_secretly_chinese_or_reformed_trigger = yes
							}
			
							mult_modifier = {
								factor = 0.2
								# Heirs of Confucius should be motivated to return to the Confucian faith
								religion = confucian
								any_owned_bloodline = {
									has_bloodline_flag = confucius
									bloodline_is_active_for = ROOT
								}
							}
				
							if = {
								limit = {
									chinese_pagan = {
										has_flag = has_been_reformed
									}
					
									chinese_pagan_reformed = {
										religion_has_confucian_bureaucracy_reformation_trigger = yes
									}
								}
				
								religion = chinese_pagan_reformed
							}
			
							else = {
								religion = chinese_pagan
							}
						}
		
						25 = {
							trigger = {
								religion_openly_korean_or_reformed_trigger = no
								OR = {
									culture_group = koreanic
									religion_secretly_korean_or_reformed_trigger = yes
								}
							}
							
							mult_modifier = {
								factor = 100
								religion_secretly_korean_or_reformed_trigger = yes
							}
			
							mult_modifier = {
								factor = 0.2
								# Heirs of Confucius should be motivated to return to the Confucian faith
								religion = confucian
								any_owned_bloodline = {
									has_bloodline_flag = confucius
									bloodline_is_active_for = ROOT
								}
							}
				
							if = {
								limit = {
									korean_pagan = {
										has_flag = has_been_reformed
									}
					
									korean_pagan_reformed = {
										religion_has_confucian_bureaucracy_reformation_trigger = yes
									}
								}
				
								religion = korean_pagan_reformed
							}
			
							else = {
								religion = korean_pagan
							}
						}
		
						25 = {
							trigger = {
								religion_openly_viet_or_reformed_trigger = no
								OR = {
									culture_group = vietic
									religion_secretly_viet_or_reformed_trigger = yes
								}
							}
							
							mult_modifier = {
								factor = 100
								religion_secretly_viet_or_reformed_trigger = yes
							}
			
							mult_modifier = {
								factor = 0.2
								# Heirs of Confucius should be motivated to return to the Confucian faith
								religion = confucian
								any_owned_bloodline = {
									has_bloodline_flag = confucius
									bloodline_is_active_for = ROOT
								}
							}
				
							if = {
								limit = {
									viet_pagan = {
										has_flag = has_been_reformed
									}
					
									viet_pagan_reformed = {
										religion_has_confucian_bureaucracy_reformation_trigger = yes
									}
								}
				
								religion = viet_pagan_reformed
							}
			
							else = {
								religion = viet_pagan
							}
						}
		
						25 = {
							trigger = {
								religion_openly_bai_or_reformed_trigger = no
								OR = {
									culture = bai
									religion_secretly_bai_or_reformed_trigger = yes
								}
							}
							
							mult_modifier = {
								factor = 100
								religion_secretly_bai_or_reformed_trigger = yes
							}
			
							mult_modifier = {
								factor = 0.2
								# Heirs of Confucius should be motivated to return to the Confucian faith
								religion = confucian
								any_owned_bloodline = {
									has_bloodline_flag = confucius
									bloodline_is_active_for = ROOT
								}
							}
				
							if = {
								limit = {
									bai_pagan = {
										has_flag = has_been_reformed
									}
					
									bai_pagan_reformed = {
										religion_has_confucian_bureaucracy_reformation_trigger = yes
									}
								}
				
								religion = bai_pagan_reformed
							}
			
							else = {
								religion = bai_pagan
							}
						}
		
						25 = {
							trigger = {
								religion_openly_yi_or_reformed_trigger = no
								OR = {
									culture = yi
									religion_secretly_yi_or_reformed_trigger = yes
								}
							}
							
							mult_modifier = {
								factor = 100
								religion_secretly_yi_or_reformed_trigger = yes
							}
			
							mult_modifier = {
								factor = 0.2
								# Heirs of Confucius should be motivated to return to the Confucian faith
								religion = confucian
								any_owned_bloodline = {
									has_bloodline_flag = confucius
									bloodline_is_active_for = ROOT
								}
							}
				
							if = {
								limit = {
									yi_pagan = {
										has_flag = has_been_reformed
									}
					
									yi_pagan_reformed = {
										religion_has_confucian_bureaucracy_reformation_trigger = yes
									}
								}
				
								religion = yi_pagan_reformed
							}
			
							else = {
								religion = yi_pagan
							}
						}
		
						25 = {
							trigger = {
								religion_openly_miao_or_reformed_trigger = no
								
								OR = {
									AND = {
										culture_group = hmongmien
										NOT = {
											culture = yao
										}
									}
									religion_secretly_miao_or_reformed_trigger = yes
								}
							}
							
							mult_modifier = {
								factor = 100
								religion_secretly_miao_or_reformed_trigger = yes
							}
			
							mult_modifier = {
								factor = 0.2
								# Heirs of Confucius should be motivated to return to the Confucian faith
								religion = confucian
								any_owned_bloodline = {
									has_bloodline_flag = confucius
									bloodline_is_active_for = ROOT
								}
							}
				
							if = {
								limit = {
									miao_pagan = {
										has_flag = has_been_reformed
									}
					
									miao_pagan_reformed = {
										religion_has_confucian_bureaucracy_reformation_trigger = yes
									}
								}
				
								religion = miao_pagan_reformed
							}
			
							else = {
								religion = miao_pagan
							}
						}
		
						25 = {
							trigger = {
								religion_openly_zhuang_or_reformed_trigger = no
								OR = {
									culture_group = rauic_group
									religion_secretly_zhuang_or_reformed_trigger = yes
								}
							}
							
							mult_modifier = {
								factor = 100
								religion_secretly_zhuang_or_reformed_trigger = yes
							}
			
							mult_modifier = {
								factor = 0.2
								# Heirs of Confucius should be motivated to return to the Confucian faith
								religion = confucian
								any_owned_bloodline = {
									has_bloodline_flag = confucius
									bloodline_is_active_for = ROOT
								}
							}
				
							if = {
								limit = {
									zhuang_pagan = {
										has_flag = has_been_reformed
									}
					
									zhuang_pagan_reformed = {
										religion_has_confucian_bureaucracy_reformation_trigger = yes
									}
								}
				
								religion = zhuang_pagan_reformed
							}
			
							else = {
								religion = zhuang_pagan
							}
						}
					}
				}
			}
		}
	}
}

### Provinces convert

# Confucian -> Anything
province_event = {
	id = soh.9702
	desc = EVTDESC_SOH_9702
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_religion
	
	trigger = {
		religion = confucian
		
		religions_are_standard_trigger = yes
	}
	
	mean_time_to_happen = {
		months = 1200
		
		mult_modifier = {
			factor = 2
			religion_authority >= 0.6
		}
		
		mult_modifier = {
			factor = 2
			religion_authority >= 0.8
		}
		
		mult_modifier = {
			factor = 2
			has_game_rule = {
				name = religious_conversion
				value = slower
			}
		}
		
		mult_modifier = {
			factor = 0.75
			NOT = { religion_authority >= 0.2 }
		}
		
		mult_modifier = {
			factor = 0.75
			NOT = { religion_authority >= 0.4 }
		}
	}
	
	immediate = {
		random_list = {
			25 = {
				mult_modifier = {
					factor = 0.1 # Limit the spread of Taoism outside China
					NOT = {
						culture_group = chinese_group
						culture = yao
						culture = qiang
						culture = nakhi
					}
				}

				mult_modifier = {
					factor = 0.2 # Limit the spread of Taoism for groups in China that didn't embrace it historically
					OR = {
						culture = bai
						culture = tujia
					}
				}

				religion = taoist
			}
			
			10 = {
				trigger = {
					has_chinese_or_historical_culture_for_chinese_imperial_trigger = yes
				}

				mult_modifier = {
					factor = 0.2 # Stem it a bit for groups that shouldn't adopt Buddhism too readily
					OR = { # Possibly Yi as well, but then we have Nanzhao...
						culture_group = hmongmien
						culture_group = rauic_group
						culture = tujia
					}
				}
			
				mult_modifier = {
					factor = 2
					# Try to keep it somewhat historical
					OR = {
						culture = korean
						culture = bai
					}
				}
				religion = buddhist
			}
			
			10 = {
				trigger = {
					culture_group = chinese_group
					NOT = {
						culture = bai
					}
				}
				
				if = {
					limit = {
						chinese_pagan = {
							has_flag = has_been_reformed
						}
		
						chinese_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = chinese_pagan_reformed
				}

				else = {
					religion = chinese_pagan
				}
			}
			
			10 = {
				trigger = {
					culture_group = koreanic
				}
				
				if = {
					limit = {
						korean_pagan = {
							has_flag = has_been_reformed
						}
		
						korean_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = korean_pagan_reformed
				}

				else = {
					religion = korean_pagan
				}
			}
			
			10 = {
				trigger = {
					culture_group = vietic
				}
				
				if = {
					limit = {
						viet_pagan = {
							has_flag = has_been_reformed
						}
		
						viet_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = viet_pagan_reformed
				}

				else = {
					religion = viet_pagan
				}
			}
			
			10 = {
				trigger = {
					culture = bai
				}
				
				if = {
					limit = {
						bai_pagan = {
							has_flag = has_been_reformed
						}
		
						bai_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = bai_pagan_reformed
				}

				else = {
					religion = bai_pagan
				}
			}
			
			10 = {
				trigger = {
					culture = yi
				}
				
				if = {
					limit = {
						yi_pagan = {
							has_flag = has_been_reformed
						}
		
						yi_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = yi_pagan_reformed
				}

				else = {
					religion = yi_pagan
				}
			}
			
			10 = {
				trigger = {
					culture_group = rauic_group
				}

				if = {
					limit = {
						zhuang_pagan = {
							has_flag = has_been_reformed
						}
		
						zhuang_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = zhuang_pagan_reformed
				}

				else = {
					religion = zhuang_pagan
				}
			}
			
			10 = {
				trigger = {
					culture_group = hmongmien
					NOT = {
						culture = yao
					}
				}

				if = {
					limit = {
						miao_pagan = {
							has_flag = has_been_reformed
						}
		
						miao_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = miao_pagan_reformed
				}

				else = {
					religion = miao_pagan
				}
			}
		}
		
		add_province_modifier = {
			name = religious_unrest
			duration = 730
		}
	}
	
	option = {
		name = {
			trigger = {
				owner = {
					NOR = {
						religion = confucian
						religion = ROOT
					}
				}
			}
			
			text = EVTOPTA_SOH_9702
		}
		
		name = {
			trigger = {
				owner = {
					religion = ROOT
				}
			}
			
			text = EVTOPTB_SOH_9702
		}
		
		name = {
			trigger = {
				owner = {
					religion = confucian
				}
			}
			
			text = EVTOPTC_SOH_9702
		}
		
		if = {
			limit = { 
				owner = {
					religion = confucian
				}
			}
			
			owner = { piety = -10 }
		}
		
		# News spread
		hidden_tooltip = {
			owner = {
				top_liege = {
					if = {
						limit = {
							NOT = { character = PREV }
						}
						
						character_event = { id = soh.9703 days = 2 }
					}
					
					any_vassal = {
						limit = {
							OR = {
								religion = confucian
								religion = ROOT
							}
						}
						
						character_event = { id = soh.9703 days = 2 }
					}
				}
			}
		}
	}
}

# News spread in realm
character_event = {
	id = soh.9703
	desc = EVTDESC_SOH_9703
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOR = {
				religion = confucian
				religion = FROM
			}
		}
		
		name = EVTOPTA_SOH_9703
	}
	
	option = {
		trigger = {
			religion = FROM
		}
		
		name = EVTOPTB_SOH_9703
	}
	
	option = {
		trigger = {
			religion = confucian
		}
		
		name = EVTOPTC_SOH_9703
	}
}

# Taoist -> Anything
province_event = {
	id = soh.9704
	desc = EVTDESC_SOH_9704
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_religion
	
	trigger = {
		religion = taoist
		
		religions_are_standard_trigger = yes
	}
	
	mean_time_to_happen = {
		months = 1200
		
		mult_modifier = {
			factor = 2
			religion_authority >= 0.6
		}
		
		mult_modifier = {
			factor = 2
			religion_authority >= 0.8
		}
		
		mult_modifier = {
			factor = 2
			has_game_rule = {
				name = religious_conversion
				value = slower
			}
		}
		
		mult_modifier = {
			factor = 0.75
			NOT = { religion_authority >= 0.2 }
		}
		
		mult_modifier = {
			factor = 0.75
			NOT = { religion_authority >= 0.4 }
		}
	}
	
	immediate = {
		random_list = {
			10 = {
				mult_modifier = {
					factor = 0.5 # Limit the spread of Confucianism far outside its historical range
					NOT = {
						culture_group = chinese_group
						culture_group = koreanic
						culture_group = vietic
					}
				}
				mult_modifier = {
					factor = 0.2 # Limit the spread of Confucianism outside its historical range
					NOT = {
						culture = han
						culture = korean
					}
				}
				religion = confucian
			}
			
			10 = {
				trigger = {
					has_chinese_or_historical_culture_for_chinese_imperial_trigger = yes
				}
				mult_modifier = {
					factor = 0.2 # Stem it a bit for groups that shouldn't adopt Buddhism too readily
					OR = { # Possibly Yi as well, but then we have Nanzhao...
						culture_group = hmongmien
						culture_group = rauic_group
						culture = tujia
					}
				}
			
				mult_modifier = {
					factor = 2
					# Try to keep it somewhat historical
					OR = {
						culture = korean
						culture = bai
					}
				}
				religion = buddhist
			}
			
			10 = {
				trigger = {
					culture_group = chinese_group
					NOT = {
						culture = bai
					}
				}
				
				if = {
					limit = {
						chinese_pagan = {
							has_flag = has_been_reformed
						}
		
						chinese_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = chinese_pagan_reformed
				}

				else = {
					religion = chinese_pagan
				}
			}
			
			10 = {
				trigger = {
					culture_group = koreanic
				}
				
				if = {
					limit = {
						korean_pagan = {
							has_flag = has_been_reformed
						}
		
						korean_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = korean_pagan_reformed
				}

				else = {
					religion = korean_pagan
				}
			}
			
			10 = {
				trigger = {
					culture_group = vietic
				}
				
				if = {
					limit = {
						viet_pagan = {
							has_flag = has_been_reformed
						}
		
						viet_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = viet_pagan_reformed
				}

				else = {
					religion = viet_pagan
				}
			}
			
			10 = {
				trigger = {
					culture = bai
				}
				
				if = {
					limit = {
						bai_pagan = {
							has_flag = has_been_reformed
						}
		
						bai_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = bai_pagan_reformed
				}

				else = {
					religion = bai_pagan
				}
			}
			
			10 = {
				trigger = {
					culture = yi
				}
				
				if = {
					limit = {
						yi_pagan = {
							has_flag = has_been_reformed
						}
		
						yi_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = yi_pagan_reformed
				}

				else = {
					religion = yi_pagan
				}
			}
			
			10 = {
				trigger = {
					culture_group = rauic_group
				}

				if = {
					limit = {
						zhuang_pagan = {
							has_flag = has_been_reformed
						}
		
						zhuang_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = zhuang_pagan_reformed
				}

				else = {
					religion = zhuang_pagan
				}
			}
			
			10 = {
				trigger = {
					culture_group = hmongmien
					NOT = {
						culture = yao
					}
				}

				if = {
					limit = {
						miao_pagan = {
							has_flag = has_been_reformed
						}
		
						miao_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = miao_pagan_reformed
				}

				else = {
					religion = miao_pagan
				}
			}
		}
		
		add_province_modifier = {
			name = religious_unrest
			duration = 730
		}
	}
	
	option = {
		name = {
			trigger = {
				owner = {
					NOR = {
						religion = taoist
						religion = ROOT
					}
				}
			}
			
			text = EVTOPTA_SOH_9704
		}
		
		name = {
			trigger = {
				owner = {
					religion = ROOT
				}
			}
			
			text = EVTOPTB_SOH_9704
		}
		
		name = {
			trigger = {
				owner = {
					religion = taoist
				}
			}
			
			text = EVTOPTC_SOH_9704
		}
		
		if = {
			limit = { 
				owner = {
					religion = taoist
				}
			}
			
			owner = { piety = -10 }
		}
		
		# News spread
		hidden_tooltip = {
			owner = {
				top_liege = {
					if = {
						limit = {
							NOT = { character = PREV }
						}
						
						character_event = { id = soh.9705 days = 2 }
					}
					
					any_vassal = {
						limit = {
							OR = {
								religion = taoist
								religion = ROOT
							}
						}
						
						character_event = { id = soh.9705 days = 2 }
					}
				}
			}
		}
	}
}

# News spread in realm
character_event = {
	id = soh.9705
	desc = EVTDESC_SOH_9705
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOR = {
				religion = taoist
				religion = FROM
			}
		}
		
		name = EVTOPTA_SOH_9705
	}
	
	option = {
		trigger = {
			religion = FROM
		}
		
		name = EVTOPTB_SOH_9705
	}
	
	option = {
		trigger = {
			religion = taoist
		}
		
		name = EVTOPTC_SOH_9705
	}
}

# Buddhist -> Anything
province_event = {
	id = soh.9706
	desc = EVTDESC_SOH_9706
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_religion
	
	trigger = {
		religion = buddhist
		
		has_chinese_or_historical_culture_for_chinese_imperial_trigger = yes # Not that sure Tangut Buddhists should get it, but sure why not
		
		religions_are_standard_trigger = yes
	}
	
	mean_time_to_happen = {
		months = 1200
		
		mult_modifier = {
			factor = 2
			religion_authority >= 0.6
		}
		
		mult_modifier = {
			factor = 2
			religion_authority >= 0.8
		}
		
		mult_modifier = {
			factor = 2
			has_game_rule = {
				name = religious_conversion
				value = slower
			}
		}
		
		mult_modifier = {
			factor = 0.75
			NOT = { religion_authority >= 0.2 }
		}
		
		mult_modifier = {
			factor = 0.75
			NOT = { religion_authority >= 0.4 }
		}
		
		mult_modifier = {
			factor = 1.5
			OR = {
				culture = korean
				culture = bai
			}
		}
	}
	
	immediate = {
		random_list = {
			25 = {
				mult_modifier = {
					factor = 0.5 # Limit the spread of Confucianism far outside its historical range
					NOT = {
						culture_group = chinese_group
						culture_group = koreanic
						culture_group = vietic
					}
				}
				
				mult_modifier = {
					factor = 0.2 # Limit the spread of Confucianism outside its historical range
					NOT = {
						culture = han
						culture = korean
					}
				}
				
				religion = confucian
			}
			
			25 = {
				mult_modifier = {
					factor = 0.1 # Limit the spread of Taoism outside China
					NOT = {
						culture_group = chinese_group
						culture = yao
						culture = qiang
						culture = nakhi
					}
				}
				
				mult_modifier = {
					factor = 0.2 # Limit the spread of Taoism for groups in China that didn't embrace it historically
					OR = {
						culture = bai
						culture = tujia
					}
				}
				
				religion = taoist
			}
			
			10 = {
				trigger = {
					culture_group = chinese_group
					NOT = {
						culture = bai
					}
				}
				
				if = {
					limit = {
						chinese_pagan = {
							has_flag = has_been_reformed
						}
		
						chinese_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = chinese_pagan_reformed
				}

				else = {
					religion = chinese_pagan
				}
			}
			
			10 = {
				trigger = {
					culture_group = koreanic
				}
				
				if = {
					limit = {
						korean_pagan = {
							has_flag = has_been_reformed
						}
		
						korean_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = korean_pagan_reformed
				}

				else = {
					religion = korean_pagan
				}
			}
			
			10 = {
				trigger = {
					culture_group = vietic
				}
				
				if = {
					limit = {
						viet_pagan = {
							has_flag = has_been_reformed
						}
		
						viet_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = viet_pagan_reformed
				}

				else = {
					religion = viet_pagan
				}
			}
			
			10 = {
				trigger = {
					culture = bai
				}
				
				if = {
					limit = {
						bai_pagan = {
							has_flag = has_been_reformed
						}
		
						bai_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = bai_pagan_reformed
				}

				else = {
					religion = bai_pagan
				}
			}
			
			10 = {
				trigger = {
					culture = yi
				}
				
				if = {
					limit = {
						yi_pagan = {
							has_flag = has_been_reformed
						}
		
						yi_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = yi_pagan_reformed
				}

				else = {
					religion = yi_pagan
				}
			}
			
			10 = {
				trigger = {
					culture_group = rauic_group
				}

				if = {
					limit = {
						zhuang_pagan = {
							has_flag = has_been_reformed
						}
		
						zhuang_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = zhuang_pagan_reformed
				}

				else = {
					religion = zhuang_pagan
				}
			}
			
			10 = {
				trigger = {
					culture_group = hmongmien
					NOT = {
						culture = yao
					}
				}

				if = {
					limit = {
						miao_pagan = {
							has_flag = has_been_reformed
						}
		
						miao_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = miao_pagan_reformed
				}

				else = {
					religion = miao_pagan
				}
			}
		}
		
		add_province_modifier = {
			name = religious_unrest
			duration = 730
		}
	}
	
	option = {
		name = {
			trigger = {
				owner = {
					NOR = {
						religion = buddhist
						religion = ROOT
					}
				}
			}
			
			text = EVTOPTA_SOH_9706
		}
		
		name = {
			trigger = {
				owner = {
					religion = ROOT
				}
			}
			
			text = EVTOPTB_SOH_9706
		}
		
		name = {
			trigger = {
				owner = {
					religion = buddhist
				}
			}
			
			text = EVTOPTC_SOH_9706
		}
		
		if = {
			limit = { 
				owner = {
					religion = buddhist
				}
			}
			
			owner = { piety = -10 }
		}
		
		# News spread
		hidden_tooltip = {
			owner = {
				top_liege = {
					if = {
						limit = {
							NOT = { character = PREV }
						}
						
						character_event = { id = soh.9707 days = 2 }
					}
					
					any_vassal = {
						limit = {
							OR = {
								religion = buddhist
								religion = ROOT
							}
						}
						
						character_event = { id = soh.9707 days = 2 }
					}
				}
			}
		}
	}
}

# News spread in realm
character_event = {
	id = soh.9707
	desc = EVTDESC_SOH_9707
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOR = {
				religion = buddhist
				religion = FROM
			}
		}
		
		name = EVTOPTA_SOH_9707
	}
	
	option = {
		trigger = {
			religion = FROM
		}
		
		name = EVTOPTB_SOH_9707
	}
	
	option = {
		trigger = {
			religion = buddhist
		}
		
		name = EVTOPTC_SOH_9707
	}
}

# Chinese Folk -> Anything
province_event = {
	id = soh.9708
	desc = EVTDESC_SOH_9708
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_religion
	
	trigger = {
		religion_openly_chinese_or_reformed_trigger = yes
		
		could_have_chinese_government_province_trigger = yes
		
		religions_are_standard_trigger = yes
	}
	
	mean_time_to_happen = {
		months = 1200
		
		mult_modifier = {
			factor = 2
			religion_authority >= 0.6
		}
		
		mult_modifier = {
			factor = 2
			religion_authority >= 0.8
		}
		
		mult_modifier = {
			factor = 2
			has_game_rule = {
				name = religious_conversion
				value = slower
			}
		}
		
		mult_modifier = {
			factor = 0.75
			NOT = { religion_authority >= 0.2 }
		}
		
		mult_modifier = {
			factor = 0.75
			NOT = { religion_authority >= 0.4 }
		}
		
		mult_modifier = {
			factor = 0.1
			OR = {
				NOT = { culture_group = chinese_group }
				culture = bai
			}
		}
	}
	
	immediate = {
		random_list = {
			25 = {
				mult_modifier = {
					factor = 0.5 # Limit the spread of Confucianism far outside its historical range
					NOT = {
						culture_group = chinese_group
						culture_group = koreanic
						culture_group = vietic
					}
				}
				
				mult_modifier = {
					factor = 0.2 # Limit the spread of Confucianism outside its historical range
					NOT = {
						culture = han
						culture = korean
					}
				}
				
				religion = confucian
			}
			
			25 = {
				mult_modifier = {
					factor = 0.1 # Limit the spread of Taoism outside China
					NOT = {
						culture_group = chinese_group
						culture = yao
						culture = qiang
						culture = nakhi
					}
				}
				mult_modifier = {
					factor = 0.2 # Limit the spread of Taoism for groups in China that didn't embrace it historically
					OR = {
						culture = bai
						culture = tujia
					}
				}
				religion = taoist
			}
			
			10 = {
				trigger = {
					has_chinese_or_historical_culture_for_chinese_imperial_trigger = yes
				}
				mult_modifier = {
					factor = 0.2 # Stem it a bit for groups that shouldn't adopt Buddhism too readily
					OR = { # Possibly Yi as well, but then we have Nanzhao...
						culture_group = hmongmien
						culture_group = rauic_group
						culture = tujia
					}
				}
			
				mult_modifier = {
					factor = 2
					# Try to keep it somewhat historical
					OR = {
						culture = korean
						culture = bai
					}
				}
				religion = buddhist
			}
			
			100 = {
				trigger = {
					culture_group = vietic
				}
				
				if = {
					limit = {
						viet_pagan = {
							has_flag = has_been_reformed
						}
		
						viet_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = viet_pagan_reformed
				}

				else = {
					religion = viet_pagan
				}
			}
			
			100 = {
				trigger = {
					culture = bai
				}
				
				if = {
					limit = {
						bai_pagan = {
							has_flag = has_been_reformed
						}
		
						bai_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = bai_pagan_reformed
				}

				else = {
					religion = bai_pagan
				}
			}
			
			100 = {
				trigger = {
					culture = yi
				}
				
				if = {
					limit = {
						yi_pagan = {
							has_flag = has_been_reformed
						}
		
						yi_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = yi_pagan_reformed
				}

				else = {
					religion = yi_pagan
				}
			}
			
			100 = {
				trigger = {
					culture_group = rauic_group
				}

				if = {
					limit = {
						zhuang_pagan = {
							has_flag = has_been_reformed
						}
		
						zhuang_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = zhuang_pagan_reformed
				}

				else = {
					religion = zhuang_pagan
				}
			}
			
			100 = {
				trigger = {
					culture_group = hmongmien
					NOT = {
						culture = yao
					}
				}

				if = {
					limit = {
						miao_pagan = {
							has_flag = has_been_reformed
						}
		
						miao_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = miao_pagan_reformed
				}

				else = {
					religion = miao_pagan
				}
			}
		}
		
		add_province_modifier = {
			name = religious_unrest
			duration = 730
		}
	}
	
	option = {
		name = {
			trigger = {
				owner = {
					NOR = {
						religion_openly_chinese_or_reformed_trigger = yes
						religion = ROOT
					}
				}
			}
			
			text = EVTOPTA_SOH_9708
		}
		
		name = {
			trigger = {
				owner = {
					religion = ROOT
				}
			}
			
			text = EVTOPTB_SOH_9708
		}
		
		name = {
			trigger = {
				owner = {
					religion_openly_chinese_or_reformed_trigger = yes
				}
			}
			
			text = EVTOPTC_SOH_9708
		}
		
		if = {
			limit = { 
				owner = {
					religion_openly_chinese_or_reformed_trigger = yes
				}
			}
			
			owner = { piety = -10 }
		}
		
		# News spread
		hidden_tooltip = {
			owner = {
				top_liege = {
					if = {
						limit = {
							NOT = { character = PREV }
						}
						
						character_event = { id = soh.9709 days = 2 }
					}
					
					any_vassal = {
						limit = {
							OR = {
								religion_openly_chinese_or_reformed_trigger = yes
								religion = ROOT
							}
						}
						
						character_event = { id = soh.9709 days = 2 }
					}
				}
			}
		}
	}
}

# News spread in realm
character_event = {
	id = soh.9709
	desc = EVTDESC_SOH_9709
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOR = {
				religion_openly_chinese_or_reformed_trigger = yes
				religion = FROM
			}
		}
		
		name = EVTOPTA_SOH_9709
	}
	
	option = {
		trigger = {
			religion = FROM
		}
		
		name = EVTOPTB_SOH_9709
	}
	
	option = {
		trigger = {
			religion_openly_chinese_or_reformed_trigger = yes
		}
		
		name = EVTOPTC_SOH_9709
	}
}

# Korean Folk -> Anything
province_event = {
	id = soh.9710
	desc = EVTDESC_SOH_9710
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_religion
	
	trigger = {
		religion_openly_korean_or_reformed_trigger = yes
		
		could_have_chinese_government_province_trigger = yes
		
		religions_are_standard_trigger = yes
	}
	
	mean_time_to_happen = {
		months = 1200
		
		mult_modifier = {
			factor = 2
			religion_authority >= 0.6
		}
		
		mult_modifier = {
			factor = 2
			religion_authority >= 0.8
		}
		
		mult_modifier = {
			factor = 2
			has_game_rule = {
				name = religious_conversion
				value = slower
			}
		}
		
		mult_modifier = {
			factor = 0.75
			NOT = { religion_authority >= 0.2 }
		}
		
		mult_modifier = {
			factor = 0.75
			NOT = { religion_authority >= 0.4 }
		}
		
		mult_modifier = {
			factor = 0.1
			NOT = {
				culture_group = koreanic
			}
		}
	}
	
	immediate = {
		random_list = {
			10 = {
				mult_modifier = {
					factor = 0.5 # Limit the spread of Confucianism far outside its historical range
					NOT = {
						culture_group = chinese_group
						culture_group = koreanic
						culture_group = vietic
					}
				}
				
				mult_modifier = {
					factor = 0.2 # Limit the spread of Confucianism outside its historical range
					NOT = {
						culture = han
						culture = korean
					}
				}
				
				religion = confucian
			}
			
			5 = {
				mult_modifier = {
					factor = 0.1 # Limit the spread of Taoism outside China
					NOT = {
						culture_group = chinese_group
						culture = yao
						culture = qiang
						culture = nakhi
					}
				}
				
				mult_modifier = {
					factor = 0.2 # Limit the spread of Taoism for groups in China that didn't embrace it historically
					OR = {
						culture = bai
						culture = tujia
					}
				}
				
				religion = taoist
			}
			
			25 = {
				trigger = {
					has_chinese_or_historical_culture_for_chinese_imperial_trigger = yes
				}
				mult_modifier = {
					factor = 0.2 # Stem it a bit for groups that shouldn't adopt Buddhism too readily
					OR = { # Possibly Yi as well, but then we have Nanzhao...
						culture_group = hmongmien
						culture_group = rauic_group
						culture = tujia
					}
				}
			
				mult_modifier = {
					factor = 2
					# Try to keep it somewhat historical
					OR = {
						culture = korean
						culture = bai
					}
				}
				religion = buddhist
			}
			
			100 = {
				trigger = {
					culture_group = chinese_group
					NOT = {
						culture = bai
					}
				}
				
				if = {
					limit = {
						chinese_pagan = {
							has_flag = has_been_reformed
						}
		
						chinese_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = chinese_pagan_reformed
				}

				else = {
					religion = chinese_pagan
				}
			}
			
			100 = {
				trigger = {
					culture_group = vietic
				}
				
				if = {
					limit = {
						viet_pagan = {
							has_flag = has_been_reformed
						}
		
						viet_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = viet_pagan_reformed
				}

				else = {
					religion = viet_pagan
				}
			}
			
			100 = {
				trigger = {
					culture = bai
				}
				
				if = {
					limit = {
						bai_pagan = {
							has_flag = has_been_reformed
						}
		
						bai_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = bai_pagan_reformed
				}

				else = {
					religion = bai_pagan
				}
			}
			
			100 = {
				trigger = {
					culture = yi
				}
				
				if = {
					limit = {
						yi_pagan = {
							has_flag = has_been_reformed
						}
		
						yi_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = yi_pagan_reformed
				}

				else = {
					religion = yi_pagan
				}
			}
			
			100 = {
				trigger = {
					culture_group = rauic_group
				}

				if = {
					limit = {
						zhuang_pagan = {
							has_flag = has_been_reformed
						}
		
						zhuang_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = zhuang_pagan_reformed
				}

				else = {
					religion = zhuang_pagan
				}
			}
			
			100 = {
				trigger = {
					culture_group = hmongmien
					NOT = {
						culture = yao
					}
				}

				if = {
					limit = {
						miao_pagan = {
							has_flag = has_been_reformed
						}
		
						miao_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = miao_pagan_reformed
				}

				else = {
					religion = miao_pagan
				}
			}
		}
		
		add_province_modifier = {
			name = religious_unrest
			duration = 730
		}
	}
	
	option = {
		name = {
			trigger = {
				owner = {
					NOR = {
						religion_openly_korean_or_reformed_trigger = yes
						religion = ROOT
					}
				}
			}
			
			text = EVTOPTA_SOH_9710
		}
		
		name = {
			trigger = {
				owner = {
					religion = ROOT
				}
			}
			
			text = EVTOPTB_SOH_9710
		}
		
		name = {
			trigger = {
				owner = {
					religion_openly_korean_or_reformed_trigger = yes
				}
			}
			
			text = EVTOPTC_SOH_9710
		}
		
		if = {
			limit = { 
				owner = {
					religion_openly_korean_or_reformed_trigger = yes
				}
			}
			
			owner = { piety = -10 }
		}
		
		# News spread
		hidden_tooltip = {
			owner = {
				top_liege = {
					if = {
						limit = {
							NOT = { character = PREV }
						}
						
						character_event = { id = soh.9711 days = 2 }
					}
					
					any_vassal = {
						limit = {
							OR = {
								religion_openly_korean_or_reformed_trigger = yes
								religion = ROOT
							}
						}
						
						character_event = { id = soh.9711 days = 2 }
					}
				}
			}
		}
	}
}

# News spread in realm
character_event = {
	id = soh.9711
	desc = EVTDESC_SOH_9711
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOR = {
				religion_openly_korean_or_reformed_trigger = yes
				religion = FROM
			}
		}
		
		name = EVTOPTA_SOH_9711
	}
	
	option = {
		trigger = {
			religion = FROM
		}
		
		name = EVTOPTB_SOH_9711
	}
	
	option = {
		trigger = {
			religion_openly_korean_or_reformed_trigger = yes
		}
		
		name = EVTOPTC_SOH_9711
	}
}

# Viet Folk -> Anything
province_event = {
	id = soh.9712
	desc = EVTDESC_SOH_9712
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_religion
	
	trigger = {
		religion_openly_viet_or_reformed_trigger = yes
		
		could_have_chinese_government_province_trigger = yes
		
		religions_are_standard_trigger = yes
	}
	
	mean_time_to_happen = {
		months = 1200
		
		mult_modifier = {
			factor = 2
			religion_authority >= 0.6
		}
		
		mult_modifier = {
			factor = 2
			religion_authority >= 0.8
		}
		
		mult_modifier = {
			factor = 2
			has_game_rule = {
				name = religious_conversion
				value = slower
			}
		}
		
		mult_modifier = {
			factor = 0.75
			NOT = { religion_authority >= 0.2 }
		}
		
		mult_modifier = {
			factor = 0.75
			NOT = { religion_authority >= 0.4 }
		}
		
		mult_modifier = {
			factor = 0.1
			NOT = {
				culture_group = vietic
			}
		}
	}
	
	immediate = {
		random_list = {
			10 = {
				mult_modifier = {
					factor = 0.5 # Limit the spread of Confucianism far outside its historical range
					NOT = {
						culture_group = chinese_group
						culture_group = koreanic
						culture_group = vietic
					}
				}
				
				mult_modifier = {
					factor = 0.2 # Limit the spread of Confucianism outside its historical range
					NOT = {
						culture = han
						culture = korean
					}
				}
				
				religion = confucian
			}
			
			10 = {
				mult_modifier = {
					factor = 0.1 # Limit the spread of Taoism outside China
					NOT = {
						culture_group = chinese_group
						culture = yao
						culture = qiang
						culture = nakhi
					}
				}
				
				mult_modifier = {
					factor = 0.2 # Limit the spread of Taoism for groups in China that didn't embrace it historically
					OR = {
						culture = bai
						culture = tujia
					}
				}
				
				religion = taoist
			}
			
			10 = {
				trigger = {
					has_chinese_or_historical_culture_for_chinese_imperial_trigger = yes
				}
				
				mult_modifier = {
					factor = 0.2 # Stem it a bit for groups that shouldn't adopt Buddhism too readily
					OR = { # Possibly Yi as well, but then we have Nanzhao...
						culture_group = hmongmien
						culture_group = rauic_group
						culture = tujia
					}
				}
			
				mult_modifier = {
					factor = 2
					# Try to keep it somewhat historical
					OR = {
						culture = korean
						culture = bai
					}
				}
				
				religion = buddhist
			}
			
			100 = {
				trigger = {
					culture_group = chinese_group
					NOT = {
						culture = bai
					}
				}
				
				if = {
					limit = {
						chinese_pagan = {
							has_flag = has_been_reformed
						}
		
						chinese_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = chinese_pagan_reformed
				}

				else = {
					religion = chinese_pagan
				}
			}
			
			100 = {
				trigger = {
					culture_group = koreanic
				}
				
				if = {
					limit = {
						korean_pagan = {
							has_flag = has_been_reformed
						}
		
						korean_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = korean_pagan_reformed
				}

				else = {
					religion = korean_pagan
				}
			}
			
			100 = {
				trigger = {
					culture = bai
				}
				
				if = {
					limit = {
						bai_pagan = {
							has_flag = has_been_reformed
						}
		
						bai_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = bai_pagan_reformed
				}

				else = {
					religion = bai_pagan
				}
			}
			
			100 = {
				trigger = {
					culture = yi
				}
				
				if = {
					limit = {
						yi_pagan = {
							has_flag = has_been_reformed
						}
		
						yi_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = yi_pagan_reformed
				}

				else = {
					religion = yi_pagan
				}
			}
			
			100 = {
				trigger = {
					culture_group = rauic_group
				}

				if = {
					limit = {
						zhuang_pagan = {
							has_flag = has_been_reformed
						}
		
						zhuang_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = zhuang_pagan_reformed
				}

				else = {
					religion = zhuang_pagan
				}
			}
			
			100 = {
				trigger = {
					culture_group = hmongmien
					NOT = {
						culture = yao
					}
				}

				if = {
					limit = {
						miao_pagan = {
							has_flag = has_been_reformed
						}
		
						miao_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = miao_pagan_reformed
				}

				else = {
					religion = miao_pagan
				}
			}
		}
		
		add_province_modifier = {
			name = religious_unrest
			duration = 730
		}
	}
	
	option = {
		name = {
			trigger = {
				owner = {
					NOR = {
						religion_openly_viet_or_reformed_trigger = yes
						religion = ROOT
					}
				}
			}
			
			text = EVTOPTA_SOH_9712
		}
		
		name = {
			trigger = {
				owner = {
					religion = ROOT
				}
			}
			
			text = EVTOPTB_SOH_9712
		}
		
		name = {
			trigger = {
				owner = {
					religion_openly_viet_or_reformed_trigger = yes
				}
			}
			
			text = EVTOPTC_SOH_9712
		}
		
		if = {
			limit = { 
				owner = {
					religion_openly_viet_or_reformed_trigger = yes
				}
			}
			
			owner = { piety = -10 }
		}
		
		# News spread
		hidden_tooltip = {
			owner = {
				top_liege = {
					if = {
						limit = {
							NOT = { character = PREV }
						}
						
						character_event = { id = soh.9713 days = 2 }
					}
					
					any_vassal = {
						limit = {
							OR = {
								religion_openly_viet_or_reformed_trigger = yes
								religion = ROOT
							}
						}
						
						character_event = { id = soh.9713 days = 2 }
					}
				}
			}
		}
	}
}

# News spread in realm
character_event = {
	id = soh.9713
	desc = EVTDESC_SOH_9713
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOR = {
				religion_openly_viet_or_reformed_trigger = yes
				religion = FROM
			}
		}
		
		name = EVTOPTA_SOH_9713
	}
	
	option = {
		trigger = {
			religion = FROM
		}
		
		name = EVTOPTB_SOH_9713
	}
	
	option = {
		trigger = {
			religion_openly_viet_or_reformed_trigger = yes
		}
		
		name = EVTOPTC_SOH_9713
	}
}

# Bai Folk -> Anything
province_event = {
	id = soh.9714
	desc = EVTDESC_SOH_9714
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_religion
	
	trigger = {
		religion_openly_bai_or_reformed_trigger = yes
		
		could_have_chinese_government_province_trigger = yes
		
		religions_are_standard_trigger = yes
	}
	
	mean_time_to_happen = {
		months = 1200
		
		mult_modifier = {
			factor = 2
			religion_authority >= 0.6
		}
		
		mult_modifier = {
			factor = 2
			religion_authority >= 0.8
		}
		
		mult_modifier = {
			factor = 2
			has_game_rule = {
				name = religious_conversion
				value = slower
			}
		}
		
		mult_modifier = {
			factor = 0.75
			NOT = { religion_authority >= 0.2 }
		}
		
		mult_modifier = {
			factor = 0.75
			NOT = { religion_authority >= 0.4 }
		}
		
		mult_modifier = {
			factor = 0.1
			NOT = {
				culture = bai
			}
		}
	}
	
	immediate = {
		random_list = {
			10 = {
				mult_modifier = {
					factor = 0.5 # Limit the spread of Confucianism far outside its historical range
					NOT = {
						culture_group = chinese_group
						culture_group = koreanic
						culture_group = vietic
					}
				}
				
				mult_modifier = {
					factor = 0.2 # Limit the spread of Confucianism outside its historical range
					NOT = {
						culture = han
						culture = korean
					}
				}
				
				religion = confucian
			}
			
			10 = {
				mult_modifier = {
					factor = 0.1 # Limit the spread of Taoism outside China
					NOT = {
						culture_group = chinese_group
						culture = yao
						culture = qiang
						culture = nakhi
					}
				}
				mult_modifier = {
					factor = 0.2 # Limit the spread of Taoism for groups in China that didn't embrace it historically
					OR = {
						culture = bai
						culture = tujia
					}
				}
				religion = taoist
			}
			
			25 = {
				trigger = {
					has_chinese_or_historical_culture_for_chinese_imperial_trigger = yes
				}
				
				mult_modifier = {
					factor = 0.2 # Stem it a bit for groups that shouldn't adopt Buddhism too readily
					OR = { # Possibly Yi as well, but then we have Nanzhao...
						culture_group = hmongmien
						culture_group = rauic_group
						culture = tujia
					}
				}
			
				mult_modifier = {
					factor = 2
					# Try to keep it somewhat historical
					OR = {
						culture = korean
						culture = bai
					}
				}
				
				religion = buddhist
			}
			
			100 = {
				trigger = {
					culture_group = chinese_group
					NOT = {
						culture = bai
					}
				}
				
				if = {
					limit = {
						chinese_pagan = {
							has_flag = has_been_reformed
						}
		
						chinese_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = chinese_pagan_reformed
				}

				else = {
					religion = chinese_pagan
				}
			}
			
			100 = {
				trigger = {
					culture_group = koreanic
				}
				
				if = {
					limit = {
						korean_pagan = {
							has_flag = has_been_reformed
						}
		
						korean_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = korean_pagan_reformed
				}

				else = {
					religion = korean_pagan
				}
			}
			
			100 = {
				trigger = {
					culture_group = vietic
				}
				
				if = {
					limit = {
						viet_pagan = {
							has_flag = has_been_reformed
						}
		
						viet_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = viet_pagan_reformed
				}

				else = {
					religion = viet_pagan
				}
			}
			
			100 = {
				trigger = {
					culture = yi
				}
				
				if = {
					limit = {
						yi_pagan = {
							has_flag = has_been_reformed
						}
		
						yi_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = yi_pagan_reformed
				}

				else = {
					religion = yi_pagan
				}
			}
			
			100 = {
				trigger = {
					culture_group = rauic_group
				}

				if = {
					limit = {
						zhuang_pagan = {
							has_flag = has_been_reformed
						}
		
						zhuang_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = zhuang_pagan_reformed
				}

				else = {
					religion = zhuang_pagan
				}
			}
			
			100 = {
				trigger = {
					culture_group = hmongmien
					NOT = {
						culture = yao
					}
				}

				if = {
					limit = {
						miao_pagan = {
							has_flag = has_been_reformed
						}
		
						miao_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = miao_pagan_reformed
				}

				else = {
					religion = miao_pagan
				}
			}
		}
		
		add_province_modifier = {
			name = religious_unrest
			duration = 730
		}
	}
	
	option = {
		name = {
			trigger = {
				owner = {
					NOR = {
						religion_openly_bai_or_reformed_trigger = yes
						religion = ROOT
					}
				}
			}
			
			text = EVTOPTA_SOH_9714
		}
		
		name = {
			trigger = {
				owner = {
					religion = ROOT
				}
			}
			
			text = EVTOPTB_SOH_9714
		}
		
		name = {
			trigger = {
				owner = {
					religion_openly_bai_or_reformed_trigger = yes
				}
			}
			
			text = EVTOPTC_SOH_9714
		}
		
		if = {
			limit = { 
				owner = {
					religion_openly_bai_or_reformed_trigger = yes
				}
			}
			
			owner = { piety = -10 }
		}
		
		# News spread
		hidden_tooltip = {
			owner = {
				top_liege = {
					if = {
						limit = {
							NOT = { character = PREV }
						}
						
						character_event = { id = soh.9715 days = 2 }
					}
					
					any_vassal = {
						limit = {
							OR = {
								religion_openly_bai_or_reformed_trigger = yes
								religion = ROOT
							}
						}
						
						character_event = { id = soh.9715 days = 2 }
					}
				}
			}
		}
	}
}

# News spread in realm
character_event = {
	id = soh.9715
	desc = EVTDESC_SOH_9715
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOR = {
				religion_openly_bai_or_reformed_trigger = yes
				religion = FROM
			}
		}
		
		name = EVTOPTA_SOH_9715
	}
	
	option = {
		trigger = {
			religion = FROM
		}
		
		name = EVTOPTB_SOH_9715
	}
	
	option = {
		trigger = {
			religion_openly_bai_or_reformed_trigger = yes
		}
		
		name = EVTOPTC_SOH_9715
	}
}

# Yi Folk -> Anything
province_event = {
	id = soh.9716
	desc = EVTDESC_SOH_9716
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_religion
	
	trigger = {
		religion_openly_yi_or_reformed_trigger = yes
		
		could_have_chinese_government_province_trigger = yes
		
		religions_are_standard_trigger = yes
	}
	
	mean_time_to_happen = {
		months = 1200
		
		mult_modifier = {
			factor = 2
			religion_authority >= 0.6
		}
		
		mult_modifier = {
			factor = 2
			religion_authority >= 0.8
		}
		
		mult_modifier = {
			factor = 2
			has_game_rule = {
				name = religious_conversion
				value = slower
			}
		}
		
		mult_modifier = {
			factor = 0.75
			NOT = { religion_authority >= 0.2 }
		}
		
		mult_modifier = {
			factor = 0.75
			NOT = { religion_authority >= 0.4 }
		}
		
		mult_modifier = {
			factor = 0.1
			NOT = {
				culture = yi
			}
		}
	}
	
	immediate = {
		random_list = {
			10 = {
				mult_modifier = {
					factor = 0.5 # Limit the spread of Confucianism far outside its historical range
					NOT = {
						culture_group = chinese_group
						culture_group = koreanic
						culture_group = vietic
					}
				}
				
				mult_modifier = {
					factor = 0.2 # Limit the spread of Confucianism outside its historical range
					NOT = {
						culture = han
						culture = korean
					}
				}
				
				religion = confucian
			}
			
			10 = {
				mult_modifier = {
					factor = 0.1 # Limit the spread of Taoism outside China
					NOT = {
						culture_group = chinese_group
						culture = yao
						culture = qiang
						culture = nakhi
					}
				}
				
				mult_modifier = {
					factor = 0.2 # Limit the spread of Taoism for groups in China that didn't embrace it historically
					OR = {
						culture = bai
						culture = tujia
					}
				}
				
				religion = taoist
			}
			
			10 = {
				trigger = {
					has_chinese_or_historical_culture_for_chinese_imperial_trigger = yes
				}
				
				mult_modifier = {
					factor = 0.2 # Stem it a bit for groups that shouldn't adopt Buddhism too readily
					OR = { # Possibly Yi as well, but then we have Nanzhao...
						culture_group = hmongmien
						culture_group = rauic_group
						culture = tujia
					}
				}
			
				mult_modifier = {
					factor = 2
					# Try to keep it somewhat historical
					OR = {
						culture = korean
						culture = bai
					}
				}
				
				religion = buddhist
			}
			
			100 = {
				trigger = {
					culture_group = chinese_group
					NOT = {
						culture = bai
					}
				}
				
				if = {
					limit = {
						chinese_pagan = {
							has_flag = has_been_reformed
						}
		
						chinese_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = chinese_pagan_reformed
				}

				else = {
					religion = chinese_pagan
				}
			}
			
			100 = {
				trigger = {
					culture_group = koreanic
				}
				
				if = {
					limit = {
						korean_pagan = {
							has_flag = has_been_reformed
						}
		
						korean_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = korean_pagan_reformed
				}

				else = {
					religion = korean_pagan
				}
			}
			
			100 = {
				trigger = {
					culture_group = vietic
				}
				
				if = {
					limit = {
						viet_pagan = {
							has_flag = has_been_reformed
						}
		
						viet_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = viet_pagan_reformed
				}

				else = {
					religion = viet_pagan
				}
			}
			
			100 = {
				trigger = {
					culture = bai
				}
				
				if = {
					limit = {
						bai_pagan = {
							has_flag = has_been_reformed
						}
		
						bai_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = bai_pagan_reformed
				}

				else = {
					religion = bai_pagan
				}
			}
			
			100 = {
				trigger = {
					culture_group = rauic_group
				}

				if = {
					limit = {
						zhuang_pagan = {
							has_flag = has_been_reformed
						}
		
						zhuang_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = zhuang_pagan_reformed
				}

				else = {
					religion = zhuang_pagan
				}
			}
			
			100 = {
				trigger = {
					culture_group = hmongmien
					NOT = {
						culture = yao
					}
				}

				if = {
					limit = {
						miao_pagan = {
							has_flag = has_been_reformed
						}
		
						miao_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = miao_pagan_reformed
				}

				else = {
					religion = miao_pagan
				}
			}
		}
		
		add_province_modifier = {
			name = religious_unrest
			duration = 730
		}
	}
	
	option = {
		name = {
			trigger = {
				owner = {
					NOR = {
						religion_openly_yi_or_reformed_trigger = yes
						religion = ROOT
					}
				}
			}
			
			text = EVTOPTA_SOH_9716
		}
		
		name = {
			trigger = {
				owner = {
					religion = ROOT
				}
			}
			
			text = EVTOPTB_SOH_9716
		}
		
		name = {
			trigger = {
				owner = {
					religion_openly_yi_or_reformed_trigger = yes
				}
			}
			
			text = EVTOPTC_SOH_9716
		}
		
		if = {
			limit = { 
				owner = {
					religion_openly_yi_or_reformed_trigger = yes
				}
			}
			
			owner = { piety = -10 }
		}
		
		# News spread
		hidden_tooltip = {
			owner = {
				top_liege = {
					if = {
						limit = {
							NOT = { character = PREV }
						}
						
						character_event = { id = soh.9717 days = 2 }
					}
					
					any_vassal = {
						limit = {
							OR = {
								religion_openly_yi_or_reformed_trigger = yes
								religion = ROOT
							}
						}
						
						character_event = { id = soh.9717 days = 2 }
					}
				}
			}
		}
	}
}

# News spread in realm
character_event = {
	id = soh.9717
	desc = EVTDESC_SOH_9717
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOR = {
				religion_openly_yi_or_reformed_trigger = yes
				religion = FROM
			}
		}
		
		name = EVTOPTA_SOH_9717
	}
	
	option = {
		trigger = {
			religion = FROM
		}
		
		name = EVTOPTB_SOH_9717
	}
	
	option = {
		trigger = {
			religion_openly_yi_or_reformed_trigger = yes
		}
		
		name = EVTOPTC_SOH_9717
	}
}

# Zhuang Folk -> Anything
province_event = {
	id = soh.9718
	desc = EVTDESC_SOH_9718
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_religion
	
	trigger = {
		religion_openly_zhuang_or_reformed_trigger = yes
		
		could_have_chinese_government_province_trigger = yes
		
		religions_are_standard_trigger = yes
	}
	
	mean_time_to_happen = {
		months = 1200
		
		mult_modifier = {
			factor = 2
			religion_authority >= 0.6
		}
		
		mult_modifier = {
			factor = 2
			religion_authority >= 0.8
		}
		
		mult_modifier = {
			factor = 2
			has_game_rule = {
				name = religious_conversion
				value = slower
			}
		}
		
		mult_modifier = {
			factor = 0.75
			NOT = { religion_authority >= 0.2 }
		}
		
		mult_modifier = {
			factor = 0.75
			NOT = { religion_authority >= 0.4 }
		}
		
		mult_modifier = {
			factor = 0.1
			NOT = {
				culture_group = rauic_group
			}
		}
	}
	
	immediate = {
		random_list = {
			10 = {
				mult_modifier = {
					factor = 0.5 # Limit the spread of Confucianism far outside its historical range
					NOT = {
						culture_group = chinese_group
						culture_group = koreanic
						culture_group = vietic
					}
				}
				
				mult_modifier = {
					factor = 0.2 # Limit the spread of Confucianism outside its historical range
					NOT = {
						culture = han
						culture = korean
					}
				}
				
				religion = confucian
			}
			
			10 = {
				mult_modifier = {
					factor = 0.1 # Limit the spread of Taoism outside China
					NOT = {
						culture_group = chinese_group
						culture = yao
						culture = qiang
						culture = nakhi
					}
				}
				
				mult_modifier = {
					factor = 0.2 # Limit the spread of Taoism for groups in China that didn't embrace it historically
					OR = {
						culture = bai
						culture = tujia
					}
				}
				
				religion = taoist
			}
			
			10 = {
				trigger = {
					has_chinese_or_historical_culture_for_chinese_imperial_trigger = yes
				}
				mult_modifier = {
					factor = 0.2 # Stem it a bit for groups that shouldn't adopt Buddhism too readily
					OR = { # Possibly Yi as well, but then we have Nanzhao...
						culture_group = hmongmien
						culture_group = rauic_group
						culture = tujia
					}
				}
			
				mult_modifier = {
					factor = 2
					# Try to keep it somewhat historical
					OR = {
						culture = korean
						culture = bai
					}
				}
				
				religion = buddhist
			}
			
			100 = {
				trigger = {
					culture_group = chinese_group
					NOT = {
						culture = bai
					}
				}
				
				if = {
					limit = {
						chinese_pagan = {
							has_flag = has_been_reformed
						}
		
						chinese_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = chinese_pagan_reformed
				}

				else = {
					religion = chinese_pagan
				}
			}
			
			100 = {
				trigger = {
					culture_group = koreanic
				}
				
				if = {
					limit = {
						korean_pagan = {
							has_flag = has_been_reformed
						}
		
						korean_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = korean_pagan_reformed
				}

				else = {
					religion = korean_pagan
				}
			}
			
			100 = {
				trigger = {
					culture_group = vietic
				}
				
				if = {
					limit = {
						viet_pagan = {
							has_flag = has_been_reformed
						}
		
						viet_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = viet_pagan_reformed
				}

				else = {
					religion = viet_pagan
				}
			}
			
			100 = {
				trigger = {
					culture = bai
				}
				
				if = {
					limit = {
						bai_pagan = {
							has_flag = has_been_reformed
						}
		
						bai_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = bai_pagan_reformed
				}

				else = {
					religion = bai_pagan
				}
			}
			
			100 = {
				trigger = {
					culture = yi
				}
				
				if = {
					limit = {
						yi_pagan = {
							has_flag = has_been_reformed
						}
		
						yi_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = yi_pagan_reformed
				}

				else = {
					religion = yi_pagan
				}
			}
			
			100 = {
				trigger = {
					culture_group = hmongmien
					NOT = {
						culture = yao
					}
				}

				if = {
					limit = {
						miao_pagan = {
							has_flag = has_been_reformed
						}
		
						miao_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = miao_pagan_reformed
				}

				else = {
					religion = miao_pagan
				}
			}
		}
		
		add_province_modifier = {
			name = religious_unrest
			duration = 730
		}
	}
	
	option = {
		name = {
			trigger = {
				owner = {
					NOR = {
						religion_openly_zhuang_or_reformed_trigger = yes
						religion = ROOT
					}
				}
			}
			
			text = EVTOPTA_SOH_9718
		}
		
		name = {
			trigger = {
				owner = {
					religion = ROOT
				}
			}
			
			text = EVTOPTB_SOH_9718
		}
		
		name = {
			trigger = {
				owner = {
					religion_openly_zhuang_or_reformed_trigger = yes
				}
			}
			
			text = EVTOPTC_SOH_9718
		}
		
		if = {
			limit = { 
				owner = {
					religion_openly_zhuang_or_reformed_trigger = yes
				}
			}
			
			owner = { piety = -10 }
		}
		
		# News spread
		hidden_tooltip = {
			owner = {
				top_liege = {
					if = {
						limit = {
							NOT = { character = PREV }
						}
						
						character_event = { id = soh.9719 days = 2 }
					}
					
					any_vassal = {
						limit = {
							OR = {
								religion_openly_zhuang_or_reformed_trigger = yes
								religion = ROOT
							}
						}
						
						character_event = { id = soh.9719 days = 2 }
					}
				}
			}
		}
	}
}

# News spread in realm
character_event = {
	id = soh.9719
	desc = EVTDESC_SOH_9719
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOR = {
				religion_openly_zhuang_or_reformed_trigger = yes
				religion = FROM
			}
		}
		
		name = EVTOPTA_SOH_9719
	}
	
	option = {
		trigger = {
			religion = FROM
		}
		
		name = EVTOPTB_SOH_9719
	}
	
	option = {
		trigger = {
			religion_openly_zhuang_or_reformed_trigger = yes
		}
		
		name = EVTOPTC_SOH_9719
	}
}

# Miao Folk -> Anything
province_event = {
	id = soh.9720
	desc = EVTDESC_SOH_9720
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_religion
	
	trigger = {
		religion_openly_miao_or_reformed_trigger = yes
		
		could_have_chinese_government_province_trigger = yes
		
		religions_are_standard_trigger = yes
	}
	
	mean_time_to_happen = {
		months = 1200
		
		mult_modifier = {
			factor = 2
			religion_authority >= 0.6
		}
		
		mult_modifier = {
			factor = 2
			religion_authority >= 0.8
		}
		
		mult_modifier = {
			factor = 2
			has_game_rule = {
				name = religious_conversion
				value = slower
			}
		}
		
		mult_modifier = {
			factor = 0.75
			NOT = { religion_authority >= 0.2 }
		}
		
		mult_modifier = {
			factor = 0.75
			NOT = { religion_authority >= 0.4 }
		}
		
		mult_modifier = {
			factor = 0.1
			OR = {
				NOT = { culture_group = hmongmien }
				culture = yao
			}
		}
	}
	
	immediate = {
		random_list = {
			10 = {
				mult_modifier = {
					factor = 0.5 # Limit the spread of Confucianism far outside its historical range
					NOT = {
						culture_group = chinese_group
						culture_group = koreanic
						culture_group = vietic
					}
				}
				
				mult_modifier = {
					factor = 0.2 # Limit the spread of Confucianism outside its historical range
					NOT = {
						culture = han
						culture = korean
					}
				}
				
				religion = confucian
			}
			
			10 = {
				mult_modifier = {
					factor = 0.1 # Limit the spread of Taoism outside China
					NOT = {
						culture_group = chinese_group
						culture = yao
						culture = qiang
						culture = nakhi
					}
				}
				
				mult_modifier = {
					factor = 0.2 # Limit the spread of Taoism for groups in China that didn't embrace it historically
					OR = {
						culture = bai
						culture = tujia
					}
				}
				
				religion = taoist
			}
			
			10 = {
				trigger = {
					has_chinese_or_historical_culture_for_chinese_imperial_trigger = yes
				}
				
				mult_modifier = {
					factor = 0.2 # Stem it a bit for groups that shouldn't adopt Buddhism too readily
					OR = { # Possibly Yi as well, but then we have Nanzhao...
						culture_group = hmongmien
						culture_group = rauic_group
						culture = tujia
					}
				}
			
				mult_modifier = {
					factor = 2
					# Try to keep it somewhat historical
					OR = {
						culture = korean
						culture = bai
					}
				}
				
				religion = buddhist
			}
			
			100 = {
				trigger = {
					culture_group = chinese_group
					NOT = {
						culture = bai
					}
				}
				
				if = {
					limit = {
						chinese_pagan = {
							has_flag = has_been_reformed
						}
		
						chinese_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = chinese_pagan_reformed
				}

				else = {
					religion = chinese_pagan
				}
			}
			
			100 = {
				trigger = {
					culture_group = koreanic
				}
				
				if = {
					limit = {
						korean_pagan = {
							has_flag = has_been_reformed
						}
		
						korean_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = korean_pagan_reformed
				}

				else = {
					religion = korean_pagan
				}
			}
			
			100 = {
				trigger = {
					culture_group = vietic
				}
				
				if = {
					limit = {
						viet_pagan = {
							has_flag = has_been_reformed
						}
		
						viet_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = viet_pagan_reformed
				}

				else = {
					religion = viet_pagan
				}
			}
			
			100 = {
				trigger = {
					culture = bai
				}
				
				if = {
					limit = {
						bai_pagan = {
							has_flag = has_been_reformed
						}
		
						bai_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = bai_pagan_reformed
				}

				else = {
					religion = bai_pagan
				}
			}
			
			100 = {
				trigger = {
					culture = yi
				}
				
				if = {
					limit = {
						yi_pagan = {
							has_flag = has_been_reformed
						}
		
						yi_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = yi_pagan_reformed
				}

				else = {
					religion = yi_pagan
				}
			}
			
			100 = {
				trigger = {
					culture_group = rauic_group
				}

				if = {
					limit = {
						zhuang_pagan = {
							has_flag = has_been_reformed
						}
		
						zhuang_pagan_reformed = {
							religion_has_confucian_bureaucracy_reformation_trigger = yes
						}
					}
	
					religion = zhuang_pagan_reformed
				}

				else = {
					religion = zhuang_pagan
				}
			}
		}
		
		add_province_modifier = {
			name = religious_unrest
			duration = 730
		}
	}
	
	option = {
		name = {
			trigger = {
				owner = {
					NOR = {
						religion_openly_miao_or_reformed_trigger = yes
						religion = ROOT
					}
				}
			}
			
			text = EVTOPTA_SOH_9720
		}
		
		name = {
			trigger = {
				owner = {
					religion = ROOT
				}
			}
			
			text = EVTOPTB_SOH_9720
		}
		
		name = {
			trigger = {
				owner = {
					religion_openly_miao_or_reformed_trigger = yes
				}
			}
			
			text = EVTOPTC_SOH_9720
		}
		
		if = {
			limit = { 
				owner = {
					religion_openly_miao_or_reformed_trigger = yes
				}
			}
			
			owner = { piety = -10 }
		}
		
		# News spread
		hidden_tooltip = {
			owner = {
				top_liege = {
					if = {
						limit = {
							NOT = { character = PREV }
						}
						
						character_event = { id = soh.9721 days = 2 }
					}
					
					any_vassal = {
						limit = {
							OR = {
								religion_openly_miao_or_reformed_trigger = yes
								religion = ROOT
							}
						}
						
						character_event = { id = soh.9721 days = 2 }
					}
				}
			}
		}
	}
}

# News spread in realm
character_event = {
	id = soh.9721
	desc = EVTDESC_SOH_9721
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOR = {
				religion_openly_miao_or_reformed_trigger = yes
				religion = FROM
			}
		}
		
		name = EVTOPTA_SOH_9721
	}
	
	option = {
		trigger = {
			religion = FROM
		}
		
		name = EVTOPTB_SOH_9721
	}
	
	option = {
		trigger = {
			religion_openly_miao_or_reformed_trigger = yes
		}
		
		name = EVTOPTC_SOH_9721
	}
}