# Alchemist society power events, excluding the "Brew Immortality potion" power
# by Silverswee(e)per

namespace = soh

# soh.10901-11400 reserved

##### Society powers
# TIANXIATODO: Flag cleanup everywhere
# TIANXIATODO: Suspicion
# TIANXIATODO: Grace penalties
# TIANXIATODO: Review pictures, borders
# TIANXIATODO: Maybe add some tech point rewards in a few places
# TIANXIATODO: Cleanup of potion modifiers if someone takes a new potion of the same kind (or block that)
# TIANXIATODO: Review use of is_inaccessible_or_incapable_trigger; it blocks people with do_not_disturb
# TIANXIATODO: Quest completion/failure should only fire if you have the relevant quest!

### Court Alchemist

# AI appointment of Court Alchemists
character_event = {
	id = soh.10901
	hide_window = yes
	
	is_triggered_only = yes # on_bi_yearly_pulse
	
	only_playable = yes
	min_age = 16
	prisoner = no
	
	trigger = {
		has_chinese_government_trigger = yes
		higher_real_tier_than = duke
		is_inaccessible_or_incapable_trigger = no
		ai = yes
		NOT = {
			any_courtier_or_vassal = {
				has_minor_title = title_court_alchemist
			}
		}
	}
	
	immediate = {
		random_courtier_or_vassal = {
			limit = {
				society_member_of = the_alchemists
				is_inaccessible_or_incapable_trigger = no
				NOT = {
					is_rival = ROOT
				}
			}
			
			preferred_limit = {
				is_friend = ROOT
				society_rank >= 3
			}
			
			preferred_limit = {
				society_rank == 4
			}
			
			preferred_limit = {
				is_friend = ROOT
				society_rank >= 2
			}
			
			preferred_limit = {
				society_rank == 3
			}
			
			preferred_limit = {
				is_friend = ROOT
			}
			
			preferred_limit = {
				society_rank >= 2
			}
			
			give_minor_title = title_court_alchemist
			
			if = {
				limit = {
					ai = no
				}
				
				letter_event = { id = soh.10902 } # Inform the player
			}
		}
	}
}			
	
# Inform the new Court Alchemist if they are a human
letter_event = {
	id = soh.10902
	desc = EVTDESC_SOH_10902
	border = GFX_event_letter_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10902 # Great!
	}
}



### Gather Alchemical Ingredients - some inspiration taken from the Hermetics' "Gather Ingredients" events

# Confirmation event
character_event = {
	id = soh.10903
	desc = EVTDESC_SOH_10903
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes # gather_alchemical_ingredients decision
	
	immediate = {
		clear_flags_with_prefix = achemist_ingredients_
		
		# Randomize two or three options
		random_list = {
			50 = {
				set_character_flag = alchemist_ingredients_herbs
			}
			25 = {
				trigger = {
					intrigue >= 10
				}
				
				mult_modifier = {
					factor = 2
					intrigue >= 15
				}
				
				mult_modifier = {
					factor = 2
					intrigue >= 20
				}
				
				set_character_flag = alchemist_ingredients_herbs_intrigue
			}
			50 = {
				set_character_flag = alchemist_ingredients_market
			}
			25 = {
				trigger = {
					intrigue >= 10
				}
				
				mult_modifier = {
					factor = 2
					intrigue >= 15
				}
				
				mult_modifier = {
					factor = 2
					intrigue >= 20
				}
				
				set_character_flag = alchemist_ingredients_market_intrigue
			}
			5 = {
				trigger = {
					martial >= 5
				}
				
				mult_modifier = {
					factor = 5
					trait = hunter
				}
				
				mult_modifier = {
					factor = 2
					martial >= 10
				}
				
				mult_modifier = {
					factor = 2
					martial >= 15
				}
				
				mult_modifier = {
					factor = 2
					martial >= 20
				}
				
				set_character_flag = alchemist_ingredients_hunt
			}
			50 = {
				set_character_flag = alchemist_ingredients_society
			}
			25 = {
				trigger = {
					intrigue >= 10
				}
				
				mult_modifier = {
					factor = 2
					intrigue >= 15
				}
				
				mult_modifier = {
					factor = 2
					intrigue >= 20
				}
				
				set_character_flag = alchemist_ingredients_society_intrigue
			}
		}
		
		random_list = {
			50 = {
				set_character_flag = alchemist_ingredients_herbs
			}
			25 = {
				trigger = {
					intrigue >= 10
				}
				
				mult_modifier = {
					factor = 2
					intrigue >= 15
				}
				
				mult_modifier = {
					factor = 2
					intrigue >= 20
				}
				
				set_character_flag = alchemist_ingredients_herbs_intrigue
			}
			50 = {
				set_character_flag = alchemist_ingredients_market
			}
			25 = {
				trigger = {
					intrigue >= 10
				}
				
				mult_modifier = {
					factor = 2
					intrigue >= 15
				}
				
				mult_modifier = {
					factor = 2
					intrigue >= 20
				}
				
				set_character_flag = alchemist_ingredients_market_intrigue
			}
			5 = {
				trigger = {
					martial >= 5
				}
				
				mult_modifier = {
					factor = 5
					trait = hunter
				}
				
				mult_modifier = {
					factor = 2
					martial >= 10
				}
				
				mult_modifier = {
					factor = 2
					martial >= 15
				}
				
				mult_modifier = {
					factor = 2
					martial >= 20
				}
				
				set_character_flag = alchemist_ingredients_hunt
			}
			50 = {
				set_character_flag = alchemist_ingredients_society
			}
			25 = {
				trigger = {
					intrigue >= 10
				}
				
				mult_modifier = {
					factor = 2
					intrigue >= 15
				}
				
				mult_modifier = {
					factor = 2
					intrigue >= 20
				}
				
				set_character_flag = alchemist_ingredients_society_intrigue
			}
		}
		
		random_list = {
			50 = {
				set_character_flag = alchemist_ingredients_herbs
			}
			25 = {
				trigger = {
					intrigue >= 10
				}
				
				mult_modifier = {
					factor = 2
					intrigue >= 15
				}
				
				mult_modifier = {
					factor = 2
					intrigue >= 20
				}
				
				set_character_flag = alchemist_ingredients_herbs_intrigue
			}
			50 = {
				set_character_flag = alchemist_ingredients_market
			}
			25 = {
				trigger = {
					intrigue >= 10
				}
				
				mult_modifier = {
					factor = 2
					intrigue >= 15
				}
				
				mult_modifier = {
					factor = 2
					intrigue >= 20
				}
				
				set_character_flag = alchemist_ingredients_market_intrigue
			}
			5 = {
				trigger = {
					martial >= 5
				}
				
				mult_modifier = {
					factor = 5
					trait = hunter
				}
				
				mult_modifier = {
					factor = 2
					martial >= 10
				}
				
				mult_modifier = {
					factor = 2
					martial >= 15
				}
				
				mult_modifier = {
					factor = 2
					martial >= 20
				}
				
				set_character_flag = alchemist_ingredients_hunt
			}
			50 = {
				set_character_flag = alchemist_ingredients_society
			}
			25 = {
				trigger = {
					intrigue >= 10
				}
				
				mult_modifier = {
					factor = 2
					intrigue >= 15
				}
				
				mult_modifier = {
					factor = 2
					intrigue >= 20
				}
				
				set_character_flag = alchemist_ingredients_society_intrigue
			}
			200 = {
				# Nothing
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = alchemist_ingredients_herbs
		}
		
		name = EVTOPTA_SOH_10903 # Look for herbs
		
		set_character_flag = gathering_alchemical_ingredients
		set_character_flag = do_not_disturb
		
		character_event = { id = soh.10904 days = 7 random = 10 } # Heading out
		
		character_event = { id = soh.10918 days = 50 } # Flag cleanup
	}
	
	option = {
		trigger = {
			has_character_flag = alchemist_ingredients_herbs_intrigue
		}
		
		name = EVTOPTB_SOH_10903 # Look for dangerous herbs
		
		set_character_flag = gathering_alchemical_ingredients
		set_character_flag = do_not_disturb
		
		character_event = { id = soh.10906 days = 7 random = 10 } # Heading out
		
		character_event = { id = soh.10918 days = 50 } # Flag cleanup
	}
	
	option = {
		trigger = {
			has_character_flag = alchemist_ingredients_market
		}
		
		name = EVTOPTC_SOH_10903 # Head to the market
		
		set_character_flag = gathering_alchemical_ingredients
		set_character_flag = do_not_disturb
		
		character_event = { id = soh.10908 days = 7 random = 10 } # Heading out
		
		character_event = { id = soh.10918 days = 50 } # Flag cleanup
	}
	
	option = {
		trigger = {
			has_character_flag = alchemist_ingredients_market_intrigue
		}
		
		name = EVTOPTD_SOH_10903 # Head to the black market
		
		set_character_flag = gathering_alchemical_ingredients
		set_character_flag = do_not_disturb
		
		character_event = { id = soh.10910 days = 7 random = 10 } # Heading out
		
		character_event = { id = soh.10918 days = 50 } # Flag cleanup
	}
	
	option = {
		trigger = {
			has_character_flag = alchemist_ingredients_hunt
		}
		
		name = EVTOPTE_SOH_10903 # Hunt for ingredients
		
		set_character_flag = gathering_alchemical_ingredients
		set_character_flag = do_not_disturb
		
		character_event = { id = soh.10912 days = 7 random = 10 } # Heading out
		
		character_event = { id = soh.10918 days = 50 } # Flag cleanup
	}
	
	option = {
		trigger = {
			has_character_flag = alchemist_ingredients_society
		}
		
		name = EVTOPTF_SOH_10903 # Ask the society for help
		
		set_character_flag = gathering_alchemical_ingredients
		set_character_flag = do_not_disturb
		
		character_event = { id = soh.10914 days = 7 random = 10 } # Heading out
		
		character_event = { id = soh.10918 days = 50 } # Flag cleanup
	}
	
	option = {
		trigger = {
			has_character_flag = alchemist_ingredients_society_intrigue
		}
		
		name = EVTOPTG_SOH_10903 # Ask the society for shady help
		
		set_character_flag = gathering_alchemical_ingredients
		set_character_flag = do_not_disturb
		
		character_event = { id = soh.10916 days = 7 random = 10 } # Heading out
		
		character_event = { id = soh.10918 days = 50 } # Flag cleanup
	}

	option = {
		name = EVTOPTH_SOH_10903 # I don't have time for this now

		ai_chance = { factor = 0 }

		hidden_effect = { remove_character_modifier = acquire_ingredients_decision_cooldown_timer }
	}
}

# Looking for herbs - normal herbs
character_event = {
	id = soh.10904
	desc = EVTDESC_SOH_10904
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	prisoner = no
	
	trigger = {
		is_actually_incapable_trigger = no
		society_member_of = the_alchemists
	}
	
	option = {
		name = EVTOPTA_SOH_10904 # Let's hope they're not poisonous!
		
		character_event = { id = soh.10905 days = 10 random = 5 } # Outcome
	}
}

# Outcome event
character_event = {
	id = soh.10905
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	prisoner = no
	
	trigger = {
		is_actually_incapable_trigger = no
		society_member_of = the_alchemists
	}

	immediate = {
		set_variable = {
			which = local_gath_res
			value = 0
		}

		while = {
			count = 7

			random_list = {
				50 = { # Successful gathering
					mult_modifier = {
						factor = 0.5
						stewardship < 4
					}
					mult_modifier = {
						factor = 0.6
						stewardship < 6
					}
					mult_modifier = {
						factor = 0.7
						stewardship < 8
					}
					mult_modifier = {
						factor = 1.2
						stewardship >= 11
					}
					mult_modifier = {
						factor = 1.2
						stewardship >= 13
					}
					mult_modifier = {
						factor = 1.2
						stewardship >= 15
					}
					mult_modifier = {
						factor = 1.2
						trait = gardener
					}

					change_variable = {
						which = local_gath_res
						value = 1
					}
				}
			}
		}
	}

	desc = {
		text = EVTDESC_SOH_10905_A
		trigger = {
			check_variable = {
				which = local_gath_res
				value >= 4
			}
		}
	}
	desc = {
		text = EVTDESC_SOH_10905_B
		trigger = {
			check_variable = {
				which = local_gath_res
				value < 4
			}
			check_variable = {
				which = local_gath_res
				value > 0
			}
		}
	}
	desc = {
		text = EVTDESC_SOH_10905_C
		trigger = {
			check_variable = {
				which = local_gath_res
				value < 1
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_10905

		trigger = {
			check_variable = {
				which = local_gath_res
				value >= 4
			}
		}

		if = {
			limit = { has_quest = quest_alchemist_gather_ingredients }
			clr_quest = quest_alchemist_gather_ingredients
			sound_effect = hermetic_society_acquire_seed
			add_society_currency_medium_effect = yes
		}

		custom_tooltip = { text = EVTTOOLTIP_MNM_1812 }
	}

	option = {
		name = EVTOPTB_SOH_10905

		trigger = {
			check_variable = {
				which = local_gath_res
				value < 4
			}
			check_variable = {
				which = local_gath_res
				value > 0
			}
		}

		if = {
			limit = { has_quest = quest_alchemist_gather_ingredients }
			clr_quest = quest_alchemist_gather_ingredients
			sound_effect = hermetic_society_acquire_seed
			add_society_currency_minor_effect = yes
		}

		custom_tooltip = { text = EVTTOOLTIP_MNM_1812 }
	}

	option = {
		name = EVTOPTC_SOH_10905

		trigger = {
			check_variable = {
				which = local_gath_res
				value < 1
			}
		}

		if = {
			limit = { has_quest = quest_alchemist_gather_ingredients }

			clr_quest = {
				id = quest_alchemist_gather_ingredients
				failure = yes
			}
		}

		random_list = {
			2 = { } # no effect

			1 = { # poisoned
				if = {
					limit = { has_dlc = "Reapers" }
					give_food_poisoning_effect = yes
					custom_tooltip = { text = EVTTOOLTIP_MNM_1812_ILL }
				}
				else = {
					add_trait_ill_effect = yes
				}
			}
		}
	}

	after = {
		while = {
			limit = {
				check_variable = {
					which = local_gath_res
					value > 0
				}
			}

			hermetic_add_herbal_ingredient_effect = yes

			change_variable = {
				which = local_gath_res
				value = -1
			}
		}

		clr_character_flag = do_not_disturb
		clr_character_flag = gathering_alchemical_ingredients
	}
}

# Looking for herbs - dangerous herbs
character_event = {
	id = soh.10906
	desc = EVTDESC_SOH_10906
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	prisoner = no
	
	trigger = {
		is_actually_incapable_trigger = no
		society_member_of = the_alchemists
	}
	
	option = {
		name = EVTOPTA_SOH_10906 # Let's hope for some poisonous ones!
		
		character_event = { id = soh.10907 days = 10 random = 5 } # Outcome
	}
}

# Outcome event
character_event = {
	id = soh.10907
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	prisoner = no
	
	trigger = {
		is_actually_incapable_trigger = no
		society_member_of = the_alchemists
	}

	immediate = {
		set_variable = {
			which = local_gath_res
			value = 0
		}

		while = {
			count = 7

			random_list = {
				50 = { # Successful gathering
					mult_modifier = {
						factor = 0.5
						intrigue < 4
					}
					mult_modifier = {
						factor = 0.6
						intrigue < 6
					}
					mult_modifier = {
						factor = 0.7
						intrigue < 8
					}
					mult_modifier = {
						factor = 1.2
						intrigue >= 11
					}
					mult_modifier = {
						factor = 1.2
						intrigue >= 13
					}
					mult_modifier = {
						factor = 1.2
						intrigue >= 15
					}
					mult_modifier = {
						factor = 1.2
						trait = gardener
					}

					change_variable = {
						which = local_gath_res
						value = 1
					}
				}
			}
		}
	}

	desc = {
		text = EVTDESC_SOH_10907_A
		trigger = {
			check_variable = {
				which = local_gath_res
				value >= 4
			}
		}
	}
	desc = {
		text = EVTDESC_SOH_10907_B
		trigger = {
			check_variable = {
				which = local_gath_res
				value < 4
			}
			check_variable = {
				which = local_gath_res
				value > 0
			}
		}
	}
	desc = {
		text = EVTDESC_SOH_10907_C
		trigger = {
			check_variable = {
				which = local_gath_res
				value < 1
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_10907

		trigger = {
			check_variable = {
				which = local_gath_res
				value >= 4
			}
		}

		if = {
			limit = { has_quest = quest_alchemist_gather_ingredients }
			clr_quest = quest_alchemist_gather_ingredients
			sound_effect = hermetic_society_acquire_seed
			add_society_currency_medium_effect = yes
		}

		custom_tooltip = { text = EVTTOOLTIP_MNM_1812 }
	}

	option = {
		name = EVTOPTB_SOH_10907

		trigger = {
			check_variable = {
				which = local_gath_res
				value < 4
			}
			check_variable = {
				which = local_gath_res
				value > 0
			}
		}

		if = {
			limit = { has_quest = quest_alchemist_gather_ingredients }
			clr_quest = quest_alchemist_gather_ingredients
			sound_effect = hermetic_society_acquire_seed
			add_society_currency_minor_effect = yes
		}

		custom_tooltip = { text = EVTTOOLTIP_MNM_1812 }
	}

	option = {
		name = EVTOPTC_SOH_10907

		trigger = {
			check_variable = {
				which = local_gath_res
				value < 1
			}
		}

		if = {
			limit = { has_quest = quest_alchemist_gather_ingredients }

			clr_quest = {
				id = quest_alchemist_gather_ingredients
				failure = yes
			}
		}

		random_list = {
			2 = { } # no effect

			1 = { # poisoned
				if = {
					limit = { has_dlc = "Reapers" }
					give_food_poisoning_effect = yes
					custom_tooltip = { text = EVTTOOLTIP_MNM_1812_ILL }
				}
				else = {
					add_trait_ill_effect = yes
				}
			}
		}
	}

	after = {
		while = {
			limit = {
				check_variable = {
					which = local_gath_res
					value > 0
				}
			}
			
			random_list = {
				50 = {
					hermetic_add_herbal_ingredient_effect = yes
				}
				50 = {
					hermetic_add_herbal_ingredient_dangerous_effect = yes
				}
			}

			change_variable = {
				which = local_gath_res
				value = -1
			}
		}

		clr_character_flag = do_not_disturb
		clr_character_flag = gathering_alchemical_ingredients
	}
}

# Visiting the market - normal visit
character_event = {
	id = soh.10908
	desc = EVTDESC_SOH_10908
	picture = GFX_evt_market
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	prisoner = no
	
	trigger = {
		is_actually_incapable_trigger = no
		society_member_of = the_alchemists
	}
	
	option = {
		name = EVTOPTA_SOH_10908 # Time to haggle!
		
		character_event = { id = soh.10909 days = 10 random = 5 } # Outcome
	}
}

# Outcome event
character_event = {
	id = soh.10909
	picture = GFX_evt_market
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	prisoner = no
	
	trigger = {
		is_actually_incapable_trigger = no
		society_member_of = the_alchemists
	}

	immediate = {
		set_variable = {
			which = local_gath_res
			value = 0
		}

		while = {
			count = 7

			random_list = {
				50 = { # Successful gathering
					mult_modifier = {
						factor = 0.5
						diplomacy < 4
					}
					mult_modifier = {
						factor = 0.6
						diplomacy < 6
					}
					mult_modifier = {
						factor = 0.7
						diplomacy < 8
					}
					mult_modifier = {
						factor = 1.2
						diplomacy >= 11
					}
					mult_modifier = {
						factor = 1.2
						diplomacy >= 13
					}
					mult_modifier = {
						factor = 1.2
						diplomacy >= 15
					}
					mult_modifier = {
						factor = 1.2
						trait = socializer
					}

					change_variable = {
						which = local_gath_res
						value = 1
					}
				}
			}
		}
	}

	desc = {
		text = EVTDESC_SOH_10909_A
		trigger = {
			check_variable = {
				which = local_gath_res
				value >= 4
			}
		}
	}
	desc = {
		text = EVTDESC_SOH_10909_B
		trigger = {
			check_variable = {
				which = local_gath_res
				value < 4
			}
			check_variable = {
				which = local_gath_res
				value > 0
			}
		}
	}
	desc = {
		text = EVTDESC_SOH_10909_C
		trigger = {
			check_variable = {
				which = local_gath_res
				value < 1
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_10909

		trigger = {
			check_variable = {
				which = local_gath_res
				value >= 4
			}
		}
		
		wealth = -35

		if = {
			limit = { has_quest = quest_alchemist_gather_ingredients }
			clr_quest = quest_alchemist_gather_ingredients
			sound_effect = hermetic_society_acquire_seed
			add_society_currency_medium_effect = yes
		}

		custom_tooltip = { text = EVTTOOLTIP_MNM_1812 }
	}

	option = {
		name = EVTOPTB_SOH_10909

		trigger = {
			check_variable = {
				which = local_gath_res
				value < 4
			}
			check_variable = {
				which = local_gath_res
				value > 0
			}
		}
		
		wealth = -25

		if = {
			limit = { has_quest = quest_alchemist_gather_ingredients }
			clr_quest = quest_alchemist_gather_ingredients
			sound_effect = hermetic_society_acquire_seed
			add_society_currency_minor_effect = yes
		}

		custom_tooltip = { text = EVTTOOLTIP_MNM_1812 }
	}

	option = {
		name = EVTOPTC_SOH_10909

		trigger = {
			check_variable = {
				which = local_gath_res
				value < 1
			}
		}
		
		wealth = -15

		if = {
			limit = { has_quest = quest_alchemist_gather_ingredients }

			clr_quest = {
				id = quest_alchemist_gather_ingredients
				failure = yes
			}
		}
	}

	after = {
		while = {
			limit = {
				check_variable = {
					which = local_gath_res
					value > 0
				}
			}
			
			hermetic_add_misc_ingredient_effect = yes

			change_variable = {
				which = local_gath_res
				value = -1
			}
		}

		clr_character_flag = do_not_disturb
		clr_character_flag = gathering_alchemical_ingredients
	}
}

# Visiting the market - black market
character_event = {
	id = soh.10910
	desc = EVTDESC_SOH_10910
	picture = GFX_evt_market
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	prisoner = no
	
	trigger = {
		is_actually_incapable_trigger = no
		society_member_of = the_alchemists
	}
	
	option = {
		name = EVTOPTA_SOH_10910 # Time to haggle!
		
		character_event = { id = soh.10911 days = 10 random = 5 } # Outcome
	}
}

# Outcome event
character_event = {
	id = soh.10911
	picture = GFX_evt_market
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	prisoner = no
	
	trigger = {
		is_actually_incapable_trigger = no
		society_member_of = the_alchemists
	}

	immediate = {
		set_variable = {
			which = local_gath_res
			value = 0
		}

		while = {
			count = 7

			random_list = {
				50 = { # Successful gathering
					mult_modifier = {
						factor = 0.5
						intrigue < 4
					}
					mult_modifier = {
						factor = 0.6
						intrigue < 6
					}
					mult_modifier = {
						factor = 0.7
						intrigue < 8
					}
					mult_modifier = {
						factor = 1.2
						intrigue >= 11
					}
					mult_modifier = {
						factor = 1.2
						intrigue >= 13
					}
					mult_modifier = {
						factor = 1.2
						intrigue >= 15
					}
					mult_modifier = {
						factor = 1.2
						trait = master_schemer
					}

					change_variable = {
						which = local_gath_res
						value = 1
					}
				}
			}
		}
	}

	desc = {
		text = EVTDESC_SOH_10911_A
		trigger = {
			check_variable = {
				which = local_gath_res
				value >= 4
			}
		}
	}
	desc = {
		text = EVTDESC_SOH_10911_B
		trigger = {
			check_variable = {
				which = local_gath_res
				value < 4
			}
			check_variable = {
				which = local_gath_res
				value > 0
			}
		}
	}
	desc = {
		text = EVTDESC_SOH_10911_C
		trigger = {
			check_variable = {
				which = local_gath_res
				value < 1
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_10911

		trigger = {
			check_variable = {
				which = local_gath_res
				value >= 4
			}
		}
		
		wealth = -35

		if = {
			limit = { has_quest = quest_alchemist_gather_ingredients }
			clr_quest = quest_alchemist_gather_ingredients
			sound_effect = hermetic_society_acquire_seed
			add_society_currency_medium_effect = yes
		}

		custom_tooltip = { text = EVTTOOLTIP_MNM_1812 }
	}

	option = {
		name = EVTOPTB_SOH_10911

		trigger = {
			check_variable = {
				which = local_gath_res
				value < 4
			}
			check_variable = {
				which = local_gath_res
				value > 0
			}
		}
		
		wealth = -25

		if = {
			limit = { has_quest = quest_alchemist_gather_ingredients }
			clr_quest = quest_alchemist_gather_ingredients
			sound_effect = hermetic_society_acquire_seed
			add_society_currency_minor_effect = yes
		}

		custom_tooltip = { text = EVTTOOLTIP_MNM_1812 }
	}

	option = {
		name = EVTOPTC_SOH_10911

		trigger = {
			check_variable = {
				which = local_gath_res
				value < 1
			}
		}
		
		wealth = -15

		if = {
			limit = { has_quest = quest_alchemist_gather_ingredients }

			clr_quest = {
				id = quest_alchemist_gather_ingredients
				failure = yes
			}
		}
	}

	after = {
		while = {
			limit = {
				check_variable = {
					which = local_gath_res
					value > 0
				}
			}
			
			hermetic_add_black_market_ingredient_effect = yes

			change_variable = {
				which = local_gath_res
				value = -1
			}
		}

		clr_character_flag = do_not_disturb
		clr_character_flag = gathering_alchemical_ingredients
	}
}

# Hunting for animal parts
character_event = {
	id = soh.10912
	desc = EVTDESC_SOH_10912
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	prisoner = no
	
	trigger = {
		is_actually_incapable_trigger = no
		society_member_of = the_alchemists
	}
	
	option = {
		name = EVTOPTA_SOH_10912 # Time to hunt!
		
		character_event = { id = soh.10913 days = 10 random = 5 } # Outcome
	}
}

# Outcome event
character_event = {
	id = soh.10913
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	prisoner = no
	
	trigger = {
		is_actually_incapable_trigger = no
		society_member_of = the_alchemists
	}

	immediate = {
		set_variable = {
			which = local_gath_res
			value = 0
		}

		while = {
			count = 7

			random_list = {
				50 = { # Successful gathering
					mult_modifier = {
						factor = 0.5
						martial < 4
					}
					mult_modifier = {
						factor = 0.6
						martial < 6
					}
					mult_modifier = {
						factor = 0.7
						martial < 8
					}
					mult_modifier = {
						factor = 1.2
						martial >= 11
					}
					mult_modifier = {
						factor = 1.2
						martial >= 13
					}
					mult_modifier = {
						factor = 1.2
						martial >= 15
					}
					mult_modifier = {
						factor = 1.2
						trait = hunter
					}

					change_variable = {
						which = local_gath_res
						value = 1
					}
				}
			}
		}
	}

	desc = {
		text = EVTDESC_SOH_10913_A
		trigger = {
			check_variable = {
				which = local_gath_res
				value >= 4
			}
		}
	}
	desc = {
		text = EVTDESC_SOH_10913_B
		trigger = {
			check_variable = {
				which = local_gath_res
				value < 4
			}
			check_variable = {
				which = local_gath_res
				value > 0
			}
		}
	}
	desc = {
		text = EVTDESC_SOH_10913_C
		trigger = {
			check_variable = {
				which = local_gath_res
				value < 1
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_10913

		trigger = {
			check_variable = {
				which = local_gath_res
				value >= 4
			}
		}

		if = {
			limit = { has_quest = quest_alchemist_gather_ingredients }
			clr_quest = quest_alchemist_gather_ingredients
			sound_effect = hermetic_society_acquire_seed
			add_society_currency_medium_effect = yes
		}

		custom_tooltip = { text = EVTTOOLTIP_MNM_1812 }
	}

	option = {
		name = EVTOPTB_SOH_10913

		trigger = {
			check_variable = {
				which = local_gath_res
				value < 4
			}
			check_variable = {
				which = local_gath_res
				value > 0
			}
		}

		if = {
			limit = { has_quest = quest_alchemist_gather_ingredients }
			clr_quest = quest_alchemist_gather_ingredients
			sound_effect = hermetic_society_acquire_seed
			add_society_currency_minor_effect = yes
		}

		custom_tooltip = { text = EVTTOOLTIP_MNM_1812 }
	}

	option = {
		name = EVTOPTC_SOH_10913

		trigger = {
			check_variable = {
				which = local_gath_res
				value < 1
			}
		}

		prestige = -25

		add_character_modifier = {
			name = disappointing_hunt
			years = 3
		}

		if = {
			limit = { has_quest = quest_alchemist_gather_ingredients }

			clr_quest = {
				id = quest_alchemist_gather_ingredients
				failure = yes
			}
		}
	}

	after = {
		while = {
			limit = {
				check_variable = {
					which = local_gath_res
					value > 0
				}
			}
			
			hermetic_add_animal_ingredient_effect = yes

			change_variable = {
				which = local_gath_res
				value = -1
			}
		}

		clr_character_flag = do_not_disturb
		clr_character_flag = gathering_alchemical_ingredients
	}
}

# Seeking help from the society - normal approach
character_event = {
	id = soh.10914
	desc = EVTDESC_SOH_10914
	picture = GFX_evt_gathering_of_minds
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	prisoner = no
	
	trigger = {
		is_actually_incapable_trigger = no
		society_member_of = the_alchemists
	}
	
	option = {
		name = EVTOPTA_SOH_10914 # I'm sure someone can help me!
		
		character_event = { id = soh.10915 days = 10 random = 5 } # Outcome
	}
}

# Outcome event
character_event = {
	id = soh.10915
	picture = GFX_evt_gathering_of_minds
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	prisoner = no
	
	trigger = {
		is_actually_incapable_trigger = no
		society_member_of = the_alchemists
	}

	immediate = {
		set_variable = {
			which = local_gath_res
			value = 0
		}

		while = {
			count = 7

			random_list = {
				50 = { # Successful gathering
					mult_modifier = {
						factor = 0.5
						diplomacy < 4
					}
					mult_modifier = {
						factor = 0.6
						diplomacy < 6
					}
					mult_modifier = {
						factor = 0.7
						diplomacy < 8
					}
					mult_modifier = {
						factor = 1.2
						diplomacy >= 11
					}
					mult_modifier = {
						factor = 1.2
						diplomacy >= 13
					}
					mult_modifier = {
						factor = 1.2
						diplomacy >= 15
					}
					mult_modifier = {
						factor = 1.2
						trait = socializer
					}

					change_variable = {
						which = local_gath_res
						value = 1
					}
				}
			}
		}
	}

	desc = {
		text = EVTDESC_SOH_10915_A
		trigger = {
			check_variable = {
				which = local_gath_res
				value >= 4
			}
		}
	}
	desc = {
		text = EVTDESC_SOH_10915_B
		trigger = {
			check_variable = {
				which = local_gath_res
				value < 4
			}
			check_variable = {
				which = local_gath_res
				value > 0
			}
		}
	}
	desc = {
		text = EVTDESC_SOH_10915_C
		trigger = {
			check_variable = {
				which = local_gath_res
				value < 1
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_10915

		trigger = {
			check_variable = {
				which = local_gath_res
				value >= 4
			}
		}
		
		detract_society_currency_trivial_effect = yes

		if = {
			limit = { has_quest = quest_alchemist_gather_ingredients }
			clr_quest = quest_alchemist_gather_ingredients
			sound_effect = hermetic_society_acquire_seed
			add_society_currency_medium_effect = yes
		}

		custom_tooltip = { text = EVTTOOLTIP_MNM_1812 }
	}

	option = {
		name = EVTOPTB_SOH_10915

		trigger = {
			check_variable = {
				which = local_gath_res
				value < 4
			}
			check_variable = {
				which = local_gath_res
				value > 0
			}
		}
		
		detract_society_currency_tiny_effect = yes

		if = {
			limit = { has_quest = quest_alchemist_gather_ingredients }
			clr_quest = quest_alchemist_gather_ingredients
			sound_effect = hermetic_society_acquire_seed
			add_society_currency_minor_effect = yes
		}

		custom_tooltip = { text = EVTTOOLTIP_MNM_1812 }
	}

	option = {
		name = EVTOPTC_SOH_10915

		trigger = {
			check_variable = {
				which = local_gath_res
				value < 1
			}
		}
		
		detract_society_currency_tiny_effect = yes
		
		prestige = -25

		if = {
			limit = { has_quest = quest_alchemist_gather_ingredients }

			clr_quest = {
				id = quest_alchemist_gather_ingredients
				failure = yes
			}
		}
	}

	after = {
		while = {
			limit = {
				check_variable = {
					which = local_gath_res
					value > 0
				}
			}
			
			random_list = {
				50 = {
					hermetic_add_herbal_ingredient_effect = yes
				}
				50 = {
					hermetic_add_misc_ingredient_effect = yes
				}
			}

			change_variable = {
				which = local_gath_res
				value = -1
			}
		}

		clr_character_flag = do_not_disturb
		clr_character_flag = gathering_alchemical_ingredients
	}
}

# Seeking help from the society - shady approach
character_event = {
	id = soh.10916
	desc = EVTDESC_SOH_10916
	picture = GFX_evt_gathering_of_minds
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	prisoner = no
	
	trigger = {
		is_actually_incapable_trigger = no
		society_member_of = the_alchemists
	}
	
	option = {
		name = EVTOPTA_SOH_10916 # I'm sure someone can help me!
		
		character_event = { id = soh.10917 days = 10 random = 5 } # Outcome
	}
}

# Outcome event
character_event = {
	id = soh.10917
	picture = GFX_evt_gathering_of_minds
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	prisoner = no
	
	trigger = {
		is_actually_incapable_trigger = no
		society_member_of = the_alchemists
	}

	immediate = {
		set_variable = {
			which = local_gath_res
			value = 0
		}

		while = {
			count = 7

			random_list = {
				50 = { # Successful gathering
					mult_modifier = {
						factor = 0.5
						intrigue < 4
					}
					mult_modifier = {
						factor = 0.6
						intrigue < 6
					}
					mult_modifier = {
						factor = 0.7
						intrigue < 8
					}
					mult_modifier = {
						factor = 1.2
						intrigue >= 11
					}
					mult_modifier = {
						factor = 1.2
						intrigue >= 13
					}
					mult_modifier = {
						factor = 1.2
						intrigue >= 15
					}
					mult_modifier = {
						factor = 1.2
						trait = socializer
					}

					change_variable = {
						which = local_gath_res
						value = 1
					}
				}
			}
		}
	}

	desc = {
		text = EVTDESC_SOH_10917_A
		trigger = {
			check_variable = {
				which = local_gath_res
				value >= 4
			}
		}
	}
	desc = {
		text = EVTDESC_SOH_10917_B
		trigger = {
			check_variable = {
				which = local_gath_res
				value < 4
			}
			check_variable = {
				which = local_gath_res
				value > 0
			}
		}
	}
	desc = {
		text = EVTDESC_SOH_10917_C
		trigger = {
			check_variable = {
				which = local_gath_res
				value < 1
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_10917

		trigger = {
			check_variable = {
				which = local_gath_res
				value >= 4
			}
		}
		
		detract_society_currency_trivial_effect = yes

		if = {
			limit = { has_quest = quest_alchemist_gather_ingredients }
			clr_quest = quest_alchemist_gather_ingredients
			sound_effect = hermetic_society_acquire_seed
			add_society_currency_medium_effect = yes
		}

		custom_tooltip = { text = EVTTOOLTIP_MNM_1812 }
	}

	option = {
		name = EVTOPTB_SOH_10917

		trigger = {
			check_variable = {
				which = local_gath_res
				value < 4
			}
			check_variable = {
				which = local_gath_res
				value > 0
			}
		}
		
		detract_society_currency_tiny_effect = yes

		if = {
			limit = { has_quest = quest_alchemist_gather_ingredients }
			clr_quest = quest_alchemist_gather_ingredients
			sound_effect = hermetic_society_acquire_seed
			add_society_currency_minor_effect = yes
		}

		custom_tooltip = { text = EVTTOOLTIP_MNM_1812 }
	}

	option = {
		name = EVTOPTC_SOH_10917

		trigger = {
			check_variable = {
				which = local_gath_res
				value < 1
			}
		}
		
		detract_society_currency_tiny_effect = yes
		
		increase_visibility_effect = yes

		if = {
			limit = { has_quest = quest_alchemist_gather_ingredients }

			clr_quest = {
				id = quest_alchemist_gather_ingredients
				failure = yes
			}
		}
	}

	after = {
		while = {
			limit = {
				check_variable = {
					which = local_gath_res
					value > 0
				}
			}
			
			random_list = {
				50 = {
					hermetic_add_herbal_ingredient_effect = yes
				}
				50 = {
					hermetic_add_misc_ingredient_effect = yes
				}
			}

			change_variable = {
				which = local_gath_res
				value = -1
			}
		}

		clr_character_flag = do_not_disturb
		clr_character_flag = gathering_alchemical_ingredients
	}
}

# Flag cleanup
character_event = {
	id = soh.10918
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		has_character_flag = gather_alchemical_ingredients
	}
	
	immediate = {
		clr_character_flag = do_not_disturb
		clr_character_flag = gathering_alchemical_ingredients
	}
}



### Build Alchemical Laboratory - some inspiration taken from the Hermetics' laboratory events

# Flags:
# Temporary:
# building_laboratory (cleared at end)
# decided_on_jade (cleared at end)
# decided_on_books (cleared at end)
# decided_on_tools (cleared at end)
# decided_on_wards (cleared at end)
# decided_on_decorations (cleared at end)
# Not Temporary:
# built_laboratory (not cleared -> set at end, marks this as done for this character)
# hidden_lab (not cleared -> to be used to weight stealing of secrets)
# very_hidden_lab (not cleared -> to be used to weight stealing of secrets)
# Confirmation event
character_event = {
	id = soh.10919
	desc = EVTDESC_SOH_10919
	picture = GFX_evt_castle_construction
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes # build_alchemical_laboratory decision

	option = {
		name = EVTOPTA_SOH_10919 # For science!

		hidden_effect = {
			set_variable = { which = local_laboratory_level value = 1 }
		}

		character_event = { id = soh.10920 days = 7 }
	}

	option = {
		name = EVTOPTB_SOH_10919 # Actually, now is not the time...

		wealth = 50
		clr_character_flag = building_laboratory
	}
}

# Secret lab, spiritual lab, or normal lab?
character_event = {
	id = soh.10920
	desc = EVTDESC_SOH_10920
	picture = GFX_evt_castle_construction
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes

	trigger = {
		has_quest = quest_alchemist_build_laboratory
	}

	option = {
		name = EVTOPTA_SOH_10920 # A secret lab

		custom_tooltip = {
			text = hidden_lab_tooltip
			set_character_flag = hidden_lab
			change_variable = { which = local_laboratory_level value = 3 }
		}
	}

	option = {
		name = EVTOPTB_SOH_10920 # An accessible lab

		custom_tooltip = {
			text = accessible_lab_tooltip
			change_variable = { which = local_laboratory_level value = 5 }
		}
	}

	option = {
		name = EVTOPTC_SOH_10920 # A sacred lab

		trigger = {
			OR = {
				learning >= 15
				trait = zealous
				trait = mystic
			}
		}

		custom_tooltip = {
			text = holy_lab_tooltip
			set_character_flag = holy_lab
			change_variable = { which = local_laboratory_level value = 3 }
		}
	}

	after = {
		character_event = { id = soh.10921 months = 1 }
	}
}

# Ambition level
character_event = {
	id = soh.10921
	desc = EVTDESC_SOH_10921
	picture = GFX_evt_weaponsmith
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTA_SOH_10921 # Cheap lab

		custom_tooltip = {
			text = cheap_laboratory_setup

			change_variable = { which = local_laboratory_level value = 1 }
			set_variable = { which = local_lab_ambition value = 1 }

			random_list = { # Accidents
				25 = { } # Nothing Happens
				25 = {
					trigger = {
						has_character_flag = hidden_lab
					}
					character_event = { id = soh.10927 months = 1 } # Someone discovers the lab
				}
				25 = {
					trigger = {
						has_character_flag = hidden_lab
					}
					character_event = { id = soh.10928 months = 1 } # Wall collapses
				}
				25 = {
					trigger = {
						has_character_flag = holy_lab
					}
					character_event = { id = soh.10931 months = 1 } # Poor Feng Shui
				}
				25 = {
					trigger = {
						NOR = {
							has_character_flag = hidden_lab
							has_character_flag = holy_lab
						}
					}
					character_event = { id = soh.10933 months = 1 } # Worried peasants
				}
				25 = { character_event = { id = soh.10934 months = 1 } } # Lost ingredients
				25 = { character_event = { id = soh.10935 months = 1 } } # Damaged equipment
			}
		}
	}

	option = {
		name = EVTOPTB_SOH_10921 # Normal lab

		wealth = -20

		custom_tooltip = {
			text = efficient_laboratory_setup

			change_variable = { which = local_laboratory_level value = 3 }
			set_variable = { which = local_lab_ambition value = 2 }

			random_list = { # Accidents
				25 = { } # Nothing Happens
				25 = {
					trigger = {
						has_character_flag = hidden_lab
					}
					character_event = { id = soh.10927 months = 1 } # Someone discovers the lab
				}
				25 = {
					trigger = {
						has_character_flag = hidden_lab
					}
					character_event = { id = soh.10928 months = 1 } # Wall collapses
				}
				25 = {
					trigger = {
						has_character_flag = holy_lab
					}
					character_event = { id = soh.10931 months = 1 } # Poor Feng Shui
				}
				25 = {
					trigger = {
						NOR = {
							has_character_flag = hidden_lab
							has_character_flag = holy_lab
						}
					}
					character_event = { id = soh.10933 months = 1 } # Worried peasants
				}
				25 = { character_event = { id = soh.10934 months = 1 } } # Lost ingredients
				25 = { character_event = { id = soh.10935 months = 1 } } # Damaged equipment
			}
		}
	}

	option = {
		name = EVTOPTC_SOH_10921 # State of the Art.

		trigger = {
			OR = {
				learning >= 15
				AND = {
					learning >= 10
					intrigue >= 10
				}
			}
		}

		wealth = -35

		custom_tooltip = {
			text = large_laboratory_setup

			change_variable = { which = local_laboratory_level value = 5 }
			set_variable = { which = local_lab_ambition value = 3 }

			random_list = { # Accidents
				25 = { } # Nothing Happens
				25 = {
					trigger = {
						has_character_flag = hidden_lab
					}
					character_event = { id = soh.10927 months = 1 } # Someone discovers the lab
				}
				25 = {
					trigger = {
						has_character_flag = hidden_lab
					}
					character_event = { id = soh.10928 months = 1 } # Wall collapses
				}
				25 = {
					trigger = {
						has_character_flag = holy_lab
					}
					character_event = { id = soh.10931 months = 1 } # Poor Feng Shui
				}
				25 = {
					trigger = {
						NOR = {
							has_character_flag = hidden_lab
							has_character_flag = holy_lab
						}
					}
					character_event = { id = soh.10933 months = 1 } # Worried peasants
				}
				25 = { character_event = { id = soh.10934 months = 1 } } # Lost ingredients
				25 = { character_event = { id = soh.10935 months = 1 } } # Damaged equipment
			}
		}
	}

	option = {
		name = EVTOPTD_SOH_10921 # Experimental setup

		trigger = {
			OR = {
				learning >= 25
				AND = {
					learning >= 20
					intrigue >= 20
				}
			}
		}

		wealth = -50

		custom_tooltip = {
			text = extravagant_laboratory_setup

			change_variable = { which = local_laboratory_level value = 8 }
			set_variable = { which = local_lab_ambition value = 4 }

			random_list = { # Accidents
				25 = { } # Nothing Happens
				25 = {
					trigger = {
						has_character_flag = hidden_lab
					}
					character_event = { id = soh.10927 months = 1 } # Someone discovers the lab
				}
				25 = {
					trigger = {
						has_character_flag = hidden_lab
					}
					character_event = { id = soh.10928 months = 1 } # Wall collapses
				}
				25 = {
					trigger = {
						has_character_flag = holy_lab
					}
					character_event = { id = soh.10931 months = 1 } # Poor Feng Shui
				}
				25 = {
					trigger = {
						NOR = {
							has_character_flag = hidden_lab
							has_character_flag = holy_lab
						}
					}
					character_event = { id = soh.10933 months = 1 } # Worried peasants
				}
				25 = { character_event = { id = soh.10934 months = 1 } } # Lost ingredients
				25 = { character_event = { id = soh.10935 months = 1 } } # Damaged equipment
			}
		}
	}

	after = {
		hidden_effect = {
			random_list = {
				20 = {
					trigger = { NOT = { has_character_flag = decided_on_jade } }
					character_event = { id = soh.10922 months = 1 }
				}
				20 = {
					trigger = { NOT = { has_character_flag = decided_on_books } }
					character_event = { id = soh.10923 months = 1 }
				}
				20 = {
					trigger = { NOT = { has_character_flag = decided_on_tools } }
					character_event = { id = soh.10924 months = 1 }
				}
				20 = {
					trigger = { NOT = { has_character_flag = decided_on_wards } }
					character_event = { id = soh.10925 months = 1 }
				}
				20 = {
					trigger = {
						NOR = {
							has_character_flag = decided_on_decorations
							has_character_flag = hidden_lab
						}
					}
					character_event = { id = soh.10926 months = 1 } # Impressive decorations?
				}
				20 = {
					trigger = {
						has_character_flag = hidden_lab_entrance
						NOT = {
							has_character_flag = hidden_lab
						}
					}
					character_event = { id = soh.10929 months = 1 } # Hidden entrance, possibly at the cost of size
				}
				20 = {
					trigger = {
						has_character_flag = hidden_lab_layout
						NOT = {
							has_character_flag = hidden_lab
						}
					}
					character_event = { id = soh.10930 months = 1 } # Extensive layout, possibly at the cost of secrecy
				}
				20 = {
					trigger = {
						has_character_flag = holy_lab
						check_variable = { which = local_laboratory_level value >= 5 }
						NOT = {
							has_character_flag = holy_lab_impresses
						}
					}
					character_event = { id = soh.10932 months = 1 } # Spiritual lab impresses
				}
			}
		}
	}
}

# Vessels - invest in jade or not?
character_event = {
	id = soh.10922
	desc = EVTDESC_SOH_10922
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	immediate = {
		set_character_flag = decided_on_jade
	}

	option = {
		name = EVTOPTA_SOH_10922

		custom_tooltip = {
			text = worse_laboratory_tooltip

			change_variable = { which = local_laboratory_level value = 1 }
		}
	}
	option = {
		name = EVTOPTB_SOH_10922

		wealth = -20

		custom_tooltip = {
			text = better_laboratory_tooltip

			change_variable = { which = local_laboratory_level value = 2 }
		}
	}

	after = {
		hidden_effect = {
			change_variable = { which = local_lab_ambition value = -1 }

			if = {
				limit = {
					check_variable = {
						which = local_lab_ambition
						value >= 1
					}
				}
				random_list = {
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_jade } }
						character_event = { id = soh.10922 months = 1 }
					}
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_books } }
						character_event = { id = soh.10923 months = 1 }
					}
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_tools } }
						character_event = { id = soh.10924 months = 1 }
					}
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_wards } }
						character_event = { id = soh.10925 months = 1 }
					}
					20 = {
						trigger = {
							NOR = {
								has_character_flag = decided_on_decorations
								has_character_flag = hidden_lab
								has_character_flag = very_hidden_lab
							}
						}
						character_event = { id = soh.10926 months = 1 } # Impressive decorations?
					}
					20 = {
						trigger = {
							has_character_flag = hidden_lab_entrance
							OR = {
								has_character_flag = hidden_lab
								has_character_flag = very_hidden_lab
							}
						}
						character_event = { id = soh.10929 months = 1 } # Hidden entrance, possibly at the cost of size
					}
					20 = {
						trigger = {
							has_character_flag = hidden_lab_layout
							OR = {
								has_character_flag = hidden_lab
								has_character_flag = very_hidden_lab
							}
						}
						character_event = { id = soh.10930 months = 1 } # Extensive layout, possibly at the cost of secrecy
					}
					20 = {
						trigger = {
							has_character_flag = holy_lab
							check_variable = { which = local_laboratory_level value >= 5 }
							NOT = {
								has_character_flag = holy_lab_impresses
							}
						}
						character_event = { id = soh.10932 months = 1 } # Spiritual lab impresses
					}
				}
			}
			
			else = {
				character_event = { id = soh.10936 months = 2 }
			}
		}
	}
}

# Books - invest or not?
character_event = {
	id = soh.10923
	desc = EVTDESC_SOH_10923
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	immediate = {
		set_character_flag = decided_on_books
	}

	option = {
		name = EVTOPTA_SOH_10923

		custom_tooltip = {
			text = worse_laboratory_tooltip

			change_variable = { which = local_laboratory_level value = 1 }
		}
	}
	option = {
		name = EVTOPTB_SOH_10923

		wealth = -20

		custom_tooltip = {
			text = better_laboratory_tooltip

			change_variable = { which = local_laboratory_level value = 2 }
		}
	}

	after = {
		hidden_effect = {
			change_variable = { which = local_lab_ambition value = -1 }

			if = {
				limit = {
					check_variable = {
						which = local_lab_ambition
						value >= 1
					}
				}
				random_list = {
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_jade } }
						character_event = { id = soh.10922 months = 1 }
					}
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_books } }
						character_event = { id = soh.10923 months = 1 }
					}
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_tools } }
						character_event = { id = soh.10924 months = 1 }
					}
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_wards } }
						character_event = { id = soh.10925 months = 1 }
					}
					20 = {
						trigger = {
							NOR = {
								has_character_flag = decided_on_decorations
								has_character_flag = hidden_lab
								has_character_flag = very_hidden_lab
							}
						}
						character_event = { id = soh.10926 months = 1 } # Impressive decorations?
					}
					20 = {
						trigger = {
							has_character_flag = hidden_lab_entrance
							OR = {
								has_character_flag = hidden_lab
								has_character_flag = very_hidden_lab
							}
						}
						character_event = { id = soh.10929 months = 1 } # Hidden entrance, possibly at the cost of size
					}
					20 = {
						trigger = {
							has_character_flag = hidden_lab_layout
							OR = {
								has_character_flag = hidden_lab
								has_character_flag = very_hidden_lab
							}
						}
						character_event = { id = soh.10930 months = 1 } # Extensive layout, possibly at the cost of secrecy
					}
					20 = {
						trigger = {
							has_character_flag = holy_lab
							check_variable = { which = local_laboratory_level value >= 5 }
							NOT = {
								has_character_flag = holy_lab_impresses
							}
						}
						character_event = { id = soh.10932 months = 1 } # Spiritual lab impresses
					}
				}
			}
			
			else = {
				character_event = { id = soh.10936 months = 2 }
			}
		}
	}
}

# Special tools - invest or not?
character_event = {
	id = soh.10924
	desc = EVTDESC_SOH_10924
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	immediate = {
		set_character_flag = decided_on_tools
	}

	option = {
		name = EVTOPTA_SOH_10924

		custom_tooltip = {
			text = worse_laboratory_tooltip

			change_variable = { which = local_laboratory_level value = 1 }
		}
	}
	option = {
		name = EVTOPTB_SOH_10924

		wealth = -20

		custom_tooltip = {
			text = better_laboratory_tooltip

			change_variable = { which = local_laboratory_level value = 2 }
		}
	}

	after = {
		hidden_effect = {
			change_variable = { which = local_lab_ambition value = -1 }

			if = {
				limit = {
					check_variable = {
						which = local_lab_ambition
						value >= 1
					}
				}
				random_list = {
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_jade } }
						character_event = { id = soh.10922 months = 1 }
					}
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_books } }
						character_event = { id = soh.10923 months = 1 }
					}
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_tools } }
						character_event = { id = soh.10924 months = 1 }
					}
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_wards } }
						character_event = { id = soh.10925 months = 1 }
					}
					20 = {
						trigger = {
							NOR = {
								has_character_flag = decided_on_decorations
								has_character_flag = hidden_lab
								has_character_flag = very_hidden_lab
							}
						}
						character_event = { id = soh.10926 months = 1 } # Impressive decorations?
					}
					20 = {
						trigger = {
							has_character_flag = hidden_lab_entrance
							OR = {
								has_character_flag = hidden_lab
								has_character_flag = very_hidden_lab
							}
						}
						character_event = { id = soh.10929 months = 1 } # Hidden entrance, possibly at the cost of size
					}
					20 = {
						trigger = {
							has_character_flag = hidden_lab_layout
							OR = {
								has_character_flag = hidden_lab
								has_character_flag = very_hidden_lab
							}
						}
						character_event = { id = soh.10930 months = 1 } # Extensive layout, possibly at the cost of secrecy
					}
					20 = {
						trigger = {
							has_character_flag = holy_lab
							check_variable = { which = local_laboratory_level value >= 5 }
							NOT = {
								has_character_flag = holy_lab_impresses
							}
						}
						character_event = { id = soh.10932 months = 1 } # Spiritual lab impresses
					}
				}
			}
			
			else = {
				character_event = { id = soh.10936 months = 2 }
			}
		}
	}
}

# Holy wards - invest or not?
character_event = {
	id = soh.10925
	desc = EVTDESC_SOH_10925
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	immediate = {
		set_character_flag = decided_on_wards
	}

	option = {
		name = EVTOPTA_SOH_10925

		custom_tooltip = {
			text = worse_laboratory_tooltip

			change_variable = { which = local_laboratory_level value = 1 }
		}
	}
	option = {
		name = EVTOPTB_SOH_10925

		wealth = -20

		custom_tooltip = {
			text = better_laboratory_tooltip

			change_variable = { which = local_laboratory_level value = 2 }
		}
	}

	after = {
		hidden_effect = {
			change_variable = { which = local_lab_ambition value = -1 }

			if = {
				limit = {
					check_variable = {
						which = local_lab_ambition
						value >= 1
					}
				}
				random_list = {
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_jade } }
						character_event = { id = soh.10922 months = 1 }
					}
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_books } }
						character_event = { id = soh.10923 months = 1 }
					}
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_tools } }
						character_event = { id = soh.10924 months = 1 }
					}
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_wards } }
						character_event = { id = soh.10925 months = 1 }
					}
					20 = {
						trigger = {
							NOR = {
								has_character_flag = decided_on_decorations
								has_character_flag = hidden_lab
								has_character_flag = very_hidden_lab
							}
						}
						character_event = { id = soh.10926 months = 1 } # Impressive decorations?
					}
					20 = {
						trigger = {
							has_character_flag = hidden_lab_entrance
							OR = {
								has_character_flag = hidden_lab
								has_character_flag = very_hidden_lab
							}
						}
						character_event = { id = soh.10929 months = 1 } # Hidden entrance, possibly at the cost of size
					}
					20 = {
						trigger = {
							has_character_flag = hidden_lab_layout
							OR = {
								has_character_flag = hidden_lab
								has_character_flag = very_hidden_lab
							}
						}
						character_event = { id = soh.10930 months = 1 } # Extensive layout, possibly at the cost of secrecy
					}
					20 = {
						trigger = {
							has_character_flag = holy_lab
							check_variable = { which = local_laboratory_level value >= 5 }
							NOT = {
								has_character_flag = holy_lab_impresses
							}
						}
						character_event = { id = soh.10932 months = 1 } # Spiritual lab impresses
					}
				}
			}
			
			else = {
				character_event = { id = soh.10936 months = 2 }
			}
		}
	}
}

# Impressive decorations - invest or not?
character_event = {
	id = soh.10926
	desc = EVTDESC_SOH_10926
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	immediate = {
		set_character_flag = decided_on_decorations
	}

	option = {
		name = EVTOPTA_SOH_10926

		custom_tooltip = {
			text = worse_laboratory_tooltip

			change_variable = { which = local_laboratory_level value = 1 }
		}
	}
	option = {
		name = EVTOPTB_SOH_10926

		wealth = -20

		custom_tooltip = {
			text = better_laboratory_tooltip

			change_variable = { which = local_laboratory_level value = 2 }
		}
	}

	after = {
		hidden_effect = {
			change_variable = { which = local_lab_ambition value = -1 }

			if = {
				limit = {
					check_variable = {
						which = local_lab_ambition
						value >= 1
					}
				}
				random_list = {
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_jade } }
						character_event = { id = soh.10922 months = 1 }
					}
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_books } }
						character_event = { id = soh.10923 months = 1 }
					}
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_tools } }
						character_event = { id = soh.10924 months = 1 }
					}
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_wards } }
						character_event = { id = soh.10925 months = 1 }
					}
					20 = {
						trigger = {
							NOR = {
								has_character_flag = decided_on_decorations
								has_character_flag = hidden_lab
								has_character_flag = very_hidden_lab
							}
						}
						character_event = { id = soh.10926 months = 1 } # Impressive decorations?
					}
					20 = {
						trigger = {
							has_character_flag = hidden_lab_entrance
							OR = {
								has_character_flag = hidden_lab
								has_character_flag = very_hidden_lab
							}
						}
						character_event = { id = soh.10929 months = 1 } # Hidden entrance, possibly at the cost of size
					}
					20 = {
						trigger = {
							has_character_flag = hidden_lab_layout
							OR = {
								has_character_flag = hidden_lab
								has_character_flag = very_hidden_lab
							}
						}
						character_event = { id = soh.10930 months = 1 } # Extensive layout, possibly at the cost of secrecy
					}
					20 = {
						trigger = {
							has_character_flag = holy_lab
							check_variable = { which = local_laboratory_level value >= 5 }
							NOT = {
								has_character_flag = holy_lab_impresses
							}
						}
						character_event = { id = soh.10932 months = 1 } # Spiritual lab impresses
					}
				}
			}
			
			else = {
				character_event = { id = soh.10936 months = 2 }
			}
		}
	}
}

# Secret lab discovered - deal with the problem?
character_event = {
	id = soh.10927
	desc = EVTDESC_SOH_10927
	picture = GFX_evt_shadow
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes
	
	trigger = {
		is_inaccessible_or_incapable_trigger = no
	}
	
	immediate = {
		random_courtier = {
			limit = {
				is_adult = yes
				is_landed = no
				is_inaccessible_or_incapable_trigger = no
			}
			
			save_event_target_as = discovered_lab
		}
	}
	
	option = {
		name = EVTOPTA_SOH_10927 # It's fine!
		
		custom_tooltip = {
			text = lab_no_longer_secret
		
			clr_character_flag = hidden_lab
			clr_character_flag = very_hidden_lab
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					is_rival = event_target:discovered_lab
					OR = {
						trait = cruel
						AND = {
							OR = {
								trait = deceitful
								trait = arbitrary
							}
							NOT = {
								trait = kind
							}
						}
					}
				}
			}
			
			mult_modifier = {
				factor = 10
				trait = kind
			}
			
			mult_modifier = {
				factor = 10
				trait = just
			}
			
			mult_modifier = {
				factor = 10
				trait = honest
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_10927 # You will take this secret to the grave!
		
		event_target:discovered_lab = {
			death = {
				death_reason = death_murder_unknown
				killer = ROOT
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					is_friend = event_target:discovered_lab
					is_lover = event_target:discovered_lab
					AND = {
						is_close_relative = event_target:discovered_lab
						NOT = {
							is_rival = event_target:discovered_lab
						}
					}
				}
			}
			
			mult_modifier = {
				factor = 10
				trait = cruel
			}
			
			mult_modifier = {
				factor = 10
				trait = arbitrary
			}
			
			mult_modifier = {
				factor = 10
				trait = deceitful
			}
		}
	}
}

# Secret lab - wall collapses
character_event = {
	id = soh.10928
	desc = EVTDESC_SOH_10928
	picture = GFX_evt_castle_construction
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10928 # Curses!
		
		custom_tooltip = {
			text = lab_no_longer_secret
		}
		
		clr_character_flag = hidden_lab
		clr_character_flag = very_hidden_lab
	}
}

# Secret lab - secret entrance?
character_event = {
	id = soh.10929
	desc = EVTDESC_SOH_10929
	picture = GFX_evt_hiding_from_pursuers
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	immediate = {
		set_character_flag = hidden_lab_entrance
	}

	option = {
		name = EVTOPTA_SOH_10929
	}
	
	option = {
		name = EVTOPTB_SOH_10929

		wealth = -20
		
		custom_tooltip = {
			text = lab_more_hidden
			
			clr_character_flag = hidden_lab
			set_character_flag = very_hidden_lab
		}
	}

	after = {
		hidden_effect = {
			change_variable = { which = local_lab_ambition value = -1 }

			if = {
				limit = {
					check_variable = {
						which = local_lab_ambition
						value >= 1
					}
				}
				random_list = {
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_jade } }
						character_event = { id = soh.10922 months = 1 }
					}
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_books } }
						character_event = { id = soh.10923 months = 1 }
					}
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_tools } }
						character_event = { id = soh.10924 months = 1 }
					}
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_wards } }
						character_event = { id = soh.10925 months = 1 }
					}
					20 = {
						trigger = {
							NOR = {
								has_character_flag = decided_on_decorations
								has_character_flag = hidden_lab
								has_character_flag = very_hidden_lab
							}
						}
						character_event = { id = soh.10926 months = 1 } # Impressive decorations?
					}
					20 = {
						trigger = {
							has_character_flag = hidden_lab_entrance
							OR = {
								has_character_flag = hidden_lab
								has_character_flag = very_hidden_lab
							}
						}
						character_event = { id = soh.10929 months = 1 } # Hidden entrance, possibly at the cost of size
					}
					20 = {
						trigger = {
							has_character_flag = hidden_lab_layout
							OR = {
								has_character_flag = hidden_lab
								has_character_flag = very_hidden_lab
							}
						}
						character_event = { id = soh.10930 months = 1 } # Extensive layout, possibly at the cost of secrecy
					}
					20 = {
						trigger = {
							has_character_flag = holy_lab
							check_variable = { which = local_laboratory_level value >= 5 }
							NOT = {
								has_character_flag = holy_lab_impresses
							}
						}
						character_event = { id = soh.10932 months = 1 } # Spiritual lab impresses
					}
				}
			}
			
			else = {
				character_event = { id = soh.10936 months = 2 }
			}
		}
	}
}

# Secret lab - extensive layout?
character_event = {
	id = soh.10930
	desc = EVTDESC_SOH_10930
	picture = GFX_evt_hiding_from_pursuers
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	immediate = {
		set_character_flag = hidden_lab_layout
	}

	option = {
		name = EVTOPTA_SOH_10930
	}
	option = {
		name = EVTOPTB_SOH_10930

		wealth = -20
		
		random = {
			chance = 50
			
			custom_tooltip = {
				text = lab_less_hidden
				
				if = {
					limit = {
						has_character_flag = very_hidden_lab
					}
					clr_character_flag = very_hidden_lab
					set_character_flag = hidden_lab
				}
				
				else = {
					clr_character_flag = hidden_lab
				}
			}
		}

		custom_tooltip = {
			text = better_laboratory_tooltip

			change_variable = { which = local_laboratory_level value = 1 }
		}
	}

	after = {
		hidden_effect = {
			change_variable = { which = local_lab_ambition value = -1 }

			if = {
				limit = {
					check_variable = {
						which = local_lab_ambition
						value >= 1
					}
				}
				random_list = {
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_jade } }
						character_event = { id = soh.10922 months = 1 }
					}
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_books } }
						character_event = { id = soh.10923 months = 1 }
					}
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_tools } }
						character_event = { id = soh.10924 months = 1 }
					}
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_wards } }
						character_event = { id = soh.10925 months = 1 }
					}
					20 = {
						trigger = {
							NOR = {
								has_character_flag = decided_on_decorations
								has_character_flag = hidden_lab
								has_character_flag = very_hidden_lab
							}
						}
						character_event = { id = soh.10926 months = 1 } # Impressive decorations?
					}
					20 = {
						trigger = {
							has_character_flag = hidden_lab_entrance
							OR = {
								has_character_flag = hidden_lab
								has_character_flag = very_hidden_lab
							}
						}
						character_event = { id = soh.10929 months = 1 } # Hidden entrance, possibly at the cost of size
					}
					20 = {
						trigger = {
							has_character_flag = hidden_lab_layout
							OR = {
								has_character_flag = hidden_lab
								has_character_flag = very_hidden_lab
							}
						}
						character_event = { id = soh.10930 months = 1 } # Extensive layout, possibly at the cost of secrecy
					}
					20 = {
						trigger = {
							has_character_flag = holy_lab
							check_variable = { which = local_laboratory_level value >= 5 }
							NOT = {
								has_character_flag = holy_lab_impresses
							}
						}
						character_event = { id = soh.10932 months = 1 } # Spiritual lab impresses
					}
				}
			}
			
			else = {
				character_event = { id = soh.10936 months = 2 }
			}
		}
	}
}

# Spiritual lab has poor Feng Shui - request assistance?
character_event = {
	id = soh.10931
	desc = EVTDESC_SOH_10931
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTA_SOH_10931
		
		piety = -25

		custom_tooltip = {
			text = worse_laboratory_tooltip

			change_variable = { which = local_laboratory_level value = -2 }
		}
	}
	option = {
		name = EVTOPTB_SOH_10931

		wealth = -20
	}
}

# Spiritual lab attracts priestly attention
character_event = {
	id = soh.10932
	desc = EVTDESC_SOH_10932
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	immediate = {
		set_character_flag = holy_lab_impresses
	}

	option = {
		name = EVTOPTA_SOH_10930 # Great!
		
		piety = 25
	}

	after = {
		hidden_effect = {
			change_variable = { which = local_lab_ambition value = -1 }

			if = {
				limit = {
					check_variable = {
						which = local_lab_ambition
						value >= 1
					}
				}
				random_list = {
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_jade } }
						character_event = { id = soh.10922 months = 1 }
					}
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_books } }
						character_event = { id = soh.10923 months = 1 }
					}
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_tools } }
						character_event = { id = soh.10924 months = 1 }
					}
					20 = {
						trigger = { NOT = { has_character_flag = decided_on_wards } }
						character_event = { id = soh.10925 months = 1 }
					}
					20 = {
						trigger = {
							NOR = {
								has_character_flag = decided_on_decorations
								has_character_flag = hidden_lab
								has_character_flag = very_hidden_lab
							}
						}
						character_event = { id = soh.10926 months = 1 } # Impressive decorations?
					}
					20 = {
						trigger = {
							has_character_flag = hidden_lab_entrance
							OR = {
								has_character_flag = hidden_lab
								has_character_flag = very_hidden_lab
							}
						}
						character_event = { id = soh.10929 months = 1 } # Hidden entrance, possibly at the cost of size
					}
					20 = {
						trigger = {
							has_character_flag = hidden_lab_layout
							OR = {
								has_character_flag = hidden_lab
								has_character_flag = very_hidden_lab
							}
						}
						character_event = { id = soh.10930 months = 1 } # Extensive layout, possibly at the cost of secrecy
					}
					20 = {
						trigger = {
							has_character_flag = holy_lab
							check_variable = { which = local_laboratory_level value >= 5 }
							NOT = {
								has_character_flag = holy_lab_impresses
							}
						}
						character_event = { id = soh.10932 months = 1 } # Spiritual lab impresses
					}
				}
			}
			
			else = {
				character_event = { id = soh.10936 months = 2 }
			}
		}
	}
}

# Normal lab worries peasants - what do?
character_event = {
	id = soh.10933
	desc = EVTDESC_SOH_10933
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTA_SOH_10933 # Try to calm them down
		
		prestige = -50
	}
	option = {
		name = EVTOPTB_SOH_10931 # Shut up, peasant!

		capital_scope = {
			add_province_modifier = {
				name = peasant_unrest
				years = 10
			}
		}
	}
}

# Lost ingredients
character_event = {
	id = soh.10934
	desc = EVTDESC_SOH_10934
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTA_SOH_10934 # Curses!
		
		destroy_random_ingredients_effect = yes
	}
}

# Damaged equipment
character_event = {
	id = soh.10935
	desc = EVTDESC_SOH_10935
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTA_SOH_10935 # Curses!
		
		wealth = -10
	}
}

# Lab is finished - check outcome
character_event = {
	id = soh.10936
	hide_window = yes
	
	is_triggered_only = yes

	immediate = {
		set_character_flag = built_laboratory
		clr_character_flag = building_laboratory
		clr_character_flag = decided_on_jade
		clr_character_flag = decided_on_books
		clr_character_flag = decided_on_tools
		clr_character_flag = decided_on_wards
		clr_character_flag = decided_on_decorations

		if = {
			limit = {
				check_variable = {
					which = local_laboratory_level
					value < 6
				}
			}

			character_event = { id = soh.10937 } # Cheap Laboratory
		}
		else_if = {
			limit = {
				check_variable = {
					which = local_laboratory_level
					value < 12
				}
			}

			character_event = { id = soh.10938 } # Normal Laboratory
		}
		else_if = {
			limit = {
				check_variable = {
					which = local_laboratory_level
					value < 18
				}
			}

			character_event = { id = soh.10939 } # Good Laboratory
		}
		else_if = {
			limit = {
				check_variable = {
					which = local_laboratory_level
					value < 23
				}
			}

			narrative_event = { id = soh.10940 } # Great Laboratory
		}
		else = {
			narrative_event = { id = soh.10941 } # Best Laboratory
		}
	}
}

# Poor lab is finished
character_event = {
	id = soh.10937
	desc = EVTDESC_SOH_10937
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTA_SOH_10937

		add_character_modifier = {
			name = cheap_laboratory
			duration = -1
		}

		character_event = { id = soh.11415 } # Quest completion
	}
}

# Normal lab is finished
character_event = {
	id = soh.10938
	desc = EVTDESC_SOH_10938
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTA_SOH_10938

		add_character_modifier = {
			name = normal_laboratory
			duration = -1
		}

		character_event = { id = soh.11415 } # Quest completion
	}
}

# Good lab is finished
character_event = {
	id = soh.10939
	desc = EVTDESC_SOH_10939
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTA_SOH_10939

		add_character_modifier = {
			name = good_laboratory
			duration = -1
		}

		character_event = { id = soh.11415 } # Quest completion
	}
}

# Great lab is finished
narrative_event = {
	id = soh.10940
	title = EVTTITLE_SOH_10940
	desc = EVTDESC_SOH_10940
	picture = GFX_evt_experiment
	border = GFX_event_narrative_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTA_SOH_10910

		add_character_modifier = {
			name = great_laboratory
			duration = -1
		}

		character_event = { id = soh.11415 } # Quest completion
	}
}

# Amazing lab is finished
narrative_event = {
	id = soh.10941
	title = EVTTITLE_SOH_10941
	desc = EVTDESC_SOH_10941
	picture = GFX_evt_experiment
	border = GFX_event_narrative_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTA_SOH_10941

		add_character_modifier = {
			name = best_laboratory
			duration = -1
		}

		character_event = { id = soh.11415 } # Quest completion
	}
}



### Sell potions

# Confirmation event
character_event = {
	id = soh.10942
	desc = EVTDESC_SOH_10942
	picture = GFX_evt_market
	border = GFX_event_normal_frame_economy

	is_triggered_only = yes # sell_potions decision

	option = {
		name = EVTOPTA_SOH_10942 # Yes!
		
		set_character_flag = do_not_disturb
		set_character_flag = selling_potions
		
		character_event = { id = soh.10943 } # Determine where to sell potions
		
		character_event = { id = soh.11000 days = 50 } # Cleanup
	}

	option = {
		name = EVTOPTB_SOH_10942 # No!
		
		add_society_currency_minor_effect = yes
		
		hidden_tooltip = { remove_character_modifier = sell_potions_timer }
		
		ai_chance = {
			factor = 0
		}
	}
}

# Where do you intend to sell potions?
character_event = {
	id = soh.10943
	desc = EVTDESC_SOH_10943
	picture = GFX_evt_market
	border = GFX_event_normal_frame_economy

	is_triggered_only = yes
	
	immediate = {
		random_demesne_province = {
			limit = {
				any_province_holding = {
					OR = {
						holding_type = castle
						holding_type = city
					}
				}
			}
			
			save_event_target_as = sell_potions_province_1
		}
		
		top_liege = {
			random_realm_province = {
				limit = {
					any_province_holding = {
						OR = {
							holding_type = castle
							holding_type = city
						}
					}
					NOT = {
						province = event_target:sell_potions_province_1
					}
				}
				
				preferred_limit = {
					holder_scope = {
						NOR = {
							character = ROOT
							is_rival = ROOT
						}
					}
				}
				
				save_event_target_as = event_target:sell_potions_province_2
			}
		}
		
		top_liege = {
			random_realm_province = {
				limit = {
					any_province_holding = {
						OR = {
							holding_type = castle
							holding_type = city
						}
					}
					NOR = {
						province = event_target:sell_potions_province_1
						province = event_target:sell_potions_province_2
					}
				}
				
				preferred_limit = {
					holder_scope = {
						is_rival = ROOT
					}
				}
				
				save_event_target_as = event_target:sell_potions_province_3
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_10943 # The first province!
		
		hidden_tooltip = {
			event_target:sell_potions_province_1 = {
				save_event_target_as = sell_potions_province
			}
		}
	}
	
	option = {
		trigger = {
			event_target:sell_potions_province_2 = {
				always = yes
			}
		}
		
		name = EVTOPTB_SOH_10943 # The second province!
		
		hidden_tooltip = {
			event_target:sell_potions_province_2 = {
				save_event_target_as = sell_potions_province
			}
		}
	}
	
	option = {
		trigger = {
			event_target:sell_potions_province_3 = {
				always = yes
			}
		}
		
		name = EVTOPTC_SOH_10943 # The third province!
		
		hidden_tooltip = {
			event_target:sell_potions_province_3 = {
				save_event_target_as = sell_potions_province
			}
		}
	}
	
	after = {
		character_event = { id = soh.10944 } # What are you trying to sell?
	}
}

# Just what are you trying to sell?
character_event = {
	id = soh.10944
	desc = EVTDESC_SOH_10944
	picture = GFX_evt_market
	border = GFX_event_normal_frame_economy

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10944 # I only want to sell beneficial potions!
		
		set_character_flag = selling_potions_helpful
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					event_target:sell_potions_province = {
						holder_scope = {
							is_rival = ROOT
						}
					}
					NOR = {
						trait = kind
						trait = honest
						trait = just
					}
				}
			}
			
			mult_modifier = {
				factor = 10
				trait = kind
			}
			
			mult_modifier = {
				factor = 10
				trait = honest
			}
			
			mult_modifier = {
				factor = 10
				trait = just
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_10944 # Some harmless placebos would serve me well...
		
		set_character_flag = selling_potions_placebos
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = honest
				}
			}
			
			mult_modifier = {
				factor = 10
				trait = cynical
			}
			
			mult_modifier = {
				factor = 10
				trait = greedy
			}
			
			mult_modifier = {
				factor = 0.1
				event_target:sell_potions_province = {
					holder_scope = {
						OR = {
							character = ROOT
							is_friend = ROOT
							is_lover = ROOT
						}
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_SOH_10944 # Snake oil sells well
		
		set_character_flag = selling_potions_snake_oil
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = honest
				}
			}
			
			mult_modifier = {
				factor = 10
				trait = cynical
			}
			
			mult_modifier = {
				factor = 10
				trait = deceitful
			}
			
			mult_modifier = {
				factor = 10
				trait = greedy
			}
			
			mult_modifier = {
				factor = 0.1
				event_target:sell_potions_province = {
					holder_scope = {
						OR = {
							character = ROOT
							is_friend = ROOT
							is_lover = ROOT
						}
					}
				}
			}
		}
	}
	
	option = {
		trigger = {
			OR = {
				event_target:sell_potions_province = {
					holder_scope = {
						is_rival = ROOT
					}
				}
				AND = {
					event_target:sell_potions_province = {
						holder_scope = {
							NOR = {
								character = ROOT
								is_friend = ROOT
								is_lover = ROOT
							}
						}
					}
					trait = cruel
				}
				trait = lunatic
				trait = possessed
			}
		}
		
		name = EVTOPTD_SOH_10944 # I want the locals to suffer!
		
		set_character_flag = selling_potions_harmful
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = honest
					trait = kind
				}
			}
			
			mult_modifier = {
				factor = 10
				trait = cruel
			}
			
			mult_modifier = {
				factor = 10
				trait = deceitful
			}
			
			mult_modifier = {
				factor = 10
				trait = arbitrary
			}
			
			mult_modifier = {
				factor = 10
				event_target:sell_potions_province = {
					holder_scope = {
						is_rival = ROOT
					}
				}
			}
		}
	}
	
	after = {
		character_event = { id = soh.10945 days = 10 } # Arrival
	}
}

# Arrival event
character_event = {
	id = soh.10945
	desc = EVTDESC_SOH_10945
	picture = GFX_evt_market
	border = GFX_event_normal_frame_economy

	is_triggered_only = yes
	
	immediate = {
		select_random_hermetic_ingredient_effect = yes
		select_random_hermetic_ingredient_effect = yes
	}
	
	option = {
		name = EVTOPTA_SOH_10945 # I've got what you need!
		
		destroy_selected_ingredient_1_and_2_effect = yes
		
		character_event = { id = soh.10946 days = 10 random = 10 } # Flavour selection
	}
}

# Hidden flavour selection
character_event = {
	id = soh.10946
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		is_actually_incapable_trigger = no
		society_member_of = the_alchemists
	}
	
	immediate = {
		event_target:sell_potions_province = {
			holder_scope = {
				save_event_target_as = local_ruler
			}
		}
		
		# Select outcome
		random_list = {
			100 = {
				trigger = {
					NOT = {
						has_character_flag = selling_potions_harmful
					}
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = selling_potions_snake_oil
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_flag = selling_potions_placebos
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = alchemist_healing_knowledge
						value >= 25
					}
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = alchemist_healing_knowledge
						value >= 50
					}
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = alchemist_healing_knowledge
						value >= 75
					}
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = alchemist_healing_knowledge
						value >= 100
					}
				}
				
				character_event = { id = soh.10947 } # Generic good outcome
			}
			
			50 = {
				trigger = {
					has_character_flag = selling_potions_helpful
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = alchemist_healing_knowledge
						value >= 25
					}
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = alchemist_healing_knowledge
						value >= 50
					}
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = alchemist_healing_knowledge
						value >= 75
					}
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = alchemist_healing_knowledge
						value >= 100
					}
				}
				
				character_event = { id = soh.10948 } # Healing potions - good outcome
			}
			
			50 = {
				trigger = {
					has_character_flag = selling_potions_helpful
				}
				
				character_event = { id = soh.10949 } # Healing potions - miracle cures
			}
			
			50 = {
				trigger = {
					has_character_flag = selling_potions_helpful
					check_variable = {
						which = alchemist_healing_knowledge
						value < 50
					}
				}
				
				mult_modifier = {
					factor = 0.25
					check_variable = {
						which = alchemist_healing_knowledge
						value >= 25
					}
				}
				
				character_event = { id = soh.10950 } # Healing potions - not very effective
			}
			
			50 = {
				trigger = {
					has_character_flag = selling_potions_helpful
					check_variable = {
						which = alchemist_healing_knowledge
						value < 25
					}
				}
				
				character_event = { id = soh.10951 } # Healing potions - more harm than good
			}
			
			50 = {
				trigger = {
					has_character_flag = selling_potions_helpful
					society_rank >= 3
				}
				
				mult_modifier = {
					factor = 2
					society_rank == 4
				}
				
				character_event = { id = soh.10952 } # Aphrodisiacs - working well
			}
			
			50 = {
				trigger = {
					has_character_flag = selling_potions_helpful
					society_rank >= 3
				}
				
				mult_modifier = {
					factor = 2
					society_rank == 4
				}
				
				character_event = { id = soh.10953 } # Aphrodisiacs - you notice someone
			}
			
			50 = {
				trigger = {
					has_character_flag = selling_potions_helpful
					society_rank >= 3
				}
				
				mult_modifier = {
					factor = 2
					society_rank == 4
				}
				
				character_event = { id = soh.10954 } # Aphrodisiacs - working too well
			}
			
			50 = {
				trigger = {
					has_character_flag = selling_potions_helpful
					society_rank >= 3
				}
				
				character_event = { id = soh.10955 } # Aphrodisiacs - not working as well as advertised
			}
			
			25 = {
				mult_modifier = {
					factor = 2
					society_rank == 2
				}
				
				mult_modifier = {
					factor = 5
					society_rank == 3
				}
				
				mult_modifier = {
					factor = 10
					society_rank == 4
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = selling_potions_harmful
				}
				
				mult_modifier = {
					factor = 0.25
					has_character_flag = selling_potions_snake_oil
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_flag = selling_potions_placebos
				}
				
				character_event = { id = soh.10956 } # Local healer approves
			}
			
			100 = {
				mult_modifier = {
					factor = 0.25
					has_character_flag = selling_potions_helpful
				}
				
				mult_modifier = {
					factor = 0.25
					has_character_flag = selling_potions_harmful
				}
				
				character_event = { id = soh.10957 } # Generic neural outcome
			}
			
			50 = {
				trigger = {
					has_character_flag = selling_potions_placebos
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = alchemist_healing_knowledge
						value >= 25
					}
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = alchemist_healing_knowledge
						value >= 50
					}
				}
				
				character_event = { id = soh.10958 } # Placebos seem to be working well
			}
			
			50 = {
				trigger = {
					has_character_flag = selling_potions_placebos
				}
				
				character_event = { id = soh.10959 } # Placebos don't seem to do much
			}
			
			50 = {
				trigger = {
					has_character_flag = selling_potions_placebos
					check_variable = {
						which = alchemist_healing_knowledge
						value < 50
					}
				}
				
				mult_modifier = {
					factor = 0.25
					check_variable = {
						which = alchemist_healing_knowledge
						value >= 25
					}
				}
				
				character_event = { id = soh.10960 } # Placebos seem harmful
			}
			
			50 = {
				trigger = {
					has_character_flag = selling_potions_snake_oil
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = alchemist_healing_knowledge
						value >= 25
					}
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = alchemist_healing_knowledge
						value >= 50
					}
				}
				
				character_event = { id = soh.10961 } # Snake oil sells well
			}
			
			50 = {
				trigger = {
					has_character_flag = selling_potions_snake_oil
				}
				
				character_event = { id = soh.10962 } # Snake oil is neither good nor bad
			}
			
			50 = {
				trigger = {
					has_character_flag = selling_potions_snake_oil
					check_variable = {
						which = alchemist_healing_knowledge
						value < 50
					}
				}
				
				mult_modifier = {
					factor = 0.25
					check_variable = {
						which = alchemist_healing_knowledge
						value >= 25
					}
				}
				
				character_event = { id = soh.10963 } # Snake oil seems harmful
			}
			
			25 = {
				mult_modifier = {
					factor = 0.9
					society_rank == 2
				}
				
				mult_modifier = {
					factor = 0.75
					society_rank == 3
				}
				
				mult_modifier = {
					factor = 0.5
					society_rank == 4
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = selling_potions_helpful
				}
				
				character_event = { id = soh.10964 } # Local healer seems to suspect something
			}
			
			100 = {
				trigger = {
					NOT = {
						has_character_flag = selling_potions_helpful
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = selling_potions_harmful
				}
				
				character_event = { id = soh.10965 } # Generic bad outcome
			}
			
			50 = {
				trigger = {
					has_character_flag = selling_potions_harmful
					check_variable = {
						which = alchemist_poison_knowledge
						value < 50
					}
				}
				
				mult_modifier = {
					factor = 0.25
					check_variable = {
						which = alchemist_poison_knowledge
						value >= 25
					}
				}
				
				character_event = { id = soh.10966 } # Harmful potions aren't
			}
			
			50 = {
				trigger = {
					has_character_flag = selling_potions_harmful
					check_variable = {
						which = alchemist_poison_knowledge
						value < 50
					}
				}
				
				mult_modifier = {
					factor = 0.25
					check_variable = {
						which = alchemist_poison_knowledge
						value >= 25
					}
				}
				
				character_event = { id = soh.10967 } # Harmful potions don't do much
			}
			
			100 = {
				trigger = {
					has_character_flag = selling_potions_harmful
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = alchemist_poison_knowledge
						value >= 25
					}
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = alchemist_poison_knowledge
						value >= 50
					}
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = alchemist_poison_knowledge
						value >= 75
					}
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = alchemist_poison_knowledge
						value >= 100
					}
				}
				
				mult_modifier = {
					factor = 2
					trait = master_schemer
				}
				
				mult_modifier = {
					factor = 2
					intrigue >= 15
				}
				
				mult_modifier = {
					factor = 2
					intrigue >= 20
				}
				
				mult_modifier = {
					factor = 2
					intrigue >= 25
				}
				
				character_event = { id = soh.10968 } # Harmful potions do not make the locals suspicious
			}
			
			100 = {
				trigger = {
					has_character_flag = selling_potions_harmful
					intrigue < 20
				}
				
				mult_modifier = {
					factor = 0.1
					society_rank == 4
				}
				
				mult_modifier = {
					factor = 0.25
					society_rank == 3
				}
				
				mult_modifier = {
					factor = 0.5
					society_rank == 2
				}
				
				mult_modifier = {
					factor = 0.5
					intrigue >= 10
				}
				
				mult_modifier = {
					factor = 0.5
					intrigue >= 15
				}
				
				character_event = { id = soh.10969 } # Harmful potions make the locals suspicious
			}
			
			100 = {
				trigger = {
					NOT = {
						has_character_flag = selling_potions_helpful
					}
					intrigue < 20
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = selling_potions_placebos
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_flag = selling_potions_snake_oil
				}
				
				mult_modifier = {
					factor = 0.5
					intrigue >= 10
				}
				
				mult_modifier = {
					factor = 0.5
					intrigue >= 15
				}
				
				character_event = { id = soh.10970 } # Local healer denounces you
			}
			
			100 = {
				trigger = {
					event_target:local_ruler = {
						OR = {
							intrigue >= 5
							learning >= 10
						}
						is_inaccessible_or_incapable_trigger = no
						NOR = {
							character = ROOT
							trait = trusting
						}
					}
				}
				
				mult_modifier = {
					factor = 10
					event_target:local_ruler = {
						trait = paranoid
					}
				}
				
				mult_modifier = {
					factor = 5
					is_rival = event_target:local_ruler
				}
				
				mult_modifier = {
					factor = 0.5
					OR = {
						is_friend = event_target:local_ruler
						is_lover = event_target:local_ruler
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = selling_potions_harmful
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = selling_potions_snake_oil
				}
				
				mult_modifier = {
					factor = 2
					event_target:local_ruler = {
						society_member_of = the_alchemists
						attribute_diff = {
							who = ROOT
							attribute = learning
							value >= 5
						}
					}
					NOT = {
						has_character_flag = selling_potions_helpful
					}
				}
				
				mult_modifier = {
					factor = 2
					event_target:local_ruler = {
						society_member_of = the_alchemists
						attribute_diff = {
							who = ROOT
							attribute = learning
							value >= 10
						}
					}
					NOT = {
						has_character_flag = selling_potions_helpful
					}
				}
				
				mult_modifier = {
					factor = 2
					event_target:local_ruler = {
						attribute_diff = {
							who = ROOT
							attribute = intrigue
							value >= 5
						}
					}
				}
				
				mult_modifier = {
					factor = 2
					event_target:local_ruler = {
						attribute_diff = {
							who = ROOT
							attribute = intrigue
							value >= 10
						}
					}
				}
				
				mult_modifier = {
					factor = 2
					event_target:local_ruler = {
						trait = physician
					}
					NOT = {
						has_character_flag = selling_potions_helpful
					}
				}
				
				event_target:local_ruler = {
					character_event = { id = soh.10971 } # Local ruler possibly suspects foul play
				}
			}
		}
	}
}

# Generic positive outcome
character_event = {
	id = soh.10947
	desc = EVTDESC_SOH_10947
	picture = GFX_evt_market
	border = GFX_event_normal_frame_economy
	
	portrait = event_target:local_ruler

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10947 # That's great!
		
		if = {
			limit = {
				society_rank == 4
			}
			
			scaled_wealth = 0.2
		}
		else_if = {
			limit = {
				society_rank == 3
			}
			
			scaled_wealth = 0.15
		}
		else_if = {
			limit = {
				society_rank == 2
			}
			
			scaled_wealth = 0.1
		}
		else = {
			scaled_wealth = 0.05
		}
		
		character_event = { id = soh.10997 days = 5 } # Good ending
	}
}

# Healing potions - they seem to be working
character_event = {
	id = soh.10948
	desc = EVTDESC_SOH_10948
	picture = GFX_evt_market
	border = GFX_event_normal_frame_economy
	
	portrait = event_target:local_ruler

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10948 # That's great!
		
		hidden_tooltip = {
			change_variable = {
				which = alchemist_healing_knowledge
				value = 2
			}
		}
		
		if = {
			limit = {
				society_rank == 4
			}
			
			scaled_wealth = 0.2
		}
		else_if = {
			limit = {
				society_rank == 3
			}
			
			scaled_wealth = 0.15
		}
		else_if = {
			limit = {
				society_rank == 2
			}
			
			scaled_wealth = 0.1
		}
		else = {
			scaled_wealth = 0.05
		}
		
		event_target:sell_potions_province = {
			add_province_modifier = {
				modifier = healing_potions_sold
				years = 5
			}
		}
		
		character_event = { id = soh.10997 days = 5 } # Good ending
	}
}

# Healing potions - locals expect miracle cures
character_event = {
	id = soh.10949
	desc = EVTDESC_SOH_10949
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_economy
	
	portrait = event_target:local_ruler

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10949 # There are limits to what potions can do...
		
		if = {
			limit = {
				society_rank == 4
			}
			
			scaled_wealth = 0.15
		}
		else_if = {
			limit = {
				society_rank == 3
			}
			
			scaled_wealth = 0.1
		}
		else_if = {
			limit = {
				society_rank == 2
			}
			
			scaled_wealth = 0.05
		}
		else = {
			scaled_wealth = 0.025
		}
		
		random_list = {
			95 = {
				custom_tooltip = {
					text = nothing_of_note
					
					character_event = { id = soh.10997 days = 5 } # Good ending
				}
			}
			
			5 = {
				custom_tooltip = {
					text = locals_upset
					
					event_target:sell_potions_province = {
						add_province_modifier = {
							modifier = peasant_unrest
							years = 10
						}
					}
					
					character_event = { id = soh.10990 } # Peasant mob
				}
			}
		}
	}
}

# Healing potions - they don't seem to do much good
character_event = {
	id = soh.10950
	desc = EVTDESC_SOH_10950
	picture = GFX_evt_market
	border = GFX_event_normal_frame_economy
	
	portrait = event_target:local_ruler

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10950 # Well, that's unfortunate
		
		prestige = -25
		
		if = {
			limit = {
				society_rank == 4
			}
			
			scaled_wealth = 0.15
		}
		else_if = {
			limit = {
				society_rank == 3
			}
			
			scaled_wealth = 0.1
		}
		else_if = {
			limit = {
				society_rank == 2
			}
			
			scaled_wealth = 0.05
		}
		else = {
			scaled_wealth = 0.025
		}
		
		random_list = {
			90 = {
				custom_tooltip = {
					text = nothing_of_note
					
					character_event = { id = soh.10997 days = 5 } # Good ending
				}
			}
			
			10 = {
				custom_tooltip = {
					text = locals_upset
					
					event_target:sell_potions_province = {
						add_province_modifier = {
							modifier = peasant_unrest
							years = 10
						}
					}
					
					character_event = { id = soh.10990 } # Peasant mob
				}
			}
		}
	}
}

# Healing potions - they seem to do more harm than good
character_event = {
	id = soh.10951
	desc = EVTDESC_SOH_10951
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_economy
	
	portrait = event_target:local_ruler

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10951 # Did I get the dosage wrong?
		
		hidden_tooltip = {
			change_variable = {
				which = alchemist_poison_knowledge
				value = 1
			}
		}
		
		prestige = -50
		
		if = {
			limit = {
				society_rank == 4
			}
			
			scaled_wealth = 0.1
		}
		else_if = {
			limit = {
				society_rank == 3
			}
			
			scaled_wealth = 0.05
		}
		else_if = {
			limit = {
				society_rank == 2
			}
			
			scaled_wealth = 0.025
		}
		else = {
			scaled_wealth = 0.0125
		}
		
		event_target:sell_potions_province = {
			add_province_modifier = {
				modifier = harmful_potions_sold
				years = 5
			}
		}
		
		random_list = {
			75 = {
				custom_tooltip = {
					text = nothing_of_note
					
					character_event = { id = soh.10998 days = 5 } # Neutral ending
				}
			}
			
			25 = {
				custom_tooltip = {
					text = locals_upset
					
					event_target:sell_potions_province = {
						add_province_modifier = {
							modifier = peasant_unrest
							years = 10
						}
					}
					
					character_event = { id = soh.10990 } # Peasant mob
				}
			}
		}
	}
}

# Aphrodisiacs - they seem to be working quite well
character_event = {
	id = soh.10952
	desc = EVTDESC_SOH_10952
	picture = GFX_evt_brothel
	border = GFX_event_normal_frame_economy
	
	portrait = event_target:local_ruler

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10952 # That's great!
		
		if = {
			limit = {
				society_rank == 4
			}
			
			scaled_wealth = 0.2
		}
		else_if = {
			limit = {
				society_rank == 3
			}
			
			scaled_wealth = 0.15
		}
		else_if = {
			limit = {
				society_rank == 2
			}
			
			scaled_wealth = 0.1
		}
		else = {
			scaled_wealth = 0.05
		}
		
		character_event = { id = soh.10997 days = 5 } # Good ending
	}
}

# Aphrodisiacs - someone that bought one seems quite attractive
character_event = {
	id = soh.10953
	desc = EVTDESC_SOH_10953
	picture = GFX_evt_brothel
	border = GFX_event_normal_frame_intrigue
	
	portrait = event_target:aphrodisiac_buyer

	is_triggered_only = yes
	
	immediate = {
		random_list = {
			50 = {
				trigger = {
					prefers_men_trigger = yes
				}
				
				create_character = {
					age = 18
					culture = event_target:sell_potions_province
					religion = event_target:sell_potions_province
					dynasty = none
					female = no
					trait = groomed
					trait = lustful
					trait = underhanded_rogue
					trait = brave
					random_traits = no
					attributes = {
						intrigue = 5
						diplomacy = 2
					}
				}
				
				new_character = {
					if = {
						limit = {
							ROOT = {
								is_female = no
							}
						}
						
						add_trait = homosexual
					}
					
					save_event_target_as = aphrodisiac_buyer
				}
			}
	
			50 = {
				trigger = {
					prefers_men_trigger = no
				}
				
				create_character = {
					age = 18
					culture = event_target:sell_potions_province
					religion = event_target:sell_potions_province
					dynasty = none
					female = yes
					trait = groomed
					trait = lustful
					trait = underhanded_rogue
					trait = brave
					random_traits = no
					attributes = {
						intrigue = 5
						diplomacy = 2
					}
				}
				
				new_character = {
					if = {
						limit = {
							ROOT = {
								is_female = yes
							}
						}
						
						add_trait = homosexual
					}
					
					save_event_target_as = aphrodisiac_buyer
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_10953 # I like the way you think
		
		event_target:aphrodisiac_buyer = {
			save_event_target_as = sex_partner
		}
		
		random = {
			chance = 25
			add_trait_partially_lustful_effect = yes
		}
		
		unprotected_sex_effect_event_target = yes
		
		if = {
			limit = {
				society_rank == 4
			}
			
			scaled_wealth = 0.1
		}
		else_if = {
			limit = {
				society_rank == 3
			}
			
			scaled_wealth = 0.05
		}
		else_if = {
			limit = {
				society_rank == 2
			}
			
			scaled_wealth = 0.025
		}
		else = {
			scaled_wealth = 0.0125
		}
		
		character_event = { id = soh.10997 days = 5 } # Good ending
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = chaste
					trait = celibate
				}
			}
			
			mult_modifier = {
				factor = 2
				trait = master_seducer
			}
			
			mult_modifier = {
				factor = 2
				trait = master_seductress
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_10953 # Sorry, but no
		
		event_target:aphrodisiac_buyer = {
			leave_court_and_die_effect = yes
		}
		
		if = {
			limit = {
				society_rank == 4
			}
			
			scaled_wealth = 0.15
		}
		else_if = {
			limit = {
				society_rank == 3
			}
			
			scaled_wealth = 0.1
		}
		else_if = {
			limit = {
				society_rank == 2
			}
			
			scaled_wealth = 0.05
		}
		else = {
			scaled_wealth = 0.025
		}
		
		character_event = { id = soh.10997 days = 5 } # Good ending
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = lustful
					NOT = {
						any_lover = {
							OR = {
								is_married = ROOT
								is_consort = ROOT
							}
						}
					}
				}
			}
		}
	}
}

# Aphrodisiacs - they seem to be working too well
character_event = {
	id = soh.10954
	desc = EVTDESC_SOH_10954
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_intrigue
	
	portrait = event_target:local_ruler

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10954 # It's not *my* fault your wife/husband is unfaithful!
		
		if = {
			limit = {
				society_rank == 4
			}
			
			scaled_wealth = 0.1
		}
		else_if = {
			limit = {
				society_rank == 3
			}
			
			scaled_wealth = 0.05
		}
		else_if = {
			limit = {
				society_rank == 2
			}
			
			scaled_wealth = 0.025
		}
		else = {
			scaled_wealth = 0.0125
		}
		
		random_list = {
			75 = {
				custom_tooltip = {
					text = nothing_of_note
					
					character_event = { id = soh.10999 days = 5 } # Bad ending
				}
			}
			
			25 = {
				custom_tooltip = {
					text = locals_upset
					
					event_target:sell_potions_province = {
						add_province_modifier = {
							modifier = peasant_unrest
							years = 10
						}
					}
					
					character_event = { id = soh.10990 } # Peasant mob
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_10954 # Time for me to leave...
		
		prestige = -50
		
		character_event = { id = soh.10999 days = 5 } # Bad ending
	}
}

# Aphrodisiacs - locals upset that they aren't working as advertised
character_event = {
	id = soh.10955
	desc = EVTDESC_SOH_10955
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_intrigue
	
	portrait = event_target:local_ruler

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10955 # Terms and conditions apply!
		
		if = {
			limit = {
				society_rank == 4
			}
			
			scaled_wealth = 0.1
		}
		else_if = {
			limit = {
				society_rank == 3
			}
			
			scaled_wealth = 0.05
		}
		else_if = {
			limit = {
				society_rank == 2
			}
			
			scaled_wealth = 0.025
		}
		else = {
			scaled_wealth = 0.0125
		}
		
		random_list = {
			50 = {
				custom_tooltip = {
					text = nothing_of_note
					
					character_event = { id = soh.10999 days = 5 } # Bad ending
				}
			}
			
			50 = {
				custom_tooltip = {
					text = locals_upset
					
					event_target:sell_potions_province = {
						add_province_modifier = {
							modifier = peasant_unrest
							years = 10
						}
					}
					
					character_event = { id = soh.10990 } # Peasant mob
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_10955 # Time for me to leave...
		
		prestige = -50
		
		character_event = { id = soh.10999 days = 5 } # Bad ending
	}
}

# Local healer approves
character_event = {
	id = soh.10956
	desc = EVTDESC_SOH_10956
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_religion
	
	portrait = event_target:local_ruler

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10956 # Good to hear!
		
		piety = 50
		
		hidden_tooltip = {
			change_variable = {
				which = alchemist_healing_knowledge
				value = 1
			}
		}
		
		if = {
			limit = {
				society_rank == 4
			}
			
			scaled_wealth = 0.1
		}
		else_if = {
			limit = {
				society_rank == 3
			}
			
			scaled_wealth = 0.05
		}
		else_if = {
			limit = {
				society_rank == 2
			}
			
			scaled_wealth = 0.025
		}
		else = {
			scaled_wealth = 0.0125
		}
		
		character_event = { id = soh.10997 days = 5 } # Good ending
	}
}

# Generic neutral outcome
character_event = {
	id = soh.10957
	desc = EVTDESC_SOH_10957
	picture = GFX_evt_market
	border = GFX_event_normal_frame_economy
	
	portrait = event_target:local_ruler

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10957 # Works for me...
		
		if = {
			limit = {
				society_rank == 4
			}
			
			scaled_wealth = 0.15
		}
		else_if = {
			limit = {
				society_rank == 3
			}
			
			scaled_wealth = 0.1
		}
		else_if = {
			limit = {
				society_rank == 2
			}
			
			scaled_wealth = 0.05
		}
		else = {
			scaled_wealth = 0.025
		}
		
		character_event = { id = soh.10998 days = 5 } # Neutral ending
	}
}

# Placebos - the locals seem to think they are working
character_event = {
	id = soh.10958
	desc = EVTDESC_SOH_10958
	picture = GFX_evt_market
	border = GFX_event_normal_frame_economy
	
	portrait = event_target:local_ruler

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10958 # That's... good?
		
		hidden_tooltip = {
			change_variable = {
				which = alchemist_healing_knowledge
				value = 1
			}
		}
		
		if = {
			limit = {
				society_rank == 4
			}
			
			scaled_wealth = 0.2
		}
		else_if = {
			limit = {
				society_rank == 3
			}
			
			scaled_wealth = 0.15
		}
		else_if = {
			limit = {
				society_rank == 2
			}
			
			scaled_wealth = 0.1
		}
		else = {
			scaled_wealth = 0.05
		}
		
		random = {
			chance = 5
			add_trait_partially_deceitful_effect = yes
		}
		
		character_event = { id = soh.10997 days = 5 } # Good ending
	}
}

# Placebos - they don't seem to do much good
character_event = {
	id = soh.10959
	desc = EVTDESC_SOH_10959
	picture = GFX_evt_market
	border = GFX_event_normal_frame_economy
	
	portrait = event_target:local_ruler

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10959 # Uh... give them time?
		
		if = {
			limit = {
				society_rank == 4
			}
			
			scaled_wealth = 0.15
		}
		else_if = {
			limit = {
				society_rank == 3
			}
			
			scaled_wealth = 0.1
		}
		else_if = {
			limit = {
				society_rank == 2
			}
			
			scaled_wealth = 0.05
		}
		else = {
			scaled_wealth = 0.025
		}
		
		random = {
			chance = 5
			add_trait_partially_deceitful_effect = yes
		}
		
		random_list = {
			90 = {
				custom_tooltip = {
					text = nothing_of_note
					
					character_event = { id = soh.10998 days = 5 } # Neutral ending
				}
			}
			
			10 = {
				custom_tooltip = {
					text = locals_upset
					
					event_target:sell_potions_province = {
						add_province_modifier = {
							modifier = peasant_unrest
							years = 10
						}
					}
					
					character_event = { id = soh.10990 } # Peasant mob
				}
			}
		}
	}
}

# Placebos - they seem harmful
character_event = {
	id = soh.10960
	desc = EVTDESC_SOH_10960
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_intrigue
	
	portrait = event_target:local_ruler

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10960 # I... uh... that's odd?
		
		hidden_tooltip = {
			change_variable = {
				which = alchemist_poison_knowledge
				value = 1
			}
		}
		
		if = {
			limit = {
				society_rank == 4
			}
			
			scaled_wealth = 0.1
		}
		else_if = {
			limit = {
				society_rank == 3
			}
			
			scaled_wealth = 0.05
		}
		else_if = {
			limit = {
				society_rank == 2
			}
			
			scaled_wealth = 0.025
		}
		else = {
			scaled_wealth = 0.0125
		}
		
		random = {
			chance = 5
			add_trait_partially_deceitful_effect = yes
		}
		
		event_target:sell_potions_province = {
			add_province_modifier = {
				modifier = harmful_potions_sold
				years = 5
			}
		}
		
		random_list = {
			50 = {
				custom_tooltip = {
					text = nothing_of_note
					
					character_event = { id = soh.10999 days = 5 } # Bad ending
				}
			}
			
			50 = {
				custom_tooltip = {
					text = locals_upset
					
					event_target:sell_potions_province = {
						add_province_modifier = {
							modifier = peasant_unrest
							years = 10
						}
					}
					
					character_event = { id = soh.10990 } # Peasant mob
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_10960 # Time for me to leave...
		
		prestige = -50
		
		event_target:sell_potions_province = {
			add_province_modifier = {
				modifier = harmful_potions_sold
				years = 5
			}
		}
		
		character_event = { id = soh.10999 days = 5 } # Bad ending
	}
}

# Snake oil - the locals seem happy
character_event = {
	id = soh.10961
	desc = EVTDESC_SOH_10961
	picture = GFX_evt_market
	border = GFX_event_normal_frame_economy
	
	portrait = event_target:local_ruler

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10961 # Excellent!
		
		if = {
			limit = {
				society_rank == 4
			}
			
			scaled_wealth = 0.2
		}
		else_if = {
			limit = {
				society_rank == 3
			}
			
			scaled_wealth = 0.15
		}
		else_if = {
			limit = {
				society_rank == 2
			}
			
			scaled_wealth = 0.1
		}
		else = {
			scaled_wealth = 0.05
		}
		
		random = {
			chance = 10
			add_trait_partially_deceitful_effect = yes
		}
		
		random = {
			chance = 10
			add_trait_partially_greedy_effect = yes
		}
		
		character_event = { id = soh.10997 days = 5 } # Good ending
	}
}

# Snake oil - nothing major
character_event = {
	id = soh.10962
	desc = EVTDESC_SOH_10962
	picture = GFX_evt_market
	border = GFX_event_normal_frame_economy
	
	portrait = event_target:local_ruler

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10962 # Works for me...
		
		if = {
			limit = {
				society_rank == 4
			}
			
			scaled_wealth = 0.15
		}
		else_if = {
			limit = {
				society_rank == 3
			}
			
			scaled_wealth = 0.1
		}
		else_if = {
			limit = {
				society_rank == 2
			}
			
			scaled_wealth = 0.05
		}
		else = {
			scaled_wealth = 0.025
		}
		
		random = {
			chance = 10
			add_trait_partially_deceitful_effect = yes
		}
		
		random = {
			chance = 10
			add_trait_partially_greedy_effect = yes
		}
		
		character_event = { id = soh.10998 days = 5 } # Neutral ending
	}
}

# Snake oil - the locals suspect something is up
character_event = {
	id = soh.10963
	desc = EVTDESC_SOH_10963
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_intrigue
	
	portrait = event_target:local_ruler

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10963 # Are you sure you followed the instructions?
		
		hidden_tooltip = {
			change_variable = {
				which = alchemist_poison_knowledge
				value = 1
			}
		}
		
		if = {
			limit = {
				society_rank == 4
			}
			
			scaled_wealth = 0.1
		}
		else_if = {
			limit = {
				society_rank == 3
			}
			
			scaled_wealth = 0.05
		}
		else_if = {
			limit = {
				society_rank == 2
			}
			
			scaled_wealth = 0.025
		}
		else = {
			scaled_wealth = 0.0125
		}
		
		event_target:sell_potions_province = {
			add_province_modifier = {
				modifier = harmful_potions_sold
				years = 5
			}
		}
		
		random = {
			chance = 10
			add_trait_partially_deceitful_effect = yes
		}
		
		random = {
			chance = 10
			add_trait_partially_greedy_effect = yes
		}
		
		random_list = {
			50 = {
				custom_tooltip = {
					text = nothing_of_note
					
					character_event = { id = soh.10999 days = 5 } # Bad ending
				}
			}
			
			50 = {
				custom_tooltip = {
					text = locals_upset
					
					event_target:sell_potions_province = {
						add_province_modifier = {
							modifier = peasant_unrest
							years = 10
						}
					}
					
					character_event = { id = soh.10990 } # Peasant mob
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_10963 # Time for me to leave...
		
		prestige = -50
		
		event_target:sell_potions_province = {
			add_province_modifier = {
				modifier = harmful_potions_sold
				years = 5
			}
		}
		
		character_event = { id = soh.10999 days = 5 } # Bad ending
	}
}

# Local healer suspicious
character_event = {
	id = soh.10964
	desc = EVTDESC_SOH_10964
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_intrigue
	
	portrait = event_target:local_ruler
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10964 # I assure you this is a legitimate operation!
		
		piety = -25
		
		hidden_tooltip = {
			change_variable = {
				which = alchemist_poison_knowledge
				value = 1
			}
		}
		
		if = {
			limit = {
				society_rank == 4
			}
			
			scaled_wealth = 0.1
		}
		else_if = {
			limit = {
				society_rank == 3
			}
			
			scaled_wealth = 0.05
		}
		else_if = {
			limit = {
				society_rank == 2
			}
			
			scaled_wealth = 0.025
		}
		else = {
			scaled_wealth = 0.0125
		}
		
		if = {
			limit = {
				NOT = {
					has_character_flag = selling_potions_helpful
				}
			}
			
			random = {
				chance = 10
				add_trait_partially_deceitful_effect = yes
			}
		}
		
		random = {
			chance = 10
			add_trait_partially_greedy_effect = yes
		}
		
		random_list = {
			50 = {
				custom_tooltip = {
					text = nothing_of_note
					
					character_event = { id = soh.10998 days = 5 } # Neutral ending
				}
			}
			
			50 = {
				custom_tooltip = {
					text = locals_upset
					
					event_target:sell_potions_province = {
						add_province_modifier = {
							modifier = peasant_unrest
							years = 10
						}
					}
					
					character_event = { id = soh.10990 } # Peasant mob
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_10964 # Time for me to leave...
		
		prestige = -50
		
		piety = -25
		
		character_event = { id = soh.10998 days = 5 } # Neutral ending
	}
}

# Generic bad outcome
character_event = {
	id = soh.10965
	desc = EVTDESC_SOH_10965
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_intrigue
	
	portrait = event_target:local_ruler
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10965 # I made some money, at least...
		
		hidden_tooltip = {
			change_variable = {
				which = alchemist_poison_knowledge
				value = 1
			}
		}
		
		if = {
			limit = {
				society_rank == 4
			}
			
			scaled_wealth = 0.1
		}
		else_if = {
			limit = {
				society_rank == 3
			}
			
			scaled_wealth = 0.05
		}
		else_if = {
			limit = {
				society_rank == 2
			}
			
			scaled_wealth = 0.025
		}
		else = {
			scaled_wealth = 0.0125
		}
		
		if = {
			limit = {
				NOT = {
					has_character_flag = selling_potions_helpful
				}
			}
			
			random = {
				chance = 10
				add_trait_partially_deceitful_effect = yes
			}
		}
		
		random = {
			chance = 10
			add_trait_partially_greedy_effect = yes
		}
		
		random_list = {
			50 = {
				custom_tooltip = {
					text = nothing_of_note
					
					character_event = { id = soh.10999 days = 5 } # Bad ending
				}
			}
			
			50 = {
				custom_tooltip = {
					text = locals_upset
					
					event_target:sell_potions_province = {
						add_province_modifier = {
							modifier = peasant_unrest
							years = 10
						}
					}
					
					character_event = { id = soh.10990 } # Peasant mob
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_10965 # Time for me to leave...
		
		prestige = -50
		
		character_event = { id = soh.10999 days = 5 } # Bad ending
	}
}

# Selling harmful potions - they actually seem to work
character_event = {
	id = soh.10966
	desc = EVTDESC_SOH_10966
	picture = GFX_evt_market
	border = GFX_event_normal_frame_intrigue
	
	portrait = event_target:local_ruler

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10966 # Did I get the dosage wrong?
		
		hidden_tooltip = {
			change_variable = {
				which = alchemist_healing_knowledge
				value = 1
			}
		}
		
		prestige = -50
		
		if = {
			limit = {
				society_rank == 4
			}
			
			scaled_wealth = 0.2
		}
		else_if = {
			limit = {
				society_rank == 3
			}
			
			scaled_wealth = 0.15
		}
		else_if = {
			limit = {
				society_rank == 2
			}
			
			scaled_wealth = 0.1
		}
		else = {
			scaled_wealth = 0.05
		}
		
		event_target:sell_potions_province = {
			add_province_modifier = {
				modifier = healing_potions_sold
				years = 5
			}
		}
		
		character_event = { id = soh.10998 days = 5 } # Neutral ending
	}
}

# Selling harmful potions - no effect
character_event = {
	id = soh.10967
	desc = EVTDESC_SOH_10967
	picture = GFX_evt_market
	border = GFX_event_normal_frame_intrigue
	
	portrait = event_target:local_ruler

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10967 # I expected... something...
		
		prestige = -50
		
		if = {
			limit = {
				society_rank == 4
			}
			
			scaled_wealth = 0.2
		}
		else_if = {
			limit = {
				society_rank == 3
			}
			
			scaled_wealth = 0.15
		}
		else_if = {
			limit = {
				society_rank == 2
			}
			
			scaled_wealth = 0.1
		}
		else = {
			scaled_wealth = 0.05
		}
		
		character_event = { id = soh.10998 days = 5 } # Neutral ending
	}
}

# Selling harmful potions - the locals suspect nothing
character_event = {
	id = soh.10968
	desc = EVTDESC_SOH_10968
	picture = GFX_evt_market
	border = GFX_event_normal_frame_intrigue
	
	portrait = event_target:local_ruler

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10968 # Mwahahaha! Etc.
		
		hidden_tooltip = {
			change_variable = {
				which = alchemist_poison_knowledge
				value = 2
			}
		}
		
		prestige = -50
		
		if = {
			limit = {
				society_rank == 4
			}
			
			scaled_wealth = 0.2
		}
		else_if = {
			limit = {
				society_rank == 3
			}
			
			scaled_wealth = 0.15
		}
		else_if = {
			limit = {
				society_rank == 2
			}
			
			scaled_wealth = 0.1
		}
		else = {
			scaled_wealth = 0.05
		}
		
		event_target:sell_potions_province = {
			add_province_modifier = {
				modifier = harmful_potions_sold
				years = 5
			}
		}
		
		add_trait_partially_deceitful_effect = yes
		
		random = {
			chance = 10
			add_trait_partially_cruel_effect = yes
		}
		
		character_event = { id = soh.10997 days = 5 } # Good ending
	}
}

# Selling harmful potions - the locals get suspicious
character_event = {
	id = soh.10969
	desc = EVTDESC_SOH_10969
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_intrigue
	
	portrait = event_target:local_ruler

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10969 # I will sell a few more, then leave...
		
		hidden_tooltip = {
			change_variable = {
				which = alchemist_poison_knowledge
				value = 1
			}
		}
		
		if = {
			limit = {
				society_rank == 4
			}
			
			scaled_wealth = 0.1
		}
		else_if = {
			limit = {
				society_rank == 3
			}
			
			scaled_wealth = 0.05
		}
		else_if = {
			limit = {
				society_rank == 2
			}
			
			scaled_wealth = 0.025
		}
		else = {
			scaled_wealth = 0.0125
		}
		
		event_target:sell_potions_province = {
			add_province_modifier = {
				modifier = harmful_potions_sold
				years = 5
			}
		}
		
		add_trait_partially_deceitful_effect = yes
		
		random = {
			chance = 10
			add_trait_partially_cruel_effect = yes
		}
		
		random_list = {
			50 = {
				custom_tooltip = {
					text = nothing_of_note
					
					character_event = { id = soh.10998 days = 5 } # Neutral ending
				}
			}
			
			50 = {
				custom_tooltip = {
					text = locals_upset
					
					event_target:sell_potions_province = {
						add_province_modifier = {
							modifier = peasant_unrest
							years = 10
						}
					}
					
					character_event = { id = soh.10990 } # Peasant mob
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_10969 # Time for me to leave...
		
		prestige = -50
		
		event_target:sell_potions_province = {
			add_province_modifier = {
				modifier = harmful_potions_sold
				years = 5
			}
		}
		
		add_trait_partially_deceitful_effect = yes
		
		random = {
			chance = 10
			add_trait_partially_cruel_effect = yes
		}
		
		character_event = { id = soh.10998 days = 5 } # Neutral ending
	}
}

# Local healer denounces you
character_event = {
	id = soh.10970
	desc = EVTDESC_SOH_10970
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_intrigue
	
	portrait = event_target:local_ruler

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10970 # You're lying!
		
		piety = -50
		
		hidden_tooltip = {
			change_variable = {
				which = alchemist_poison_knowledge
				value = 1
			}
		}
		
		if = {
			limit = {
				society_rank == 4
			}
			
			scaled_wealth = 0.1
		}
		else_if = {
			limit = {
				society_rank == 3
			}
			
			scaled_wealth = 0.05
		}
		else_if = {
			limit = {
				society_rank == 2
			}
			
			scaled_wealth = 0.025
		}
		else = {
			scaled_wealth = 0.0125
		}
		
		add_trait_partially_deceitful_effect = yes
		
		random_list = {
			50 = {
				custom_tooltip = {
					text = nothing_of_note
					
					character_event = { id = soh.10999 days = 5 } # Bad ending
				}
			}
			
			50 = {
				custom_tooltip = {
					text = locals_upset
					
					event_target:sell_potions_province = {
						add_province_modifier = {
							modifier = peasant_unrest
							years = 10
						}
					}
					
					character_event = { id = soh.10990 } # Peasant mob
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_10970 # Time for me to leave...
		
		prestige = -100
		
		piety = -50
		
		character_event = { id = soh.10999 days = 5 } # Bad ending
	}
}

# Local ruler might suspect foul play - investigate?
character_event = {
	id = soh.10971
	desc = EVTDESC_SOH_10971
	picture = GFX_evt_market
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOT = {
				trait = paranoid
			}
		}
		
		name = EVTOPTA_SOH_10971 # I trust FROM...
		
		random = {
			chance = 5
			add_trait_partially_trusting_effect = yes
		}
		
		hidden_tooltip = {
			FROM = {
				random_list = {
					100 = {
						trigger = {
							NOT = {
								has_character_flag = selling_potions_harmful
							}
						}
						
						mult_modifier = {
							factor = 0.1
							has_character_flag = selling_potions_snake_oil
						}
						
						mult_modifier = {
							factor = 0.5
							has_character_flag = selling_potions_placebos
						}
						
						mult_modifier = {
							factor = 2
							check_variable = {
								which = alchemist_healing_knowledge
								value >= 25
							}
						}
						
						mult_modifier = {
							factor = 2
							check_variable = {
								which = alchemist_healing_knowledge
								value >= 50
							}
						}
						
						mult_modifier = {
							factor = 2
							check_variable = {
								which = alchemist_healing_knowledge
								value >= 75
							}
						}
						
						mult_modifier = {
							factor = 2
							check_variable = {
								which = alchemist_healing_knowledge
								value >= 100
							}
						}
						
						character_event = { id = soh.10947 } # Generic good outcome
					}
				
					100 = {
						mult_modifier = {
							factor = 0.25
							has_character_flag = selling_potions_helpful
						}
						
						mult_modifier = {
							factor = 0.25
							has_character_flag = selling_potions_harmful
						}
						
						character_event = { id = soh.10957 } # Generic neural outcome
					}
				
					100 = {
						trigger = {
							NOT = {
								has_character_flag = selling_potions_helpful
							}
						}
						
						mult_modifier = {
							factor = 2
							has_character_flag = selling_potions_harmful
						}
						
						character_event = { id = soh.10965 } # Generic bad outcome
					}
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					is_rival = FROM
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_10971 # My guards will take a look...
		
		hidden_tooltip = {
			FROM = {
				random_list = {
					100 = {
						trigger = {
							OR = {
								has_character_flag = selling_potions_helpful
								has_character_flag = selling_potions_placebos
								attribute_diff = {
									who = ROOT
									attribute = intrigue
									value >= 1
								}
							}
						}
						
						mult_modifier = {
							factor = 10
							has_character_flag = selling_potions_helpful
						}
						
						mult_modifier = {
							factor = 2
							has_character_flag = selling_potions_placebos
						}
						
						mult_modifier = {
							factor = 2
							attribute_diff = {
								who = ROOT
								attribute = intrigue
								value >= 5
							}
						}
						
						mult_modifier = {
							factor = 2
							attribute_diff = {
								who = ROOT
								attribute = intrigue
								value >= 10
							}
						}
						
						character_event = { id = soh.10972 days = 3 } # Guards don't have much of an impact
					}
					
					100 = {
						mult_modifier = {
							factor = 0.5
							diplomacy >= 10
						}
						
						mult_modifier = {
							factor = 0.5
							diplomacy >= 15
						}
						
						mult_modifier = {
							factor = 0.5
							diplomacy >= 20
						}
						
						character_event = { id = soh.10974 days = 3 } # Guards scare off customers
					}
					
					100 = {
						trigger = {
							OR = {
								has_character_flag = selling_potions_helpful
								has_character_flag = selling_potions_placebos
								attribute_diff = {
									who = ROOT
									attribute = intrigue
									value >= 1
								}
							}
						}
						
						mult_modifier = {
							factor = 2
							attribute_diff = {
								who = ROOT
								attribute = intrigue
								value >= 5
							}
						}
						
						mult_modifier = {
							factor = 2
							attribute_diff = {
								who = ROOT
								attribute = intrigue
								value >= 10
							}
						}
						
						character_event = { id = soh.10976 days = 3 } # Guards find nothing suspicious
					}
					
					100 = {
						mult_modifier = {
							factor = 0.5
							intrigue >= 10
						}
						
						mult_modifier = {
							factor = 0.5
							intrigue >= 15
						}
						
						mult_modifier = {
							factor = 0.5
							intrigue >= 20
						}
						
						character_event = { id = soh.10978 days = 3 } # Guards find something potentially suspicious
					}
					
					100 = {
						trigger = {
							OR = {
								has_character_flag = selling_potions_harmful
								AND = {
									NOT = {
										has_character_flag = selling_potions_helpful
									}
									attribute_diff = {
										who = ROOT
										attribute = intrigue
										value <= -1
									}
								}
							}
						}
						
						mult_modifier = {
							factor = 0.5
							intrigue >= 10
						}
						
						mult_modifier = {
							factor = 0.5
							intrigue >= 15
						}
						
						mult_modifier = {
							factor = 0.5
							intrigue >= 20
						}
						
						mult_modifier = {
							factor = 2
							attribute_diff = {
								who = ROOT
								attribute = intrigue
								value <= -5
							}
						}
						
						mult_modifier = {
							factor = 2
							attribute_diff = {
								who = ROOT
								attribute = intrigue
								value <= -10
							}
						}
						
						character_event = { id = soh.10980 days = 3 } # Guards find something definitely suspicious
					}
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = paranoid
					is_rival = FROM
				}
			}
		}
	}
	
	option = {
		trigger = {
			trait = paranoid
		}
		
		name = EVTOPTC_SOH_10971 # Leave no stone unturned!
		
		hidden_tooltip = {
			FROM = {
				random_list = {
					100 = {
						character_event = { id = soh.10974 days = 3 } # Guards scare off customers
					}
					
					100 = {
						mult_modifier = {
							factor = 0.5
							intrigue >= 10
						}
						
						mult_modifier = {
							factor = 0.5
							intrigue >= 15
						}
						
						mult_modifier = {
							factor = 0.5
							intrigue >= 20
						}
						
						character_event = { id = soh.10978 days = 3 } # Guards find something potentially suspicious
					}
					
					100 = {
						trigger = {
							OR = {
								has_character_flag = selling_potions_harmful
								AND = {
									NOT = {
										has_character_flag = selling_potions_helpful
									}
									attribute_diff = {
										who = ROOT
										attribute = intrigue
										value <= -1
									}
								}
							}
						}
						
						mult_modifier = {
							factor = 0.5
							intrigue >= 10
						}
						
						mult_modifier = {
							factor = 0.5
							intrigue >= 15
						}
						
						mult_modifier = {
							factor = 0.5
							intrigue >= 20
						}
						
						mult_modifier = {
							factor = 2
							attribute_diff = {
								who = ROOT
								attribute = intrigue
								value <= -5
							}
						}
						
						mult_modifier = {
							factor = 2
							attribute_diff = {
								who = ROOT
								attribute = intrigue
								value <= -10
							}
						}
						
						character_event = { id = soh.10980 days = 3 } # Guards find something definitely suspicious
					}
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					is_friend = FROM
					is_lover = FROM
				}
			}
		}
	}
}

# Local ruler's guards harass you - nothing of note
character_event = {
	id = soh.10972
	desc = EVTDESC_SOH_10972
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			has_character_flag = selling_potions_helpful
		}
		
		name = EVTOPTA_SOH_10972 # Back to business...
	}
	
	option = {
		trigger = {
			NOT = {
				has_character_flag = selling_potions_helpful
			}
		}
		
		name = EVTOPTB_SOH_10972 # That could have ended poorly...
		
		random = {
			chance = 5
			add_trait_partially_paranoid_effect = yes
		}
	}
	
	after = {
		character_event = { id = soh.10997 days = 5 } # Good ending
		
		FROM = {
			character_event = { id = soh.10973 } # Inform FROM
		}
	}
}			

# Local ruler told of outcome - nothing of note
character_event = {
	id = soh.10973
	desc = EVTDESC_SOH_10973
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10973 # I see...
		
		prestige = -50
	}
}

# Local ruler's guards harass you - they scare off customers
character_event = {
	id = soh.10974
	desc = EVTDESC_SOH_10974
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			has_character_flag = selling_potions_helpful
		}
		
		name = EVTOPTA_SOH_10974 # And things were going so well...
	}
	
	option = {
		trigger = {
			NOT = {
				has_character_flag = selling_potions_helpful
			}
		}
		
		name = EVTOPTB_SOH_10974 # That could have ended poorly...
		
		random = {
			chance = 10
			add_trait_partially_paranoid_effect = yes
		}
	}
	
	after = {
		character_event = { id = soh.10998 days = 5 } # Neutral ending
		
		FROM = {
			character_event = { id = soh.10975 } # Inform FROM
		}
	}
}

# Local ruler told of outcome - customers scared off
character_event = {
	id = soh.10975
	desc = EVTDESC_SOH_10975
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10975 # Perhaps for the best...
		
		prestige = -50
	}
}

# Local ruler's guards harass you - they find nothing suspicious
character_event = {
	id = soh.10976
	desc = EVTDESC_SOH_10976
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			has_character_flag = selling_potions_helpful
		}
		
		name = EVTOPTA_SOH_10976 # Back to business...
	}
	
	option = {
		trigger = {
			NOT = {
				has_character_flag = selling_potions_helpful
			}
		}
		
		name = EVTOPTB_SOH_10976 # That could have ended poorly...
		
		random = {
			chance = 10
			add_trait_partially_paranoid_effect = yes
		}
	}
	
	after = {
		character_event = { id = soh.10998 days = 5 } # Neutral ending
		
		FROM = {
			character_event = { id = soh.10977 } # Inform FROM
		}
	}
}

# Local ruler told of outcome - nothing suspicious
character_event = {
	id = soh.10977
	desc = EVTDESC_SOH_10977
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10977 # I see...
		
		prestige = -100
		
		random = {
			chance = 5
			add_trait_partially_trusting_effect = yes
		}
	}
}

# Local ruler's guards harass you - they find something they believe is suspicious
character_event = {
	id = soh.10978
	desc = EVTDESC_SOH_10978
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			has_character_flag = selling_potions_helpful
		}
		
		name = EVTOPTA_SOH_10978 # I assure you that's harmless!
	}
	
	option = {
		trigger = {
			NOT = {
				has_character_flag = selling_potions_helpful
			}
		}
		
		name = EVTOPTB_SOH_10978 # That's... harmless!
		
		random = {
			chance = 10
			add_trait_partially_deceitful_effect = yes
		}
	}
	
	after = {
		FROM = {
			character_event = { id = soh.10979 } # Inform FROM
		}
	}
}

# Local ruler told of outcome - something might not be right
character_event = {
	id = soh.10979
	desc = EVTDESC_SOH_10979
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOT = {
				trait = paranoid
			}
		}
		
		name = EVTOPTA_SOH_10979 # It's probably nothing...
		
		prestige = -50
		
		random = {
			chance = 5
			add_trait_partially_trusting_effect = yes
		}
		
		FROM = {
			character_event = { id = soh.10989 } # Inform FROM - guards did not return
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					is_rival = FROM
				}
			}
			
			mult_modifier = {
				factor = 2
				trait = kind
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_10979 # Arrest FROM!
		
		random = {
			chance = 10
			add_trait_partially_paranoid_effect = yes
		}
		
		FROM = {
			character_event = { id = soh.10982 } # Inform FROM - guards return to arrest FROM
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				OR = {
					NOR = {
						is_friend = FROM
						is_lover = FROM
					}
					trait = paranoid
				}
			}
		}
	}
}

# Local ruler's guards harass you - they find something actually harmful
character_event = {
	id = soh.10980
	desc = EVTDESC_SOH_10980
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10980 # I don't know how that got there!
		
		random = {
			chance = 25
			add_trait_partially_deceitful_effect = yes
		}
		
		FROM = {
			character_event = { id = soh.10981 } # Inform FROM
		}
	}
}

# Local ruler told of outcome - something is not right
character_event = {
	id = soh.10981
	desc = EVTDESC_SOH_10981
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOT = {
				trait = paranoid
			}
		}
		
		name = EVTOPTA_SOH_10981 # Surely it's nothing...
		
		prestige = -50
		
		random = {
			chance = 5
			add_trait_partially_trusting_effect = yes
		}
		
		FROM = {
			character_event = { id = soh.10989 } # Inform FROM - guards did not return
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					is_rival = FROM
				}
			}
			
			mult_modifier = {
				factor = 2
				trait = kind
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_10981 # Arrest FROM!
		
		random = {
			chance = 10
			add_trait_partially_paranoid_effect = yes
		}
		
		FROM = {
			character_event = { id = soh.10982 } # Inform FROM - guards return to arrest FROM
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				OR = {
					NOR = {
						is_friend = FROM
						is_lover = FROM
					}
					trait = paranoid
				}
			}
		}
	}
}

# Local ruler's guards attempt an arrest
character_event = {
	id = soh.10982
	desc = EVTDESC_SOH_10982
	picture = GFX_evt_market
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10982 # I will come quietly...
		
		imprison = FROM
		
		letter_event = { id = soh.11414 } # Quest failure
		
		clr_character_flag = selling_potions
		clr_character_flag = do_not_disturb
		
		FROM = {
			character_event = { id = soh.10983 days = 1 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = stubborn
					trait = deceitful
				}
			}
			
			mult_modifier = {
				factor = 10
				trait = just
				NOT = {
					has_character_flag = selling_potions_helpful
				}
			}
		}
	}
	
	option = {
		trigger = {
			wealth >= 100
		}
		
		name = EVTOPTB_SOH_10982 # How about some gold...?
		
		remove_trait_honest_effect = yes
		
		wealth = -100
		
		FROM = {
			character_event = { id = soh.10984 days = 1 } # Inform FROM
		}
		
		character_event = { id = soh.10999 days = 5 } # Bad ending
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = greedy
					trait = stubborn
				}
			}
			
			mult_modifier = {
				factor = 10
				trait = charitable
			}
			
			mult_modifier = {
				factor = 10
				trait = deceitful
			}
		}
	}
	
	option = {
		trigger = {
			is_maimed_trigger = no
		}
		
		name = EVTOPTC_SOH_10982 # You'll never catch me!
		
		hidden_tooltip = {
			random_list = {
				50 = {
					mult_modifier = {
						factor = 2
						intrigue >= 15
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 20
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 25
					}
					
					character_event =  { id = soh.10985 days = 1 } # Escaped
				}
				50 = {
					character_event =  { id = soh.10987 days = 1 } # Did not escape
				}
			}
		}
		
		ai_chance = {
			factor = 100
		}
	}
}

# Arrested - local ruler
character_event = {
	id = soh.10983
	desc = EVTDESC_SOH_10983
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10983 # Good!
		
		opinion = {
			who = FROM
			modifier = suspect_alchemist
		}
	}
}

# Bribed guards - local ruler
character_event = {
	id = soh.10984
	desc = EVTDESC_SOH_10984
	picture = GFX_evt_market
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10984 # Curses!
		
		opinion = {
			who = FROM
			modifier = suspect_alchemist
		}
	}
}

# Escaped - potion seller
character_event = {
	id = soh.10985
	desc = EVTDESC_SOH_10985
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10985 # Phew!
		
		prestige = 25
		
		FROMFROM = {
			character_event = { id = soh.10986 } # Inform FROMFROM
		}
		
		character_event = { id = soh.10999 days = 5 } # Bad ending
	}
}

# Escaped - local ruler
character_event = {
	id = soh.10986
	desc = EVTDESC_SOH_10986
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10986 # Curses!
		
		opinion = {
			who = FROM
			modifier = suspect_alchemist
		}
	}
}

# Failed escape - potion seller
character_event = {
	id = soh.10987
	desc = EVTDESC_SOH_10987
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10987 # Curses!
		
		add_trait_wounded_effect = yes
		
		imprison = FROMFROM
		
		FROMFROM = {
			character_event = { id = soh.10988 } # Inform FROMFROM
		}
		
		letter_event = { id = soh.11414 } # Quest failure
		
		clr_character_flag = selling_potions
		clr_character_flag = do_not_disturb
	}
}

# Failed escape - local ruler
character_event = {
	id = soh.10988
	desc = EVTDESC_SOH_10988
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10988 # Good!
		
		opinion = {
			who = FROM
			modifier = suspect_alchemist
		}
	}
}

# Guards did not attempt an arrest - potion seller
character_event = {
	id = soh.10989
	desc = EVTDESC_SOH_10989
	picture = GFX_evt_market
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10989 # I should not stay here...
		
		character_event = { id = soh.10999 days = 5 } # Bad ending
	}
}

# Attacked by local mob - do you fight?
character_event = {
	id = soh.10990
	desc = EVTDESC_SOH_10990
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10990 # Time to run!
		
		add_trait_partially_craven_effect = yes
		
		hidden_tooltip = {
			random_list = {
				50 = {
					trigger = {
						is_maimed_trigger = no
					}
					
					character_event = { id = soh.10991 days = 1 } # Got away
				}
				
				50 = {
					character_event = { id = soh.10992 days = 1 } # Injured while escaping
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = brave
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_10990 # Time to fight!
		
		add_trait_partially_brave_effect = yes
		
		hidden_tooltip = {
			random_list = {
				25 = {
					trigger = {
						is_maimed_trigger = no
						combat_rating >= 50
					}
					
					mult_modifier = {
						factor = 0.25
						combat_rating >= 100
					}
					
					mult_modifier = {
						factor = 0.5
						combat_rating >= 75
					}
					
					character_event = { id = soh.10993 days = 1 } # Fought without injury
				}
				
				25 = {
					mult_modifier = {
						factor = 0.1
						combat_rating >= 50
					}
					
					character_event = { id = soh.10994 days = 1 } # Injured while fighting
				}
				
				25 = {
					trigger = {
						combat_rating < 50
					}
					
					mult_modifier = {
						factor = 0.1
						combat_rating >= 25
					}
					
					character_event = { id = soh.10995 days = 1 } # Maimed
				}
				
				25 = {
					trigger = {
						combat_rating < 25
					}
					
					character_event = { id = soh.10996 days = 1 } # Killed
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = craven
				}
			}
		}
	}
}

# Fled - got away
character_event = {
	id = soh.10991
	desc = EVTDESC_SOH_10991
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10991 # Phew!
		
		character_event = { id = soh.10999 days = 5 } # Bad ending
	}
}

# Fled - injured
character_event = {
	id = soh.10992
	desc = EVTDESC_SOH_10992
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10992 # Ow!
		
		add_trait_wounded_effect = yes
		
		character_event = { id = soh.10999 days = 5 } # Bad ending
	}
}

# Fought - did well
character_event = {
	id = soh.10993
	desc = EVTDESC_SOH_10993
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10993 # I should still leave...
		
		add_one_duel_experience_modifier = yes
		
		character_event = { id = soh.10999 days = 5 } # Bad ending
	}
}

# Fought - injured
character_event = {
	id = soh.10994
	desc = EVTDESC_SOH_10994
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10994 # Went well enough...
		
		add_one_duel_experience_modifier = yes
		
		add_trait_wounded_effect = yes
		
		character_event = { id = soh.10999 days = 5 } # Bad ending
	}
}

# Fought - maimed
character_event = {
	id = soh.10995
	desc = EVTDESC_SOH_10995
	picture = GFX_evt_china_unrest
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10995 # Curses!
		
		add_one_duel_experience_modifier = yes
		
		add_maimed_trait_effect = yes
		
		character_event = { id = soh.10999 days = 5 } # Bad ending
	}
}

# Fought - killed
character_event = {
	id = soh.10996
	desc = EVTDESC_SOH_10996
	picture = GFX_evt_bloody_man
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10996 # Not like this!
		
		death = {
			death_reason = death_rabble
		}
	}
}

# Ending event - good outcome
character_event = {
	id = soh.10997
	desc = EVTDESC_SOH_10997
	picture = GFX_evt_market
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10997 # That went well!
		
		if = {
			limit = {
				society_rank == 4
			}
			
			scaled_wealth = 0.1
		}
		else_if = {
			limit = {
				society_rank == 3
			}
			
			scaled_wealth = 0.05
		}
		else_if = {
			limit = {
				society_rank == 2
			}
			
			scaled_wealth = 0.025
		}
		else = {
			scaled_wealth = 0.0125
		}
		
		letter_event = { id = soh.11413 } # Quest completion
		
		clr_character_flag = selling_potions
		clr_character_flag = do_not_disturb
	}
}

# Ending event - neutral outcome
character_event = {
	id = soh.10998
	desc = EVTDESC_SOH_10998
	picture = GFX_evt_market
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10998 # That went well enough...
		
		letter_event = { id = soh.11413 } # Quest completion
		
		clr_character_flag = selling_potions
		clr_character_flag = do_not_disturb
	}
}

# Ending event - bad outcome
character_event = {
	id = soh.10999
	desc = EVTDESC_SOH_10999
	picture = GFX_evt_market
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_10999 # That went... poorly...
		
		letter_event = { id = soh.11414 } # Quest failure
		
		clr_character_flag = selling_potions
		clr_character_flag = do_not_disturb
	}
}

# Cleanup
character_event = {
	id = soh.11000
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		has_character_flag = selling_potions
	}
	
	immediate = {
		clr_character_flag = selling_potions
		clr_character_flag = do_not_disturb
	}
}



### Laboratory experiment

# Confirmation event
character_event = {
	id = soh.11001
	desc = EVTDESC_SOH_11001
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes # laboratory_experiment decision
	
	option = {
		name = EVTOPTA_SOH_11001 # For science!
		
		set_character_flag = ongoing_lab_experiment
		set_character_flag = do_not_disturb
		
		clear_flags_with_prefix = lab_experiment_
		
		character_event = { id = soh.11002 } # Pick what you're experimenting with
		
		character_event = { id = soh.11134 days = 50 } # Cleanup
	}
	
	option = {
		name = EVTOPTB_SOH_11001 # Now might not be the time...

		ai_chance = { factor = 0 }
		
		add_society_currency_minor_effect = yes

		hidden_effect = { remove_character_modifier = recent_laboratory_test }
	}
}

# Just what are you experimenting with?
character_event = {
	id = soh.11002
	desc = EVTDESC_SOH_11002
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	immediate = {
		select_random_hermetic_ingredient_prefer_new_effect = yes
		select_random_hermetic_ingredient_prefer_new_effect = yes
	}

	option = { # I will use ingredient 1
		name = EVTOPTA_SOH_11002

		save_ingredient_1_flag_lab_experiment_effect = yes
		destroy_selected_ingredient_1_effect = yes
	}

	option = { # I will use ingredient 2
		trigger = {
			has_selected_ingredient_2_trigger = yes
			selected_ingredient_1_and_2_are_same = no
		}
		
		name = EVTOPTB_SOH_11002

		save_ingredient_2_flag_lab_experiment_effect = yes
		destroy_selected_ingredient_2_effect = yes
	}

	option = { # I will use both!
		trigger = {
			has_selected_ingredient_2_trigger = yes
			selected_ingredient_1_and_2_are_same = no
		}
		
		name = EVTOPTC_SOH_11002

		save_ingredient_1_flag_lab_experiment_effect = yes
		save_ingredient_2_flag_lab_experiment_effect = yes
		set_character_flag = lab_experiment_two_ingredients
		destroy_selected_ingredient_1_and_2_effect = yes
	}


	after = {
		remove_selection_of_ingredients_effect = yes
		
		character_event = { id = soh.11003 } # Decide on your general approach
	}
}

# Do you intend to experiment carefully, or take a more risky approach?
character_event = {
	id = soh.11003
	desc = EVTDESC_SOH_11003
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11003 # I will do some safe experiments...
		
		set_character_flag = lab_experiment_safe
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = brave
			}
			
			mult_modifier = {
				factor = 0.1
				trait = diligent
			}
			
			mult_modifier = {
				factor = 0.1
				trait = ambitious
			}
			
			mult_modifier = {
				factor = 0.1
				trait = lunatic
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11003 # I will be thorough!
		
		set_character_flag = lab_experiment_thorough
		
		random = {
			chance = 25
			add_trait_partially_diligent_effect = yes
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = slothful
					trait = wroth
				}
			}
			
			mult_modifier = {
				factor = 10
				trait = diligent
			}
			
			mult_modifier = {
				factor = 10
				trait = patient
			}
			
			mult_modifier = {
				factor = 0.1
				trait = ambitious
			}
			
			mult_modifier = {
				factor = 0.1
				trait = lunatic
			}
		}
	}
	
	option = {
		name = EVTOPTC_SOH_11003 # I will take some risks!
		
		set_character_flag = lab_experiment_risky
		
		random = {
			chance = 25
			add_trait_partially_brave_effect = yes
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = craven
					trait = content
				}
			}
			
			mult_modifier = {
				factor = 10
				trait = brave
			}
		}
	}
	
	option = {
		trigger = {
			OR = {
				trait = lunatic
				trait = possessed
			}
		}
		
		name = EVTOPTD_SOH_11003 # I WILL SHOW THEM ALL!
		
		set_character_flag = lab_experiment_crazy
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = craven
					trait = content
				}
			}
			
			mult_modifier = {
				factor = 10
				trait = ambitious
			}
			
			mult_modifier = {
				factor = 10
				trait = mystic
			}
		}
	}
	
	after = {
		character_event = { id = soh.11004 days = 15 random = 15 } # Flavour selection
	}
}

# Hidden flavour selection event
character_event = {
	id = soh.11004
	hide_window = yes
	
	is_triggered_only = yes
	
	prisoner = no
	
	trigger = {
		is_actually_incapable_trigger = no
		society_member_of = the_alchemists
	}
	
	immediate = {
		random_list = {
			# Generic
			25 = {
				trigger = {
					OR = {
						lab_experiment_ingredient_is_sleep_inducing_trigger = yes
						lab_experiment_ingredient_is_antipyretic_trigger = yes
						lab_experiment_ingredient_is_perceived_healthy_trigger = yes
					}
					lab_experiment_ingredient_is_unhealthy_trigger = no
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_modifier = best_laboratory
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 1.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 1.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 1.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 1.5
					learning >= 30
				}
				
				mult_modifier = {
					factor = 2
					trait = diligent
				}
				
				mult_modifier = {
					factor = 2
					trait = patient
				}
				
				mult_modifier = {
					factor = 0.5
					trait = slothful
				}
				
				character_event = { id = soh.11005 } # Generic good experiment - healing
			}
			
			25 = {
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_modifier = best_laboratory
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 1.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 1.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 1.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 1.5
					learning >= 30
				}
				
				mult_modifier = {
					factor = 2
					trait = diligent
				}
				
				mult_modifier = {
					factor = 2
					trait = patient
				}
				
				mult_modifier = {
					factor = 0.5
					trait = slothful
				}
				
				mult_modifier = {
					factor = 2
					lab_experiment_ingredient_is_unhealthy_trigger = yes
					lab_experiment_ingredient_is_ingredient_animal_part_trigger = no
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_crazy
				}
				
				character_event = { id = soh.11006 } # Generic good experiment - poison
			}
			
			25 = {
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_modifier = best_laboratory
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 1.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 1.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 1.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 1.5
					learning >= 30
				}
				
				mult_modifier = {
					factor = 2
					trait = diligent
				}
				
				mult_modifier = {
					factor = 2
					trait = patient
				}
				
				mult_modifier = {
					factor = 0.5
					trait = slothful
				}
				
				character_event = { id = soh.11007 } # Generic good experiment - unspecific
			}
			
			50 = {
				trigger = {
					OR = {
						lab_experiment_ingredient_is_sleep_inducing_trigger = yes
						lab_experiment_ingredient_is_antipyretic_trigger = yes
						lab_experiment_ingredient_is_perceived_healthy_trigger = yes
					}
					lab_experiment_ingredient_is_unhealthy_trigger = no
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = normal_laboratory
				}
				
				mult_modifier = {
					factor = 2
					trait = stressed
				}
				
				mult_modifier = {
					factor = 2
					trait = content
				}
				
				character_event = { id = soh.11008 } # Generic neutral experiment - healing
			}
			
			50 = {
				mult_modifier = {
					factor = 2
					has_character_modifier = normal_laboratory
				}
				
				mult_modifier = {
					factor = 2
					trait = stressed
				}
				
				mult_modifier = {
					factor = 2
					trait = content
				}
				
				mult_modifier = {
					factor = 2
					lab_experiment_ingredient_is_unhealthy_trigger = yes
					lab_experiment_ingredient_is_ingredient_animal_part_trigger = no
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_crazy
				}
				
				character_event = { id = soh.11009 } # Generic neutral experiment - poison
			}
			
			50 = {
				mult_modifier = {
					factor = 2
					has_character_modifier = normal_laboratory
				}
				
				mult_modifier = {
					factor = 2
					trait = stressed
				}
				
				mult_modifier = {
					factor = 2
					trait = content
				}
				
				character_event = { id = soh.11010 } # Generic neutral experiment - unspecific
			}
			
			25 = {
				trigger = {
					OR = {
						lab_experiment_ingredient_is_sleep_inducing_trigger = yes
						lab_experiment_ingredient_is_antipyretic_trigger = yes
						lab_experiment_ingredient_is_perceived_healthy_trigger = yes
					}
					lab_experiment_ingredient_is_unhealthy_trigger = no
					learning < 20
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 5
					trait = stressed
				}
				
				mult_modifier = {
					factor = 2
					trait = slothful
				}
				
				mult_modifier = {
					factor = 5
					trait = wroth
				}
				
				mult_modifier = {
					factor = 2
					trait = drunkard
				}
				
				character_event = { id = soh.11011 } # Generic bad experiment - healing
			}
			
			25 = {
				trigger = {
					learning < 20
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 5
					trait = stressed
				}
				
				mult_modifier = {
					factor = 2
					trait = slothful
				}
				
				mult_modifier = {
					factor = 5
					trait = wroth
				}
				
				mult_modifier = {
					factor = 2
					trait = drunkard
				}
				
				mult_modifier = {
					factor = 2
					lab_experiment_ingredient_is_unhealthy_trigger = yes
					lab_experiment_ingredient_is_ingredient_animal_part_trigger = no
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_crazy
				}
				
				character_event = { id = soh.11012 } # Generic bad experiment - poison
			}
			
			25 = {
				trigger = {
					learning < 20
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 5
					trait = stressed
				}
				
				mult_modifier = {
					factor = 2
					trait = slothful
				}
				
				mult_modifier = {
					factor = 5
					trait = wroth
				}
				
				mult_modifier = {
					factor = 2
					trait = drunkard
				}
				
				character_event = { id = soh.11013 } # Generic bad experiment - unspecific
			}
			
			25 = {
				trigger = {
					NOT = {
						has_character_flag = lab_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 2
					trait = stressed
				}
				
				mult_modifier = {
					factor = 2
					trait = lunatic
				}
				
				mult_modifier = {
					factor = 0.2
					trait = patient
				}
				
				mult_modifier = {
					factor = 5
					trait = wroth
				}
				
				mult_modifier = {
					factor = 2
					trait = ambitious
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_crazy
				}
				
				character_event = { id = soh.11014 } # Lab accident - damaged equipment
			}
			
			25 = {
				trigger = {
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					any_artifact = {
						has_artifact_flag = ingredient
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 2
					trait = stressed
				}
				
				mult_modifier = {
					factor = 2
					trait = lunatic
				}
				
				mult_modifier = {
					factor = 0.2
					trait = patient
				}
				
				mult_modifier = {
					factor = 5
					trait = wroth
				}
				
				mult_modifier = {
					factor = 2
					trait = ambitious
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_crazy
				}
				
				character_event = { id = soh.11015 } # Lab accident - loss of ingredient(s)
			}
			
			25 = {
				trigger = {
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 5
						}
						check_variable = {
							which = alchemist_poison_knowledge
							value >= 5
						}
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 2
					trait = stressed
				}
				
				mult_modifier = {
					factor = 2
					trait = lunatic
				}
				
				mult_modifier = {
					factor = 0.2
					trait = patient
				}
				
				mult_modifier = {
					factor = 5
					trait = wroth
				}
				
				mult_modifier = {
					factor = 2
					trait = ambitious
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_crazy
				}
				
				character_event = { id = soh.11016 } # Lab accident - loss of notes
			}
			
			25 = {
				trigger = {
					NOR = {
						has_character_flag = lab_experiment_safe
						trait = wounded
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 2
					trait = stressed
				}
				
				mult_modifier = {
					factor = 2
					trait = lunatic
				}
				
				mult_modifier = {
					factor = 0.2
					trait = patient
				}
				
				mult_modifier = {
					factor = 5
					trait = wroth
				}
				
				mult_modifier = {
					factor = 2
					trait = ambitious
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_crazy
				}
				
				character_event = { id = soh.11017 } # Lab accident - injured
			}
			
			10 = {
				trigger = {
					NOR = {
						has_character_flag = lab_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 2
					trait = stressed
				}
				
				mult_modifier = {
					factor = 2
					trait = lunatic
				}
				
				mult_modifier = {
					factor = 0.2
					trait = patient
				}
				
				mult_modifier = {
					factor = 5
					trait = wroth
				}
				
				mult_modifier = {
					factor = 2
					trait = ambitious
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_crazy
				}
				
				character_event = { id = soh.11018 } # Lab accident - maimed
			}
			
			1 = {
				trigger = {
					NOR = {
						has_character_flag = lab_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 2
					trait = stressed
				}
				
				mult_modifier = {
					factor = 5
					trait = lunatic
				}
				
				mult_modifier = {
					factor = 0.2
					trait = patient
				}
				
				mult_modifier = {
					factor = 5
					trait = wroth
				}
				
				mult_modifier = {
					factor = 2
					trait = ambitious
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_crazy
				}
				
				character_event = { id = soh.11019 } # Lab accident - killed
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 2
					trait = diligent
				}
				
				mult_modifier = {
					factor = 2
					trait = patient
				}
				
				mult_modifier = {
					factor = 2
					trait = ambitious
				}
				
				character_event = { id = soh.11020 } # Stressing out over thorough experiment
			}
			
			25 = {
				trigger = {
					NOT = {
						trait = content
					}
				}
				
				mult_modifier = {
					factor = 2
					trait = ambitious
				}
				
				mult_modifier = {
					factor = 2
					trait = proud
				}
				
				mult_modifier = {
					factor = 2
					trait = envious
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_crazy
				}
				
				character_event = { id = soh.11021 } # Depressed by lack of discoveries
			}
			
			50 = {
				trigger = {
					lab_experiment_ingredient_is_antipyretic_trigger = yes
					OR = {
						AND = {
							trait = fever
							has_character_flag = disease_not_serious
						}
						trait = ill
					}
					OR = {
						NOT = {
							has_character_flag = lab_experiment_safe
						}
						AND = {
							has_character_flag = lab_experiment_ingredient_ingredient_herb1
							has_character_flag = hibiscus_fever
						}
						AND = {
							has_character_flag = lab_experiment_ingredient_ingredient_herb2
							has_character_flag = ginger_root_fever
						}
						AND = {
							has_character_flag = lab_experiment_ingredient_ingredient_herb4
							has_character_flag = lemon_grass_fever
						}
						AND = {
							has_character_flag = lab_experiment_ingredient_ingredient_herb5
							has_character_flag = nettles_fever
						}
						AND = {
							has_character_flag = lab_experiment_ingredient_ingredient_herb8
							has_character_flag = violet_fever
						}
						AND = {
							has_character_flag = lab_experiment_ingredient_ingredient_herb13
							has_character_flag = broadleaf_plantain_fever
						}
						AND = {
							has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic6
							has_character_flag = gold_fever
						}
					}
				}
				
				mult_modifier = {
					factor = 5
					OR = {
						AND = {
							has_character_flag = lab_experiment_ingredient_ingredient_herb1
							has_character_flag = hibiscus_fever
						}
						AND = {
							has_character_flag = lab_experiment_ingredient_ingredient_herb2
							has_character_flag = ginger_root_fever
						}
						AND = {
							has_character_flag = lab_experiment_ingredient_ingredient_herb4
							has_character_flag = lemon_grass_fever
						}
						AND = {
							has_character_flag = lab_experiment_ingredient_ingredient_herb5
							has_character_flag = nettles_fever
						}
						AND = {
							has_character_flag = lab_experiment_ingredient_ingredient_herb8
							has_character_flag = violet_fever
						}
						AND = {
							has_character_flag = lab_experiment_ingredient_ingredient_herb13
							has_character_flag = broadleaf_plantain_fever
						}
						AND = {
							has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic6
							has_character_flag = gold_fever
						}
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 2
					learning >= 15
				}
				
				mult_modifier = {
					factor = 2
					learning >= 20
				}
				
				trigger_switch = {
					on_trigger = has_character_flag
					
					 lab_experiment_ingredient_ingredient_herb1 = { set_character_flag = hibiscus_fever }
					 lab_experiment_ingredient_ingredient_herb2 = { set_character_flag = ginger_root_fever }
					 lab_experiment_ingredient_ingredient_herb4 = { set_character_flag = lemon_grass_fever }
					 lab_experiment_ingredient_ingredient_herb5 = { set_character_flag = nettles_fever }
					 lab_experiment_ingredient_ingredient_herb8 = { set_character_flag = violet_fever }
					 lab_experiment_ingredient_ingredient_herb13 = { set_character_flag = broadleaf_plantain_fever }
					 lab_experiment_ingredient_ingredient_metal_exotic6 = { set_character_flag = gold_fever }
				}
				
				character_event = { id = soh.11022 } # Your fever is gone
			}
			
			50 = {
				trigger = {
					lab_experiment_ingredient_is_sleep_inducing_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 0.2
					has_character_flag = lab_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				character_event = { id = soh.11023 } # You are feeling sleepy
			}
			
			50 = {
				trigger = {
					NOT = {
						has_character_flag = lab_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				character_event = { id = soh.11024 } # High on fumes
			}
			
			50 = {
				trigger = {
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 2
					lab_experiment_ingredient_is_ingredient_animal_part_trigger = yes
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				character_event = { id = soh.11025 } # Nausea
			}
			
			# Specific ingredients - not every ingredient has something
			50 = {
				trigger = {
					trait = stressed
					has_character_flag = lab_experiment_ingredient_ingredient_herb1
					OR = {
						NOT = {
							has_character_flag = lab_experiment_safe
						}
						has_character_flag = hibiscus_tea_stressed
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = hibiscus_tea_stressed
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 2
					learning >= 15
				}
				
				mult_modifier = {
					factor = 2
					learning >= 20
				}
				
				set_character_flag = hibiscus_tea_stressed
				
				character_event = { id = soh.11026 } # Hibiscus tea makes you less stressed
			}
			
			1 = {
				trigger = {
					is_pregnant = yes
					NOT = {
						trait = pregnancy_finishing
					}
					has_character_flag = lab_experiment_ingredient_ingredient_herb1
					NOR = {
						has_character_flag = lab_experiment_safe
						has_character_flag = hibiscus_miscarriage
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = hibiscus_miscarriage
				
				character_event = { id = soh.11027 } # Miscarriage due to Hibiscus
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_herb2
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = ginger_root_diarrhea
						}
						has_character_flag = lab_experiment_risky
						has_character_flag = lab_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				set_character_flag = ginger_root_diarrhea
				
				character_event = { id = soh.11028 } # Ginger Root causes diarrhea
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_herb3
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						NOT = {
							has_character_flag = mandrake_breathing_difficulties
						}
						has_character_flag = lab_experiment_risky
						has_character_flag = lab_experiment_crazy
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = mandrake_breathing_difficulties
				
				character_event = { id = soh.11029 } # Mandrake causes breathing difficulties
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_herb3
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = mandrake_vomiting
						}
						has_character_flag = lab_experiment_risky
						has_character_flag = lab_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = mandrake_vomiting
				
				character_event = { id = soh.11030 } # Mandrake causes vomiting
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_herb3
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = mandrake_diarrhea
						}
						has_character_flag = lab_experiment_risky
						has_character_flag = lab_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = mandrake_diarrhea
				
				character_event = { id = soh.11031 } # Mandrake causes diarrhea
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_herb3
					NOT = {
						has_character_flag = lab_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_crazy
				}
				
				character_event = { id = soh.11032 } # Mandrake causes hallucinations
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_herb3
					NOT = {
						has_character_flag = lab_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				character_event = { id = soh.11033 } # Mandrake causes blurred vision
			}
			
			50 = {
				trigger = {
					trait = stressed
					has_character_flag = lab_experiment_ingredient_ingredient_herb4
					OR = {
						NOT = {
							has_character_flag = lab_experiment_safe
						}
						has_character_flag = lemon_grass_tea_stressed
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lemon_grass_tea_stressed
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 2
					learning >= 15
				}
				
				mult_modifier = {
					factor = 2
					learning >= 20
				}
				
				set_character_flag = lemon_grass_tea_stressed
				
				character_event = { id = soh.11034 } # Lemon Grass tea makes you less stressed
			}
			
			50 = {
				trigger = {
					trait = infection
					has_character_flag = lab_experiment_ingredient_ingredient_herb4
					OR = {
						NOT = {
							has_character_flag = lab_experiment_safe
						}
						has_character_flag = lemon_grass_infection
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lemon_grass_infection
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 2
					learning >= 15
				}
				
				mult_modifier = {
					factor = 2
					learning >= 20
				}
				
				set_character_flag = lemon_grass_infection
				
				character_event = { id = soh.11035 } # Lemon Grass helps with infection
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_herb5
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					learning < 10
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				character_event = { id = soh.11036 } # Nettles irritate skin
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_herb6
					OR = {
						NOT = {
							has_character_flag = lab_experiment_safe
						}
						has_character_flag = wormwood_hangover
					}
					OR = {
						trait = drunkard
						has_character_modifier = epic_hangover
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = wormwood_hangover
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 2
					learning >= 15
				}
				
				mult_modifier = {
					factor = 2
					learning >= 20
				}
				
				character_event = { id = soh.11037 } # Wormwood cures hangover
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_herb6
					OR = {
						NOT = {
							has_character_flag = lab_experiment_safe
						}
						has_character_flag = wormwood_sleep
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 2
					learning >= 15
				}
				
				mult_modifier = {
					factor = 2
					learning >= 20
				}
				
				set_character_flag = wormwood_sleep
				
				character_event = { id = soh.11038 } # Wormwood helps you sleep better
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_herb7
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = valerian_headache
						}
						has_character_flag = lab_experiment_risky
						has_character_flag = lab_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = valerian_headache
				
				character_event = { id = soh.11039 } # Valerian causes headache
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_herb7
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = valerian_diarrhea
						}
						has_character_flag = lab_experiment_risky
						has_character_flag = lab_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = valerian_diarrhea
				
				character_event = { id = soh.11040 } # Valerian causes diarrhea
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_herb9
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				character_event = { id = soh.11041 } # Yarrow irritates skin
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_herb9
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = yarrow_vomiting
						}
						has_character_flag = lab_experiment_risky
						has_character_flag = lab_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = yarrow_vomiting
				
				character_event = { id = soh.11042 } # Yarrow causes vomiting
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_herb9
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = yarrow_diarrhea
						}
						has_character_flag = lab_experiment_risky
						has_character_flag = lab_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = yarrow_diarrhea
				
				character_event = { id = soh.11043 } # Yarrow causes diarrhea
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_herb10
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					learning < 10
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				character_event = { id = soh.11044 } # Ivy irritate skin
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_herb15
					NOT = {
						has_character_flag = lab_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_crazy
				}
				
				character_event = { id = soh.11045 } # Foxglove causes hallucinations
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_herb15
					NOT = {
						has_character_flag = lab_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				character_event = { id = soh.11046 } # Foxglove causes blurred vision
			}
			
			5 = {
				trigger = {
					NOT = {
						trait = lunatic
					}
					has_character_flag = lab_experiment_ingredient_ingredient_animal3
				}
				
				mult_modifier = {
					factor = 2
					trait = stressed
				}
				
				mult_modifier = {
					factor = 2
					any_artifact = {
						artifact_type = ingredient_animal3
					}
				}
				
				character_event = { id = soh.11047 } # Eyeballs might be watching you
			}
			
			5 = {
				trigger = {
					trait = lunatic
					has_character_flag = lab_experiment_ingredient_ingredient_animal3
				}
				
				mult_modifier = {
					factor = 2
					trait = stressed
				}
				
				mult_modifier = {
					factor = 2
					any_artifact = {
						artifact_type = ingredient_animal3
					}
				}
				
				character_event = { id = soh.11048 } # Eyeballs are certainly watching you
			}
			
			5 = {
				trigger = {
					NOT = {
						trait = lunatic
					}
					has_character_flag = lab_experiment_ingredient_ingredient_animal7
				}
				
				mult_modifier = {
					factor = 2
					trait = stressed
				}
				
				mult_modifier = {
					factor = 2
					any_artifact = {
						artifact_type = ingredient_animal7
					}
				}
				
				mult_modifier = {
					factor = 2
					any_artifact = {
						artifact_type = ingredient_metal_exotic1 # Silver
					}
				}
				
				mult_modifier = {
					factor = 2
					any_artifact = {
						artifact_type = ingredient_metal_exotic6 # Gold
					}
				}
				
				mult_modifier = {
					factor = 2
					any_artifact = {
						artifact_type = ingredient_metal_exotic7 # Copper
					}
				}
				
				character_event = { id = soh.11049 } # Heart might be beating
			}
			
			5 = {
				trigger = {
					trait = lunatic
					has_character_flag = lab_experiment_ingredient_ingredient_animal7
				}
				
				mult_modifier = {
					factor = 2
					trait = stressed
				}
				
				mult_modifier = {
					factor = 2
					any_artifact = {
						artifact_type = ingredient_animal7
					}
				}
				
				mult_modifier = {
					factor = 2
					any_artifact = {
						artifact_type = ingredient_metal_exotic1 # Silver
					}
				}
				
				mult_modifier = {
					factor = 2
					any_artifact = {
						artifact_type = ingredient_metal_exotic6 # Gold
					}
				}
				
				mult_modifier = {
					factor = 2
					any_artifact = {
						artifact_type = ingredient_metal_exotic7 # Copper
					}
				}
				
				character_event = { id = soh.11050 } # Heart is definitely beating
			}
			
			1 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic1
					NOR = {
						has_character_flag = lab_experiment_safe
						has_character_modifier = argyrosis
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_crazy
				}
				
				character_event = { id = soh.11051 } # Argyrosis
			}
			
			10 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic1
					any_artifact = {
						OR = {
							artifact_type = ingredient_mineral_1 # Cinnabar
							artifact_type = ingredient_mineral_2 # Realgar
							artifact_type = ingredient_misc_powder_1 # Blue Vitriol
							artifact_type = ingredient_misc_powder_2 # Green Vitriol
							artifact_type = ingredient_misc_powder_3 # Red Vitriol
							artifact_type = ingredient_misc_powder_4 # White Vitriol
							artifact_type = ingredient_metal_exotic4 # Aqua Fortis
							artifact_type = ingredient_metal_exotic5 # Brimstone
							artifact_type = ingredient_metal_exotic3 # Aqua Regia
						}
					}
					NOT = {
						has_character_flag = lab_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 2
					any_artifact = {
						count = 2
						OR = {
							artifact_type = ingredient_mineral_1 # Cinnabar
							artifact_type = ingredient_mineral_2 # Realgar
							artifact_type = ingredient_misc_powder_1 # Blue Vitriol
							artifact_type = ingredient_misc_powder_2 # Green Vitriol
							artifact_type = ingredient_misc_powder_3 # Red Vitriol
							artifact_type = ingredient_misc_powder_4 # White Vitriol
							artifact_type = ingredient_metal_exotic4 # Aqua Fortis
							artifact_type = ingredient_metal_exotic5 # Brimstone
							artifact_type = ingredient_metal_exotic3 # Aqua Regia
						}
					}
				}
				
				mult_modifier = {
					factor = 2
					any_artifact = {
						count = 4
						OR = {
							artifact_type = ingredient_mineral_1 # Cinnabar
							artifact_type = ingredient_mineral_2 # Realgar
							artifact_type = ingredient_misc_powder_1 # Blue Vitriol
							artifact_type = ingredient_misc_powder_2 # Green Vitriol
							artifact_type = ingredient_misc_powder_3 # Red Vitriol
							artifact_type = ingredient_misc_powder_4 # White Vitriol
							artifact_type = ingredient_metal_exotic4 # Aqua Fortis
							artifact_type = ingredient_metal_exotic5 # Brimstone
							artifact_type = ingredient_metal_exotic3 # Aqua Regia
						}
					}
				}
				
				character_event = { id = soh.11052 } # Tarnished silver
			}
			
			25 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic2
					is_weak_trigger = no
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = lab_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_modifier = good_laboratory
				}
				
				mult_modifier = {
					factor = 0.25
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_modifier = best_laboratory
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11053 } # Mercury causes muscle weakness
			}
			
			25 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic2
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = lab_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_modifier = good_laboratory
				}
				
				mult_modifier = {
					factor = 0.25
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_modifier = best_laboratory
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11054 } # Mercury causes headache
			}
			
			25 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic2
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = lab_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_modifier = good_laboratory
				}
				
				mult_modifier = {
					factor = 0.25
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_modifier = best_laboratory
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11055 } # Mercury causes irritated skin
			}
			
			25 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic2
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = lab_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_modifier = good_laboratory
				}
				
				mult_modifier = {
					factor = 0.25
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_modifier = best_laboratory
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11056 } # Mercury causes memory loss
			}
			
			25 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic2
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = lab_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_modifier = good_laboratory
				}
				
				mult_modifier = {
					factor = 0.25
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_modifier = best_laboratory
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11057 } # Mercury causes anxiety/paranoia
			}
			
			25 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic2
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = lab_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_modifier = good_laboratory
				}
				
				mult_modifier = {
					factor = 0.25
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_modifier = best_laboratory
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11058 } # Mercury causes blurred vision
			}
			
			25 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic2
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = lab_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_modifier = good_laboratory
				}
				
				mult_modifier = {
					factor = 0.25
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_modifier = best_laboratory
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11059 } # Mercury causes trouble speaking
			}
			
			25 = {
				trigger = {
					is_pregnant = yes
					OR = {
						has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic2
						has_character_flag = lab_experiment_ingredient_ingredient_mineral_1
					}
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
					NOT = {
						has_character_flag = mercury_poisoning_children
					}
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = lab_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_modifier = good_laboratory
				}
				
				mult_modifier = {
					factor = 0.25
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_modifier = best_laboratory
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				set_character_flag = mercury_poisoning_children
				
				character_event = { id = soh.11060 } # Mercury might interfere with your unborn children
			}
			
			25 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic2
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = lab_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_modifier = good_laboratory
				}
				
				mult_modifier = {
					factor = 0.25
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_modifier = best_laboratory
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.25
				
				character_event = { id = soh.11063 } # Mercury causes general health issues
			}
			
			25 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic2
					NOT = {
						trait = lunatic
					}
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = lab_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_modifier = good_laboratory
				}
				
				mult_modifier = {
					factor = 0.25
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_modifier = best_laboratory
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11064 } # Mercury causes insanity
			}
			
			25 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic3
					any_artifact = {
						artifact_type = ingredient_metal_exotic6 # Gold
					}
					NOT = {
						has_character_flag = lab_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				character_event = { id = soh.11065 } # Dissolved gold
			}
			
			10 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic3
					any_artifact = {
						artifact_type = ingredient_metal_exotic1 # Silver
					}
					NOT = {
						has_character_flag = lab_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				character_event = { id = soh.11066 } # Tarnished silver
			}
			
			10 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic4
					any_artifact = {
						artifact_type = ingredient_metal_exotic1 # Silver
					}
					NOT = {
						has_character_flag = lab_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				character_event = { id = soh.11067 } # Tarnished silver
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic4
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						NOT = {
							has_character_flag = aqua_fortis_explosive
						}
						has_character_flag = lab_experiment_risky
						has_character_flag = lab_experiment_crazy
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = aqua_fortis_explosive
				
				character_event = { id = soh.11068 } # Aqua Fortis explodes
			}
			
			10 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic5
					any_artifact = {
						artifact_type = ingredient_metal_exotic1 # Silver
					}
					NOT = {
						has_character_flag = lab_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				character_event = { id = soh.11069 } # Tarnished silver
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic5
					NOT = {
						has_character_flag = lab_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				character_event = { id = soh.11070 } # Smelling bad
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic5
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				character_event = { id = soh.11071 } # Brimstone irritates skin
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic5
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = brimstone_diarrhea
						}
						has_character_flag = lab_experiment_risky
						has_character_flag = lab_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				set_character_flag = brimstone_diarrhea
				
				character_event = { id = soh.11072 } # Brimstone causes diarrhea
			}
			
			10 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic5
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					NOR = {
						trait = one_eyed
						trait = blinded
					}
					has_dlc = "Reapers"
					NOR = {
						has_character_modifier = good_laboratory
						has_character_modifier = great_laboratory
						has_character_modifier = best_laboratory
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				character_event = { id = soh.11073 } # Loss of an eye
			}
			
			1 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic5
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					NOT = {
						trait = disfigured
					}
					has_dlc = "Reapers"
					NOR = {
						has_character_modifier = good_laboratory
						has_character_modifier = great_laboratory
						has_character_modifier = best_laboratory
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				character_event = { id = soh.11074 } # Disfigured
			}
			
			25 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic6
					any_artifact = {
						artifact_type = ingredient_metal_exotic3 # Aqua Regia
					}
					NOT = {
						has_character_flag = lab_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				character_event = { id = soh.11075 } # Dissolved gold
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic7
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = copper_vomiting
						}
						has_character_flag = lab_experiment_risky
						has_character_flag = lab_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = copper_vomiting
				
				character_event = { id = soh.11076 } # Copper causes vomiting
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic9
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = tin_vomiting
						}
						has_character_flag = lab_experiment_risky
						has_character_flag = lab_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = tin_vomiting
				
				character_event = { id = soh.11077 } # Tin causes vomiting
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic9
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = tin_diarrhea
						}
						has_character_flag = lab_experiment_risky
						has_character_flag = lab_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = tin_diarrhea
				
				character_event = { id = soh.11078 } # Tin causes diarrhea
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic10
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = lab_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = lead_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = lead_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = lead_poisoning
						value >= 10
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_modifier = good_laboratory
				}
				
				mult_modifier = {
					factor = 0.25
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_modifier = best_laboratory
				}
				
				change_variable = {
					which = lead_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11079 } # Lead causes abdominal pain
			}
			
			1 = {
				trigger = {
					is_pregnant = yes
					NOT = {
						trait = pregnancy_finishing
					}
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic10
					NOR = {
						has_character_flag = lab_experiment_safe
						has_character_flag = lead_miscarriage
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = lead_miscarriage
				
				character_event = { id = soh.11080 } # Miscarriage due to Lead
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic10
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = lab_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = lead_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = lead_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = lead_poisoning
						value >= 10
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_modifier = good_laboratory
				}
				
				mult_modifier = {
					factor = 0.25
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_modifier = best_laboratory
				}
				
				change_variable = {
					which = lead_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11081 } # Lead causes memory loss
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic10
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = lab_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = lead_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = lead_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = lead_poisoning
						value >= 10
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_modifier = good_laboratory
				}
				
				mult_modifier = {
					factor = 0.25
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_modifier = best_laboratory
				}
				
				change_variable = {
					which = lead_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11082 } # Lead causes hallucinations
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic10
					NOT = {
						trait = celibate
					}
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = lab_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = lead_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = lead_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = lead_poisoning
						value >= 10
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_modifier = good_laboratory
				}
				
				mult_modifier = {
					factor = 0.25
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_modifier = best_laboratory
				}
				
				change_variable = {
					which = lead_poisoning
					value = 1
				}
				
				health = -0.1
				
				fertility = -0.1
				
				character_event = { id = soh.11083 } # Lead causes loss of libido
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic10
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = lab_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = lead_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = lead_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = lead_poisoning
						value >= 10
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_modifier = good_laboratory
				}
				
				mult_modifier = {
					factor = 0.25
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_modifier = best_laboratory
				}
				
				change_variable = {
					which = lead_poisoning
					value = 1
				}
				
				character_event = { id = soh.11084 } # Lead causes nausea
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic10
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = lab_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = lead_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = lead_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = lead_poisoning
						value >= 10
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_modifier = good_laboratory
				}
				
				mult_modifier = {
					factor = 0.25
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_modifier = best_laboratory
				}
				
				change_variable = {
					which = lead_poisoning
					value = 1
				}
				
				character_event = { id = soh.11085 } # Lead makes it hard to sleep
			}
			
			25 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic10
					is_weak_trigger = no
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = lab_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = lead_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = lead_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = lead_poisoning
						value >= 10
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_modifier = good_laboratory
				}
				
				mult_modifier = {
					factor = 0.25
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_modifier = best_laboratory
				}
				
				change_variable = {
					which = lead_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11086 } # Lead causes muscle weakness
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic10
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = lab_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = lead_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = lead_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = lead_poisoning
						value >= 10
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_modifier = good_laboratory
				}
				
				mult_modifier = {
					factor = 0.25
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_modifier = best_laboratory
				}
				
				change_variable = {
					which = lead_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11087 } # Lead causes diarrhea
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_metal_exotic10
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = lab_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = lead_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = lead_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = lead_poisoning
						value >= 10
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_modifier = good_laboratory
				}
				
				mult_modifier = {
					factor = 0.25
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_modifier = best_laboratory
				}
				
				change_variable = {
					which = lead_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11088 } # Lead causes weight loss
			}
			
			50 = {
				trigger = {
					has_character_flag = ingredient_metal_exotic11
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = antimony_headache
						}
						has_character_flag = lab_experiment_risky
						has_character_flag = lab_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = antimony_headache
				
				character_event = { id = soh.11089 } # Antimony causes headache
			}
			
			50 = {
				trigger = {
					has_character_flag = ingredient_metal_exotic11
					NOT = {
						has_character_flag = lab_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				character_event = { id = soh.11090 } # Antimony causes depression
			}
			
			50 = {
				trigger = {
					has_character_flag = ingredient_metal_exotic11
					NOT = {
						has_character_flag = lab_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				character_event = { id = soh.11091 } # Antimony causes dizziness
			}
			
			50 = {
				trigger = {
					has_character_flag = ingredient_metal_exotic11
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = antimony_vomiting
						}
						has_character_flag = lab_experiment_risky
						has_character_flag = lab_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = antimony_vomiting
				
				character_event = { id = soh.11092 } # Antimony causes vomiting
			}
			
			50 = {
				trigger = {
					has_character_flag = ingredient_metal_exotic12
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				character_event = { id = soh.11093 } # Cobalt irritates skin
			}
			
			50 = {
				trigger = {
					has_character_flag = ingredient_metal_exotic14
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				character_event = { id = soh.11094 } # Nickel irritates skin
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_misc_powder_1
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = blue_vitriol_vomiting
						}
						has_character_flag = lab_experiment_risky
						has_character_flag = lab_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = blue_vitriol_vomiting
				
				character_event = { id = soh.11095 } # Blue Vitriol causes vomiting
			}
			
			10 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_misc_powder_1
					any_artifact = {
						artifact_type = ingredient_metal_exotic1 # Silver
					}
					NOT = {
						has_character_flag = lab_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				character_event = { id = soh.11096 } # Tarnished silver
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_misc_powder_1
					NOT = {
						has_character_flag = lab_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				character_event = { id = soh.11097 } # Smelling bad
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_misc_powder_1
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				character_event = { id = soh.11098 } # Blue Vitriol irritates skin
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_misc_powder_1
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = blue_vitriol_diarrhea
						}
						has_character_flag = lab_experiment_risky
						has_character_flag = lab_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = blue_vitriol_diarrhea
				
				character_event = { id = soh.11099 } # Blue Vitriol causes diarrhea
			}
			
			10 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_misc_powder_2
					any_artifact = {
						artifact_type = ingredient_metal_exotic1 # Silver
					}
					NOT = {
						has_character_flag = lab_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				character_event = { id = soh.11100 } # Tarnished silver
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_misc_powder_2
					NOT = {
						has_character_flag = lab_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				character_event = { id = soh.11101 } # Smelling bad
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_misc_powder_2
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				character_event = { id = soh.11102 } # Green Vitriol irritates skin
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_misc_powder_2
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = green_vitriol_diarrhea
						}
						has_character_flag = lab_experiment_risky
						has_character_flag = lab_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = green_vitriol_diarrhea
				
				character_event = { id = soh.11103 } # Green Vitriol causes diarrhea
			}
			
			10 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_misc_powder_3
					any_artifact = {
						artifact_type = ingredient_metal_exotic1 # Silver
					}
					NOT = {
						has_character_flag = lab_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				character_event = { id = soh.11104 } # Tarnished silver
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_misc_powder_3
					NOT = {
						has_character_flag = lab_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				character_event = { id = soh.11105 } # Smelling bad
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_misc_powder_3
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				character_event = { id = soh.11106 } # Red Vitriol irritates skin
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_misc_powder_3
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = red_vitriol_diarrhea
						}
						has_character_flag = lab_experiment_risky
						has_character_flag = lab_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = red_vitriol_diarrhea
				
				character_event = { id = soh.11107 } # Red Vitriol causes diarrhea
			}
			
			10 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_misc_powder_4
					any_artifact = {
						artifact_type = ingredient_metal_exotic1 # Silver
					}
					NOT = {
						has_character_flag = lab_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				character_event = { id = soh.11108 } # Tarnished silver
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_misc_powder_4
					NOT = {
						has_character_flag = lab_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				character_event = { id = soh.11109 } # Smelling bad
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_misc_powder_4
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				character_event = { id = soh.11110 } # White Vitriol irritates skin
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_misc_powder_4
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = white_vitriol_diarrhea
						}
						has_character_flag = lab_experiment_risky
						has_character_flag = lab_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = white_vitriol_diarrhea
				
				character_event = { id = soh.11111 } # White Vitriol causes diarrhea
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_misc_powder_4
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = white_vitriol_vomiting
						}
						has_character_flag = lab_experiment_risky
						has_character_flag = lab_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = white_vitriol_vomiting
				
				character_event = { id = soh.11112 } # White Vitriol causes vomiting
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_misc_powder_4
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = white_vitriol_cramps
						}
						has_character_flag = lab_experiment_risky
						has_character_flag = lab_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = white_vitriol_cramps
				
				character_event = { id = soh.11113 } # White Vitriol causes cramps
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_misc_powder_5
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						NOT = {
							has_character_flag = saltpeter_explosive
						}
						has_character_flag = lab_experiment_risky
						has_character_flag = lab_experiment_crazy
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = saltpeter_explosive
				
				character_event = { id = soh.11114 } # Saltpeter explodes
			}
			
			10 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_mineral_1
					any_artifact = {
						artifact_type = ingredient_metal_exotic1 # Silver
					}
					NOT = {
						has_character_flag = lab_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				character_event = { id = soh.11115 } # Tarnished silver
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_mineral_1
					NOT = {
						has_character_flag = lab_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				character_event = { id = soh.11116 } # Smelling bad
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_mineral_1
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = cinnabar_diarrhea
						}
						has_character_flag = lab_experiment_risky
						has_character_flag = lab_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				set_character_flag = cinnabar_diarrhea
				
				character_event = { id = soh.11117 } # Cinnabar causes diarrhea
			}
			
			10 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_mineral_1
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					NOR = {
						trait = one_eyed
						trait = blinded
					}
					has_dlc = "Reapers"
					NOR = {
						has_character_modifier = good_laboratory
						has_character_modifier = great_laboratory
						has_character_modifier = best_laboratory
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				character_event = { id = soh.11118 } # Loss of an eye
			}
			
			1 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_mineral_1
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					NOT = {
						trait = disfigured
					}
					has_dlc = "Reapers"
					NOR = {
						has_character_modifier = good_laboratory
						has_character_modifier = great_laboratory
						has_character_modifier = best_laboratory
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				character_event = { id = soh.11119 } # Disfigured
			}
			
			25 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_mineral_1
					is_weak_trigger = no
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = lab_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_modifier = good_laboratory
				}
				
				mult_modifier = {
					factor = 0.25
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_modifier = best_laboratory
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11120 } # Cinnabar causes muscle weakness
			}
			
			25 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_mineral_1
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = lab_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_modifier = good_laboratory
				}
				
				mult_modifier = {
					factor = 0.25
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_modifier = best_laboratory
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11121 } # Cinnabar causes headache
			}
			
			25 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_mineral_1
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = lab_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_modifier = good_laboratory
				}
				
				mult_modifier = {
					factor = 0.25
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_modifier = best_laboratory
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11122 } # Cinnabar causes irritated skin
			}
			
			25 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_mineral_1
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = lab_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_modifier = good_laboratory
				}
				
				mult_modifier = {
					factor = 0.25
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_modifier = best_laboratory
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11123 } # Cinnabar causes memory loss
			}
			
			25 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_mineral_1
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = lab_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_modifier = good_laboratory
				}
				
				mult_modifier = {
					factor = 0.25
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_modifier = best_laboratory
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11124 } # Cinnabar causes anxiety/paranoia
			}
			
			25 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_mineral_1
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = lab_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_modifier = good_laboratory
				}
				
				mult_modifier = {
					factor = 0.25
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_modifier = best_laboratory
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11125 } # Cinnabar causes blurred vision
			}
			
			25 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_mineral_1
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = lab_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_modifier = good_laboratory
				}
				
				mult_modifier = {
					factor = 0.25
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_modifier = best_laboratory
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11126 } # Cinnabar causes trouble speaking
			}
			
			25 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_mineral_1
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = lab_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_modifier = good_laboratory
				}
				
				mult_modifier = {
					factor = 0.25
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_modifier = best_laboratory
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.25
				
				character_event = { id = soh.11127 } # Cinnabar causes general health issues
			}
			
			25 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_mineral_1
					NOT = {
						trait = lunatic
					}
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = lab_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				mult_modifier = {
					factor = 0.5
					has_character_modifier = good_laboratory
				}
				
				mult_modifier = {
					factor = 0.25
					has_character_modifier = great_laboratory
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_modifier = best_laboratory
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11128 } # Cinnabar causes insanity
			}
			
			10 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_mineral_2
					any_artifact = {
						artifact_type = ingredient_metal_exotic1 # Silver
					}
					NOT = {
						has_character_flag = lab_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				character_event = { id = soh.11129 } # Tarnished silver
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_mineral_2
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = realgar_abdominal_pain
						}
						has_character_flag = lab_experiment_risky
						has_character_flag = lab_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				set_character_flag = realgar_abdominal_pain
				
				character_event = { id = soh.11130 } # Realgar causes abdominal pain
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_mineral_2
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = realgar_diarrhea
						}
						has_character_flag = lab_experiment_risky
						has_character_flag = lab_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				set_character_flag = realgar_diarrhea
				
				character_event = { id = soh.11131 } # Realgar causes diarrhea
			}
			
			50 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_mineral_2
					NOT = {
						has_character_flag = lab_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = realgar_vomiting
						}
						has_character_flag = lab_experiment_risky
						has_character_flag = lab_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = lab_experiment_risky
				}
				
				set_character_flag = realgar_vomiting
				
				character_event = { id = soh.11132 } # Realgar causes vomiting
			}
			
			1 = {
				trigger = {
					has_character_flag = lab_experiment_ingredient_ingredient_mineral_2
					practical_age >= 50
					OR = {
						has_character_flag = lab_experiment_risky
						has_character_flag = lab_experiment_crazy
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lab_experiment_risky
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				character_event = { id = soh.11133 } # Realgar makes you Incapable
			}
		}
	}
}

# Generic good experiment - healing
character_event = {
	id = soh.11005
	desc = EVTDESC_SOH_11005
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11005 # Great!
		
		alchemist_good_outcome_healing_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Generic good experiment - poison
character_event = {
	id = soh.11006
	desc = EVTDESC_SOH_11006
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11006 # Great!
		
		alchemist_good_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Generic good experiment - unspecific
character_event = {
	id = soh.11007
	desc = EVTDESC_SOH_11007
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11007 # Great!
		
		alchemist_good_outcome_random_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Generic neutral experiment - healing
character_event = {
	id = soh.11008
	desc = EVTDESC_SOH_11008
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11008 # Acceptable!
		
		alchemist_average_outcome_healing_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Generic neutral experiment - poison
character_event = {
	id = soh.11009
	desc = EVTDESC_SOH_11009
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11009 # Acceptable!
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Generic neutral experiment - unspecific
character_event = {
	id = soh.11010
	desc = EVTDESC_SOH_11010
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11010 # Acceptable!
		
		alchemist_average_outcome_random_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Generic bad experiment - healing
character_event = {
	id = soh.11011
	desc = EVTDESC_SOH_11011
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11011 # Useless!
		
		alchemist_bad_outcome_healing_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Generic bad experiment - poison
character_event = {
	id = soh.11012
	desc = EVTDESC_SOH_11012
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11012 # Useless!
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Generic bad experiment - unspecific
character_event = {
	id = soh.11013
	desc = EVTDESC_SOH_11013
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11013 # Useless!
		
		alchemist_bad_outcome_random_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Lab accident - damaged equipment
character_event = {
	id = soh.11014
	desc = EVTDESC_SOH_11014
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11014 # I will need to replace that...
		
		wealth = -25
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Lab accident - loss of ingredient(s)
character_event = {
	id = soh.11015
	desc = EVTDESC_SOH_11015
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	immediate = {
		select_random_hermetic_ingredient_effect = yes
		select_random_hermetic_ingredient_effect = yes
	}
	
	option = {
		name = EVTOPTA_SOH_11015 # Curses!
		
		destroy_selected_ingredient_1_and_2_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Lab accident - loss of notes
character_event = {
	id = soh.11016
	desc = EVTDESC_SOH_11016
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11016 # My notes!
		
		hidden_tooltip = {
			random_list = {
				50 = {
					change_variable = {
						which = alchemist_healing_knowledge
						value = -5
					}
				}
				50 = {
					change_variable = {
						which = alchemist_poison_knowledge
						value = -5
					}
				}
			}
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Lab accident - injury
character_event = {
	id = soh.11017
	desc = EVTDESC_SOH_11017
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11017 # Ow!
		
		add_trait_wounded_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Lab accident - maimed
character_event = {
	id = soh.11018
	desc = EVTDESC_SOH_11018
	picture = GFX_evt_bloody_man
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11018 # Curses!
		
		add_maimed_trait_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Lab accident - killed
character_event = {
	id = soh.11019
	desc = EVTDESC_SOH_11019
	picture = GFX_evt_bloody_man
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11019 # This cannot be!
		
		death = {
			death_reason = death_lab_accident
		}
	}
}

# Stressing out over thorough experiment
character_event = {
	id = soh.11020
	desc = EVTDESC_SOH_11020
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11020 # I must be missing something!
		
		add_trait_stressed_effect = yes
		
		alchemist_bad_outcome_random_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Depressed by lack of discoveries
character_event = {
	id = soh.11021
	desc = EVTDESC_SOH_11021
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11021 # I am a failure!
		
		add_trait_depressed_effect = yes
		
		alchemist_bad_outcome_random_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Tea lowers fever
character_event = {
	id = soh.11022
	desc = EVTDESC_SOH_11022
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11022 # Success!
		
		remove_trait = fever
		
		alchemist_good_outcome_healing_lab_experiment_effect = yes
		
		if = {
			limit = {
				has_symptom_trigger = no
			}
			clr_character_flag = disease_not_serious
		}

		hidden_effect = {
			remove_character_modifier = symptom_treatment_1
			remove_character_modifier = symptom_treatment_2
			remove_character_modifier = symptom_treatment_3
			remove_character_modifier = symptom_treatment_4
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Tea makes you sleepy
character_event = {
	id = soh.11023
	desc = EVTDESC_SOH_11023
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11023 # So... tired...
		
		alchemist_average_outcome_random_lab_experiment_effect = yes
		
		add_character_modifier = {
			name = drowsy_alchemist
			years = 2
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# High on fumes
character_event = {
	id = soh.11024
	desc = EVTDESC_SOH_11024
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11024 # This is awesome!
		
		alchemist_average_outcome_random_lab_experiment_effect = yes
		
		add_character_modifier = {
			name = alchemist_hallucinations
			years = 24
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Nausea
character_event = {
	id = soh.11025
	desc = EVTDESC_SOH_11025
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11025 # Something is wrong...
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		set_character_flag = disease_not_serious
		
		add_trait = malaise
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11012 days =  10 random = 30 } }
				33 = { character_event = { id = RIP.11012 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11012 months = 6 random = 60 } }
			}
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Hibiscus - tea makes you less stressed
character_event = {
	id = soh.11026
	desc = EVTDESC_SOH_11026
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11026 # I feel like a new person!
		
		alchemist_good_outcome_healing_lab_experiment_effect = yes
		
		remove_trait_stressed_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Hibiscus - miscarriage
character_event = {
	id = soh.11027
	desc = {
		text = EVTDESCA_SOH_11027
		trigger = {
			NOR = {
				trait = hard_pregnancy
				trait = pregnant
			}
		}
	}
	desc = {
		text = EVTDESCB_SOH_11027
		trigger = {
			OR = {
				trait = hard_pregnancy
				trait = pregnant
			}
		}
	}
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	immediate = {
		father_of_unborn = {
			save_event_target_as = father_of_child
		}
	}
	
	option = {
		trigger = {
			NOR = {
				trait = hard_pregnancy
				trait = pregnant
			}
		}
		
		name = EVTOPTA_SOH_11027 # I... was pregnant?
		
		cancel_pregnancy = yes
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
	
	option = {
		trigger = {
			trait = pregnant
			NOT = {
				trait = troubled_pregnancy
			}
		}
		
		name = EVTOPTB_SOH_11027 # My baby...
		
		remove_trait = hard_pregnancy
		remove_trait = pregnant
		
		cancel_pregnancy = yes
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
	
	option = {
		trigger = {
			trait = hard_pregnancy
		}
		
		name = EVTOPTC_SOH_11027 # Perhaps for the best...
		
		remove_trait = hard_pregnancy
		remove_trait = pregnant
		
		cancel_pregnancy = yes
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Ginger Root - diarrhea
character_event = {
	id = soh.11028
	desc = EVTDESC_SOH_11028
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11028 # Something is wrong...
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		set_character_flag = disease_not_serious
		
		add_trait = diarrhea
		
		character_event = {
			id = RIP.11004 # Remove diarrhea
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Mandrake - breathing difficulties
character_event = {
	id = soh.11029
	desc = EVTDESC_SOH_11029
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11029 # Can't... breathe...
		
		alchemist_good_outcome_poison_lab_experiment_effect = yes
		
		add_character_modifier = {
			name = alchemist_breathing_troubles
			years = 2
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Mandrake - vomiting
character_event = {
	id = soh.11030
	desc = EVTDESC_SOH_11030
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11030 # Something is wrong...
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		set_character_flag = disease_not_serious
		
		add_trait = vomiting
		
		character_event = {
			id = RIP.11005 # Remove vomiting
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Mandrake - diarrhea
character_event = {
	id = soh.11031
	desc = EVTDESC_SOH_11031
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11031 # Something is wrong...
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		set_character_flag = disease_not_serious
		
		add_trait = diarrhea
		
		character_event = {
			id = RIP.11004 # Remove diarrhea
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Mandrake - hallucinations
character_event = {
	id = soh.11032
	desc = EVTDESC_SOH_11032
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11032 # What's that?
		
		alchemist_average_outcome_random_lab_experiment_effect = yes
		
		random = {
			chance = 1
			add_trait_partially_paranoid_effect = yes
		}
		
		add_character_modifier = {
			name = alchemist_hallucinations
			years = 2
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Mandrake - blurred vision
character_event = {
	id = soh.11033
	desc = EVTDESC_SOH_11033
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11033 # What's that?
		
		alchemist_bad_outcome_random_lab_experiment_effect = yes
		
		random = {
			chance = 1
			add_trait_partially_paranoid_effect = yes
		}
		
		add_character_modifier = {
			name = alchemist_blurred_vision
			years = 2
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Lemon Grass - tea makes you less stressed
character_event = {
	id = soh.11034
	desc = EVTDESC_SOH_11034
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11034 # I feel like a new person!
		
		alchemist_good_outcome_healing_lab_experiment_effect = yes
		
		remove_trait_stressed_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Lemon Grass - infection is gone
character_event = {
	id = soh.11035
	desc = EVTDESC_SOH_11035
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11035 # Excellent!
		
		alchemist_good_outcome_healing_lab_experiment_effect = yes
		
		remove_trait = infection

		if = {
			limit = { trait = wounded }

			character_event = {
				id = 6081 # wound should heal soon after
				days = 14
				random = 30
			}
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Nettles - irritated skin
character_event = {
	id = soh.11036
	desc = EVTDESC_SOH_11036
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11036 # I should have known better...
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		set_character_flag = disease_not_serious
		
		add_trait = rash
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11008 days = 10 random = 30 } }
				33 = { character_event = { id = RIP.11008 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11008 years = 1 random = 120 } }
			}
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Wormwood - hangover is gone
character_event = {
	id = soh.11037
	desc = EVTDESC_SOH_11037
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11037 # Amazing!
		
		alchemist_good_outcome_healing_lab_experiment_effect = yes
		
		remove_character_modifier = epic_hangover
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Wormwood - sleeping better
character_event = {
	id = soh.11038
	desc = EVTDESC_SOH_11038
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11038 # I feel like a new person!
		
		alchemist_good_outcome_healing_lab_experiment_effect = yes
		
		add_character_modifier = {
			name = alchemist_good_sleep
			years = 2
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Valerian - headache
character_event = {
	id = soh.11039
	desc = EVTDESC_SOH_11039
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11039 # Something is wrong...
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		set_character_flag = disease_not_serious
		
		add_trait = headache
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11009 days =  10 random =  30 } }
				33 = { character_event = { id = RIP.11009 days =  90 random =  45 } }
				33 = { character_event = { id = RIP.11009 days = 700 random = 100 } }
			}
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Valerian - diarrhea
character_event = {
	id = soh.11040
	desc = EVTDESC_SOH_11040
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11040 # Something is wrong...
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		set_character_flag = disease_not_serious
		
		add_trait = diarrhea
		
		character_event = {
			id = RIP.11004 # Remove diarrhea
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Yarrow - irritated skin
character_event = {
	id = soh.11041
	desc = EVTDESC_SOH_11041
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11041 # I should have known better...
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		set_character_flag = disease_not_serious
		
		add_trait = rash
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11008 days = 10 random = 30 } }
				33 = { character_event = { id = RIP.11008 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11008 years = 1 random = 120 } }
			}
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Yarrow - vomiting
character_event = {
	id = soh.11042
	desc = EVTDESC_SOH_11042
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11042 # Something is wrong...
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		set_character_flag = disease_not_serious
		
		add_trait = vomiting
		
		character_event = {
			id = RIP.11005 # Remove vomiting
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Yarrow - diarrhea
character_event = {
	id = soh.11043
	desc = EVTDESC_SOH_11043
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11043 # Something is wrong...
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		set_character_flag = disease_not_serious
		
		add_trait = diarrhea
		
		character_event = {
			id = RIP.11004 # Remove diarrhea
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Ivy - irritated skin
character_event = {
	id = soh.11044
	desc = EVTDESC_SOH_11044
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11044 # I should have known better...
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		set_character_flag = disease_not_serious
		
		add_trait = rash
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11008 days = 10 random = 30 } }
				33 = { character_event = { id = RIP.11008 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11008 years = 1 random = 120 } }
			}
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Foxglove - hallucinations
character_event = {
	id = soh.11045
	desc = EVTDESC_SOH_11045
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11045 # What's that?
		
		alchemist_average_outcome_random_lab_experiment_effect = yes
		
		random = {
			chance = 1
			add_trait_partially_paranoid_effect = yes
		}
		
		add_character_modifier = {
			name = alchemist_hallucinations
			years = 2
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Foxglove - blurred vision
character_event = {
	id = soh.11046
	desc = EVTDESC_SOH_11046
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11046 # What's that?
		
		alchemist_bad_outcome_random_lab_experiment_effect = yes
		
		random = {
			chance = 1
			add_trait_partially_paranoid_effect = yes
		}
		
		add_character_modifier = {
			name = alchemist_blurred_vision
			years = 2
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Eyeballs - are they watching you?
character_event = {
	id = soh.11047
	desc = EVTDESC_SOH_11047
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11047 # I must be imagining things...
		
		random = {
			chance = 5
			add_trait_lunatic_effect = yes
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Eyeballs - lunatic thinks they're watching
character_event = {
	id = soh.11048
	desc = EVTDESC_SOH_11048
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOT = {
				any_artifact = {
					artifact_type = ingredient_animal3
				}
			}
		}
		
		name = EVTOPTA_SOH_11048 # Hide!
		
		random = {
			chance = 25
			add_trait_partially_paranoid_effect = yes
		}
		
		prestige = -25
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
	
	option = {
		trigger = {
			any_artifact = {
				artifact_type = ingredient_animal3
			}
		}
		
		name = EVTOPTB_SOH_11048 # I must destroy them all!
		
		any_artifact = {
			limit = {
				artifact_type = ingredient_animal3
			}
			unsafe_destroy_artifact = yes
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Heart - did it just beat?
character_event = {
	id = soh.11049
	desc = EVTDESC_SOH_11049
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11049 # I must be imagining things...
		
		random = {
			chance = 5
			add_trait_lunatic_effect = yes
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Heart - lunatic is convinced it is beating
character_event = {
	id = soh.11050
	desc = EVTDESC_SOH_11050
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11050 # It's ALIVE!
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Silver - argyrosis
character_event = {
	id = soh.11051
	desc = EVTDESC_SOH_11051
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11051 # I'm... blue?
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		add_character_modifier = {
			name = argyrosis
			duration = -1
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Silver - tarnished due to sulfur (from cinnabar, realgar, blue/green/red/white Vitriol, aqua fortis, brimstone) or Chloride (aqua regia)
character_event = {
	id = soh.11052
	desc = EVTDESC_SOH_11052
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	immediate = {
		random_artifact = {
			limit = {
				OR = {
					artifact_type = ingredient_mineral_1 # Cinnabar
					artifact_type = ingredient_mineral_2 # Realgar
					artifact_type = ingredient_misc_powder_1 # Blue Vitriol
					artifact_type = ingredient_misc_powder_2 # Green Vitriol
					artifact_type = ingredient_misc_powder_3 # Red Vitriol
					artifact_type = ingredient_misc_powder_4 # White Vitriol
					artifact_type = ingredient_metal_exotic4 # Aqua Fortis
					artifact_type = ingredient_metal_exotic5 # Brimstone
					artifact_type = ingredient_metal_exotic3 # Aqua Regia
				}
			}
			
			save_event_target_as = target_artifact
		}
	}
	
	option = {
		name = EVTOPTA_SOH_11052 # What a waste...
		
		alchemist_bad_outcome_random_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		event_target:target_artifact = {
			unsafe_destroy_artifact = yes
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Mercury - muscle weakness
character_event = {
	id = soh.11053
	desc = EVTDESC_SOH_11053
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11053 # I don't feel so good...
		
		add_trait_partially_frail_effect = yes
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Mercury - headache
character_event = {
	id = soh.11054
	desc = EVTDESC_SOH_11054
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11054 # Something is wrong...
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		set_character_flag = disease_not_serious
		
		add_trait = headache
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11009 days =  10 random =  30 } }
				33 = { character_event = { id = RIP.11009 days =  90 random =  45 } }
				33 = { character_event = { id = RIP.11009 days = 700 random = 100 } }
			}
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Mercury - irritated skin
character_event = {
	id = soh.11055
	desc = EVTDESC_SOH_11055
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11055 # Something is wrong...
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		set_character_flag = disease_not_serious
		
		add_trait = rash
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11008 days = 10 random = 30 } }
				33 = { character_event = { id = RIP.11008 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11008 years = 1 random = 120 } }
			}
		}
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Mercury - memory loss
character_event = {
	id = soh.11056
	desc = EVTDESC_SOH_11056
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11056 # What's going on...?
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		random_list = {
			20 = {
				change_diplomacy = -2
			}
			20 = {
				change_martial = -2
			}
			20 = {
				change_stewardship = -2
			}
			20 = {
				change_intrigue = -2
			}
			20 = {
				change_learning = -2
			}
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Mercury - anxiety/paranoia
character_event = {
	id = soh.11057
	desc = EVTDESC_SOH_11057
	picture = GFX_evt_shadow
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11057 # They're after me!
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		add_trait_partially_paranoid_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Mercury - blurred vision
character_event = {
	id = soh.11058
	desc = EVTDESC_SOH_11058
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11058 # What's that?
		
		alchemist_bad_outcome_random_lab_experiment_effect = yes
		
		random = {
			chance = 1
			add_trait_partially_paranoid_effect = yes
		}
		
		add_character_modifier = {
			name = alchemist_blurred_vision
			years = 2
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Mercury - trouble speaking
character_event = {
	id = soh.11059
	desc = EVTDESC_SOH_11059
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11059 # Not right...
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		random = {
			chance = 50
			add_trait_partially_shy_effect = yes
		}
		
		add_character_modifier = {
			name = alchemist_speaking_wrong
			years = 2
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Mercury/Cinnabar - possibly not good for future children...
character_event = {
	id = soh.11060
	desc = {
		text = EVTDESCA_SOH_11060
		trigger = {
			NOR = {
				trait = hard_pregnancy
				trait = pregnant
				trait = troubled_pregnancy
				trait = pregnancy_finishing
			}
		}
	}
	desc = {
		text = EVTDESCB_SOH_11060
		trigger = {
			OR = {
				trait = hard_pregnancy
				trait = pregnant
				trait = troubled_pregnancy
				trait = pregnancy_finishing
			}
		}
	}
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	immediate = {
		father_of_unborn = {
			save_event_target_as = father_of_child
		}
	}
	
	option = {
		trigger = {
			NOR = {
				trait = hard_pregnancy
				trait = pregnant
				trait = troubled_pregnancy
				trait = pregnancy_finishing
			}
		}
		
		name = EVTOPTA_SOH_11060 # And I think I might be...
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
	
	option = {
		trigger = {
			OR = {
				trait = hard_pregnancy
				trait = pregnant
				trait = troubled_pregnancy
				trait = pregnancy_finishing
			}
		}
		
		name = EVTOPTB_SOH_11060 # Not good...
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
	
	after = {
		set_character_flag = mercury_poisoning_children
	}
}

# on_birth fallout of Mercury poisoning
character_event = {
	id = soh.11061
	hide_window = yes
	
	is_triggered_only = yes # on_birth
	
	trigger = {
		mother = {
			has_character_flag = mercury_poisoning_children
		}
	}
	
	immediate = {
		random = {
			chance = 50
			add_trait = sickly
		}
		random = {
			chance = 25
			add_trait = weak
		}
		random = {
			chance = 25
			random_list = {
				25 = {
					add_trait = imbecile
				}
				75 = {
					add_trait = slow
				}
			}
		}
		random = {
			chance = 25
			add_trait = lunatic
		}
		random = {
			chance = 25
			add_trait = ugly
		}
		random = {
			chance = 25
			add_trait = stutter
		}
		
		mother = {
			character_event = { id = soh.11062 days = 1 } # Clear the flag
		}
	}
}

# Cleanup of Mercury flag - one day after the on_birth event
character_event = {
	id = soh.11062
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		clr_character_flag = mercury_poisoning_children
	}
}

# Mercury - general health issues
character_event = {
	id = soh.11063
	desc = EVTDESC_SOH_11063
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11063 # I don't feel so good...
		
		alchemist_good_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Mercury - insanity
character_event = {
	id = soh.11064
	desc = EVTDESC_SOH_11064
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11064 # I will show them ALL!
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		add_trait_lunatic_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Aqua Regia dissolves gold
character_event = {
	id = soh.11065
	desc = EVTDESC_SOH_11065
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	immediate = {
		random_artifact = {
			limit = {
				artifact_type = ingredient_metal_exotic6
			}
			
			save_event_target_as = target_artifact
		}
	}
	
	option = {
		name = EVTOPTA_SOH_11065 # What a waste...
		
		alchemist_bad_outcome_random_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		event_target:target_artifact = {
			unsafe_destroy_artifact = yes
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Aqua Regia tarnishes silver
character_event = {
	id = soh.11066
	desc = EVTDESC_SOH_11066
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	immediate = {
		random_artifact = {
			limit = {
				artifact_type = ingredient_metal_exotic1
			}
			
			save_event_target_as = target_artifact
		}
	}
	
	option = {
		name = EVTOPTA_SOH_11066 # What a waste...
		
		alchemist_bad_outcome_random_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		event_target:target_artifact = {
			unsafe_destroy_artifact = yes
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Aqua Fortis tarnishes silver
character_event = {
	id = soh.11067
	desc = EVTDESC_SOH_11067
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	immediate = {
		random_artifact = {
			limit = {
				artifact_type = ingredient_metal_exotic1
			}
			
			save_event_target_as = target_artifact
		}
	}
	
	option = {
		name = EVTOPTA_SOH_11067 # What a waste...
		
		alchemist_bad_outcome_random_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		event_target:target_artifact = {
			unsafe_destroy_artifact = yes
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Aqua Fortis explodes
character_event = {
	id = soh.11068
	desc = EVTDESC_SOH_11068
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	immediate = {
		random_artifact = {
			limit = {
				has_artifact_flag = ingredient
			}
			
			save_event_target_as = target_artifact
		}
	}
	
	option = {
		name = EVTOPTA_SOH_11068 # Take cover!
		
		alchemist_bad_outcome_random_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		event_target:target_artifact = {
			unsafe_destroy_artifact = yes
		}
		
		random = {
			chance = 25
			add_trait_wounded_effect = yes
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Brimstone tarnishes silver
character_event = {
	id = soh.11069
	desc = EVTDESC_SOH_11069
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	immediate = {
		random_artifact = {
			limit = {
				artifact_type = ingredient_metal_exotic1
			}
			
			save_event_target_as = target_artifact
		}
	}
	
	option = {
		name = EVTOPTA_SOH_11069 # What a waste...
		
		alchemist_bad_outcome_random_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		event_target:target_artifact = {
			unsafe_destroy_artifact = yes
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Brimstone makes you smell bad
character_event = {
	id = soh.11070
	desc = EVTDESC_SOH_11070
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11070 # Is that me...?
		
		alchemist_bad_outcome_random_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		add_trait_partially_uncouth_effect = yes
		
		add_character_modifier = {
			name = smelly_alchemist
			years = 2
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Brimstone - irritated skin
character_event = {
	id = soh.11071
	desc = EVTDESC_SOH_11071
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11071 # Something is wrong...
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		set_character_flag = disease_not_serious
		
		add_trait = rash
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11008 days = 10 random = 30 } }
				33 = { character_event = { id = RIP.11008 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11008 years = 1 random = 120 } }
			}
		}
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Brimstone - diarrhea
character_event = {
	id = soh.11072
	desc = EVTDESC_SOH_11072
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11072 # Something is wrong...
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		set_character_flag = disease_not_serious
		
		add_trait = diarrhea
		
		character_event = {
			id = RIP.11004 # Remove diarrhea
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Brimstone - loss of an eye
character_event = {
	id = soh.11073
	desc = EVTDESC_SOH_11073
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11073 # My eye!
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		add_trait = one_eyed
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Brimstone - disfigurement
character_event = {
	id = soh.11074
	desc = EVTDESC_SOH_11074
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11074 # My face!
		
		alchemist_good_outcome_poison_lab_experiment_effect = yes
		
		add_trait = disfigured
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Gold dissolved due to Aqua Regia
character_event = {
	id = soh.11075
	desc = EVTDESC_SOH_11075
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	immediate = {
		random_artifact = {
			limit = {
				artifact_type = ingredient_metal_exotic3
			}
			
			save_event_target_as = target_artifact
		}
	}
	
	option = {
		name = EVTOPTA_SOH_11075 # What a waste...
		
		alchemist_bad_outcome_random_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		event_target:target_artifact = {
			unsafe_destroy_artifact = yes
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Copper - vomiting
character_event = {
	id = soh.11076
	desc = EVTDESC_SOH_11076
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11076 # Something is wrong...
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		set_character_flag = disease_not_serious
		
		add_trait = vomiting
		
		character_event = {
			id = RIP.11005 # Remove vomiting
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Tin - vomiting
character_event = {
	id = soh.11077
	desc = EVTDESC_SOH_11077
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11077 # Something is wrong...
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		set_character_flag = disease_not_serious
		
		add_trait = vomiting
		
		character_event = {
			id = RIP.11005 # Remove vomiting
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Tin - diarrhea
character_event = {
	id = soh.11078
	desc = EVTDESC_SOH_11078
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11078 # Something is wrong...
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		set_character_flag = disease_not_serious
		
		add_trait = diarrhea
		
		character_event = {
			id = RIP.11004 # Remove diarrhea
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Lead - abdominal pain
character_event = {
	id = soh.11079
	desc = EVTDESC_SOH_11079
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11079 # Something is wrong...
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		set_character_flag = disease_not_serious
		
		add_trait = abdominal_pain
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11010 days =  10 random = 30 } }
				33 = { character_event = { id = RIP.11010 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11010 months = 6 random = 60 } }
			}
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Lead - miscarriage
character_event = {
	id = soh.11080
	desc = {
		text = EVTDESCA_SOH_11080
		trigger = {
			NOR = {
				trait = hard_pregnancy
				trait = pregnant
			}
		}
	}
	desc = {
		text = EVTDESCB_SOH_11080
		trigger = {
			OR = {
				trait = hard_pregnancy
				trait = pregnant
			}
		}
	}
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	immediate = {
		father_of_unborn = {
			save_event_target_as = father_of_child
		}
	}
	
	option = {
		trigger = {
			NOR = {
				trait = hard_pregnancy
				trait = pregnant
			}
		}
		
		name = EVTOPTA_SOH_11080 # I... was pregnant?
		
		cancel_pregnancy = yes
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
	
	option = {
		trigger = {
			trait = pregnant
			NOT = {
				trait = troubled_pregnancy
			}
		}
		
		name = EVTOPTB_SOH_11080 # My baby...
		
		remove_trait = hard_pregnancy
		remove_trait = pregnant
		
		cancel_pregnancy = yes
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
	
	option = {
		trigger = {
			trait = hard_pregnancy
		}
		
		name = EVTOPTC_SOH_11080 # Perhaps for the best...
		
		remove_trait = hard_pregnancy
		remove_trait = pregnant
		
		cancel_pregnancy = yes
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Lead - memory loss
character_event = {
	id = soh.11081
	desc = EVTDESC_SOH_11081
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11081 # What's going on...?
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		random_list = {
			20 = {
				change_diplomacy = -2
			}
			20 = {
				change_martial = -2
			}
			20 = {
				change_stewardship = -2
			}
			20 = {
				change_intrigue = -2
			}
			20 = {
				change_learning = -2
			}
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Lead - hallucinations
character_event = {
	id = soh.11082
	desc = EVTDESC_SOH_11082
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11082 # What's that?
		
		alchemist_average_outcome_random_lab_experiment_effect = yes
		
		random = {
			chance = 1
			add_trait_partially_paranoid_effect = yes
		}
		
		add_character_modifier = {
			name = alchemist_hallucinations
			years = 2
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Lead - lower libido
character_event = {
	id = soh.11083
	desc = EVTDESC_SOH_11083
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11083 # I'm not feeling it...
		
		alchemist_average_outcome_random_lab_experiment_effect = yes
		
		random = {
			chance = 25
			add_trait_partially_chaste_effect = yes
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Lead - nausea
character_event = {
	id = soh.11084
	desc = EVTDESC_SOH_11084
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11084 # Something is wrong...
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		set_character_flag = disease_not_serious
		
		add_trait = malaise
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11012 days =  10 random = 30 } }
				33 = { character_event = { id = RIP.11012 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11012 months = 6 random = 60 } }
			}
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Lead - trouble sleeping
character_event = {
	id = soh.11085
	desc = EVTDESC_SOH_11085
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11085 # So... tired...
		
		alchemist_average_outcome_random_lab_experiment_effect = yes
		
		add_character_modifier = {
			name = drowsy_alchemist
			years = 2
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Lead - muscle weakness
character_event = {
	id = soh.11086
	desc = EVTDESC_SOH_11086
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11086 # I don't feel so good...
		
		add_trait_partially_frail_effect = yes
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Lead - diarrhea
character_event = {
	id = soh.11087
	desc = EVTDESC_SOH_11087
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11087 # Something is wrong...
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		set_character_flag = disease_not_serious
		
		add_trait = diarrhea
		
		character_event = {
			id = RIP.11004 # Remove diarrhea
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Lead - weight loss
character_event = {
	id = soh.11088
	desc = EVTDESC_SOH_11088
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11088 # Something is wrong...
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		lose_weight_large_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Antimony - headache
character_event = {
	id = soh.11089
	desc = EVTDESC_SOH_11089
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11089 # Something is wrong...
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		set_character_flag = disease_not_serious
		
		add_trait = headache
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11009 days =  10 random =  30 } }
				33 = { character_event = { id = RIP.11009 days =  90 random =  45 } }
				33 = { character_event = { id = RIP.11009 days = 700 random = 100 } }
			}
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Antimony - depression
character_event = {
	id = soh.11090
	desc = EVTDESC_SOH_11090
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11090 # It's all pointless!
		
		alchemist_bad_outcome_random_lab_experiment_effect = yes
		
		add_trait_depressed_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Antimony - dizziness
character_event = {
	id = soh.11091
	desc = EVTDESC_SOH_11091
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11091 # I don't feel so good...
		
		alchemist_bad_outcome_random_lab_experiment_effect = yes
		
		add_character_modifier = {
			name = alchemist_dizzy
			years = 2
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Antimony - vomiting
character_event = {
	id = soh.11092
	desc = EVTDESC_SOH_11092
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11092 # Something is wrong...
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		set_character_flag = disease_not_serious
		
		add_trait = vomiting
		
		character_event = {
			id = RIP.11005 # Remove vomiting
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Cobalt - irritated skin
character_event = {
	id = soh.11093
	desc = EVTDESC_SOH_11093
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11093 # Something is wrong...
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		set_character_flag = disease_not_serious
		
		add_trait = rash
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11008 days = 10 random = 30 } }
				33 = { character_event = { id = RIP.11008 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11008 years = 1 random = 120 } }
			}
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Nickel - irritated skin
character_event = {
	id = soh.11094
	desc = EVTDESC_SOH_11094
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11094 # Something is wrong...
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		set_character_flag = disease_not_serious
		
		add_trait = rash
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11008 days = 10 random = 30 } }
				33 = { character_event = { id = RIP.11008 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11008 years = 1 random = 120 } }
			}
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Blue Vitriol - vomiting
character_event = {
	id = soh.11095
	desc = EVTDESC_SOH_11095
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11095 # Something is wrong...
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		set_character_flag = disease_not_serious
		
		add_trait = vomiting
		
		character_event = {
			id = RIP.11005 # Remove vomiting
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Blue Vitriol tarnishes silver
character_event = {
	id = soh.11096
	desc = EVTDESC_SOH_11096
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	immediate = {
		random_artifact = {
			limit = {
				artifact_type = ingredient_metal_exotic1
			}
			
			save_event_target_as = target_artifact
		}
	}
	
	option = {
		name = EVTOPTA_SOH_11096 # What a waste...
		
		alchemist_bad_outcome_random_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		event_target:target_artifact = {
			unsafe_destroy_artifact = yes
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Blue Vitriol makes you smell bad
character_event = {
	id = soh.11097
	desc = EVTDESC_SOH_11097
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11097 # Is that me...?
		
		alchemist_bad_outcome_random_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		add_trait_partially_uncouth_effect = yes
		
		add_character_modifier = {
			name = smelly_alchemist
			years = 2
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Blue Vitriol - irritated skin
character_event = {
	id = soh.11098
	desc = EVTDESC_SOH_11098
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11098 # Something is wrong...
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		set_character_flag = disease_not_serious
		
		add_trait = rash
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11008 days = 10 random = 30 } }
				33 = { character_event = { id = RIP.11008 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11008 years = 1 random = 120 } }
			}
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Blue Vitriol - diarrhea
character_event = {
	id = soh.11099
	desc = EVTDESC_SOH_11099
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11099 # Something is wrong...
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		set_character_flag = disease_not_serious
		
		add_trait = diarrhea
		
		character_event = {
			id = RIP.11004 # Remove diarrhea
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Green Vitriol tarnishes silver
character_event = {
	id = soh.11100
	desc = EVTDESC_SOH_11100
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	immediate = {
		random_artifact = {
			limit = {
				artifact_type = ingredient_metal_exotic1
			}
			
			save_event_target_as = target_artifact
		}
	}
	
	option = {
		name = EVTOPTA_SOH_11100 # What a waste...
		
		alchemist_bad_outcome_random_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		event_target:target_artifact = {
			unsafe_destroy_artifact = yes
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Green Vitriol makes you smell bad
character_event = {
	id = soh.11101
	desc = EVTDESC_SOH_11101
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11101 # Is that me...?
		
		alchemist_bad_outcome_random_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		add_trait_partially_uncouth_effect = yes
		
		add_character_modifier = {
			name = smelly_alchemist
			years = 2
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Green Vitriol - irritated skin
character_event = {
	id = soh.11102
	desc = EVTDESC_SOH_11102
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11102 # Something is wrong...
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		set_character_flag = disease_not_serious
		
		add_trait = rash
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11008 days = 10 random = 30 } }
				33 = { character_event = { id = RIP.11008 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11008 years = 1 random = 120 } }
			}
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Green Vitriol - diarrhea
character_event = {
	id = soh.11103
	desc = EVTDESC_SOH_11103
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11103 # Something is wrong...
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		set_character_flag = disease_not_serious
		
		add_trait = diarrhea
		
		character_event = {
			id = RIP.11004 # Remove diarrhea
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Red Vitriol tarnishes silver
character_event = {
	id = soh.11104
	desc = EVTDESC_SOH_11104
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	immediate = {
		random_artifact = {
			limit = {
				artifact_type = ingredient_metal_exotic1
			}
			
			save_event_target_as = target_artifact
		}
	}
	
	option = {
		name = EVTOPTA_SOH_11104 # What a waste...
		
		alchemist_bad_outcome_random_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		event_target:target_artifact = {
			unsafe_destroy_artifact = yes
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Red Vitriol makes you smell bad
character_event = {
	id = soh.11105
	desc = EVTDESC_SOH_11105
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11105 # Is that me...?
		
		alchemist_bad_outcome_random_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		add_trait_partially_uncouth_effect = yes
		
		add_character_modifier = {
			name = smelly_alchemist
			years = 2
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Red Vitriol - irritated skin
character_event = {
	id = soh.11106
	desc = EVTDESC_SOH_11106
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11106 # Something is wrong...
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		set_character_flag = disease_not_serious
		
		add_trait = rash
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11008 days = 10 random = 30 } }
				33 = { character_event = { id = RIP.11008 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11008 years = 1 random = 120 } }
			}
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Red Vitriol - diarrhea
character_event = {
	id = soh.11107
	desc = EVTDESC_SOH_11107
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11107 # Something is wrong...
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		set_character_flag = disease_not_serious
		
		add_trait = diarrhea
		
		character_event = {
			id = RIP.11004 # Remove diarrhea
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# White Vitriol tarnishes silver
character_event = {
	id = soh.11108
	desc = EVTDESC_SOH_11108
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	immediate = {
		random_artifact = {
			limit = {
				artifact_type = ingredient_metal_exotic1
			}
			
			save_event_target_as = target_artifact
		}
	}
	
	option = {
		name = EVTOPTA_SOH_11108 # What a waste...
		
		alchemist_bad_outcome_random_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		event_target:target_artifact = {
			unsafe_destroy_artifact = yes
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# White Vitriol makes you smell bad
character_event = {
	id = soh.11109
	desc = EVTDESC_SOH_11109
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11109 # Is that me...?
		
		alchemist_bad_outcome_random_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		add_trait_partially_uncouth_effect = yes
		
		add_character_modifier = {
			name = smelly_alchemist
			years = 2
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# White Vitriol - irritated skin
character_event = {
	id = soh.11110
	desc = EVTDESC_SOH_11110
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11110 # Something is wrong...
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		set_character_flag = disease_not_serious
		
		add_trait = rash
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11008 days = 10 random = 30 } }
				33 = { character_event = { id = RIP.11008 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11008 years = 1 random = 120 } }
			}
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# White Vitriol - diarrhea
character_event = {
	id = soh.11111
	desc = EVTDESC_SOH_11111
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11111 # Something is wrong...
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		set_character_flag = disease_not_serious
		
		add_trait = diarrhea
		
		character_event = {
			id = RIP.11004 # Remove diarrhea
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# White Vitriol - vomiting
character_event = {
	id = soh.11112
	desc = EVTDESC_SOH_11112
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11112 # Something is wrong...
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		set_character_flag = disease_not_serious
		
		add_trait = vomiting
		
		character_event = {
			id = RIP.11005 # Remove vomiting
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# White Vitriol - cramps
character_event = {
	id = soh.11113
	desc = EVTDESC_SOH_11113
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11113 # Something is wrong...
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		set_character_flag = disease_not_serious
		
		add_trait = cramps
		
		character_event = {
			id = RIP.11007 # Remove cramps
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Saltpeter explodes
character_event = {
	id = soh.11114
	desc = EVTDESC_SOH_11114
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	immediate = {
		random_artifact = {
			limit = {
				has_artifact_flag = ingredient
			}
			
			save_event_target_as = target_artifact
		}
	}
	
	option = {
		name = EVTOPTA_SOH_11114 # Take cover!
		
		alchemist_bad_outcome_random_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		event_target:target_artifact = {
			unsafe_destroy_artifact = yes
		}
		
		random = {
			chance = 25
			add_trait_wounded_effect = yes
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Cinnabar tarnishes silver
character_event = {
	id = soh.11115
	desc = EVTDESC_SOH_11115
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	immediate = {
		random_artifact = {
			limit = {
				artifact_type = ingredient_metal_exotic1
			}
			
			save_event_target_as = target_artifact
		}
	}
	
	option = {
		name = EVTOPTA_SOH_11115 # What a waste...
		
		alchemist_bad_outcome_random_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		event_target:target_artifact = {
			unsafe_destroy_artifact = yes
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Cinnabar makes you smell bad
character_event = {
	id = soh.11116
	desc = EVTDESC_SOH_11116
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11116 # Is that me...?
		
		alchemist_bad_outcome_random_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		add_trait_partially_uncouth_effect = yes
		
		add_character_modifier = {
			name = smelly_alchemist
			years = 2
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Cinnabar - diarrhea
character_event = {
	id = soh.11117
	desc = EVTDESC_SOH_11117
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11117 # Something is wrong...
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		set_character_flag = disease_not_serious
		
		add_trait = diarrhea
		
		character_event = {
			id = RIP.11004 # Remove diarrhea
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Cinnabar - loss of an eye
character_event = {
	id = soh.11118
	desc = EVTDESC_SOH_11118
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11118 # My eye!
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		add_trait = one_eyed
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Cinnabar - disfigurement
character_event = {
	id = soh.11119
	desc = EVTDESC_SOH_11119
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11119 # My face!
		
		alchemist_good_outcome_poison_lab_experiment_effect = yes
		
		add_trait = disfigured
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Cinnabar - muscle weakness
character_event = {
	id = soh.11120
	desc = EVTDESC_SOH_11120
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11120 # I don't feel so good...
		
		add_trait_partially_frail_effect = yes
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Cinnabar - headache
character_event = {
	id = soh.11121
	desc = EVTDESC_SOH_11121
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11121 # Something is wrong...
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		set_character_flag = disease_not_serious
		
		add_trait = headache
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11009 days =  10 random =  30 } }
				33 = { character_event = { id = RIP.11009 days =  90 random =  45 } }
				33 = { character_event = { id = RIP.11009 days = 700 random = 100 } }
			}
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Cinnabar - irritated skin
character_event = {
	id = soh.11122
	desc = EVTDESC_SOH_11122
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11122 # Something is wrong...
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		set_character_flag = disease_not_serious
		
		add_trait = rash
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11008 days = 10 random = 30 } }
				33 = { character_event = { id = RIP.11008 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11008 years = 1 random = 120 } }
			}
		}
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Cinnabar - memory loss
character_event = {
	id = soh.11123
	desc = EVTDESC_SOH_11123
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11123 # What's going on...?
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		random_list = {
			20 = {
				change_diplomacy = -2
			}
			20 = {
				change_martial = -2
			}
			20 = {
				change_stewardship = -2
			}
			20 = {
				change_intrigue = -2
			}
			20 = {
				change_learning = -2
			}
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Cinnabar - anxiety/paranoia
character_event = {
	id = soh.11124
	desc = EVTDESC_SOH_11124
	picture = GFX_evt_shadow
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11124 # They're after me!
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		add_trait_partially_paranoid_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Cinnabar - blurred vision
character_event = {
	id = soh.11125
	desc = EVTDESC_SOH_11125
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11125 # What's that?
		
		alchemist_bad_outcome_random_lab_experiment_effect = yes
		
		random = {
			chance = 1
			add_trait_partially_paranoid_effect = yes
		}
		
		add_character_modifier = {
			name = alchemist_blurred_vision
			years = 2
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Cinnabar - trouble speaking
character_event = {
	id = soh.11126
	desc = EVTDESC_SOH_11126
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11126 # Not right...
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		random = {
			chance = 50
			add_trait_partially_shy_effect = yes
		}
		
		add_character_modifier = {
			name = alchemist_speaking_wrong
			years = 2
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Cinnabar - general health issues
character_event = {
	id = soh.11127
	desc = EVTDESC_SOH_11127
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11127 # I don't feel so good...
		
		alchemist_good_outcome_poison_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Cinnabar - insanity
character_event = {
	id = soh.11128
	desc = EVTDESC_SOH_11128
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11128 # I will show them ALL!
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		add_trait_lunatic_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Realgar tarnishes silver
character_event = {
	id = soh.11129
	desc = EVTDESC_SOH_11129
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	immediate = {
		random_artifact = {
			limit = {
				artifact_type = ingredient_metal_exotic1
			}
			
			save_event_target_as = target_artifact
		}
	}
	
	option = {
		name = EVTOPTA_SOH_11129 # What a waste...
		
		alchemist_bad_outcome_random_lab_experiment_effect = yes
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		event_target:target_artifact = {
			unsafe_destroy_artifact = yes
		}
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Realgar - abdominal pain
character_event = {
	id = soh.11130
	desc = EVTDESC_SOH_11130
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11130 # Something is wrong...
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		set_character_flag = disease_not_serious
		
		add_trait = abdominal_pain
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11010 days =  10 random = 30 } }
				33 = { character_event = { id = RIP.11010 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11010 months = 6 random = 60 } }
			}
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Realgar - diarrhea
character_event = {
	id = soh.11131
	desc = EVTDESC_SOH_11131
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11131 # Something is wrong...
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		set_character_flag = disease_not_serious
		
		add_trait = diarrhea
		
		character_event = {
			id = RIP.11004 # Remove diarrhea
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Realgar - vomiting
character_event = {
	id = soh.11132
	desc = EVTDESC_SOH_11132
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11132 # Something is wrong...
		
		alchemist_average_outcome_poison_lab_experiment_effect = yes
		
		set_character_flag = disease_not_serious
		
		add_trait = vomiting
		
		character_event = {
			id = RIP.11005 # Remove vomiting
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11416 } # Quest completion
	}
}

# Realgar - become Incapable
character_event = {
	id = soh.11133
	desc = EVTDESC_SOH_11133
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11133 # What... is...
		
		alchemist_bad_outcome_poison_lab_experiment_effect = yes
		
		add_trait = incapable
		
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11417 } # Quest failure
	}
}

# Cleanup
character_event = {
	id = soh.11134
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		has_character_flag = ongoing_lab_experiment
	}
	
	immediate = {
		clr_character_flag = ongoing_lab_experiment
		clr_character_flag = do_not_disturb
	}
}

# Brew Immortality Potion found elsewhere



### Self-Experimentation

# Confirmation event
character_event = {
	id = soh.11135
	desc = EVTDESC_SOH_11135
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes # self_experiment targeted_decision
	
	option = {
		name = EVTOPTA_SOH_11135 # Discovery requires experimentation!
		
		set_character_flag = ongoing_self_experiment
		set_character_flag = do_not_disturb
		
		clear_flags_with_prefix = self_experiment_
		
		character_event = { id = soh.11136 } # Pick what you're experimenting with
		
		character_event = { id = soh.11267 days = 50 } # Cleanup
	}
	
	option = {
		name = EVTOPTB_SOH_11135 # Now might not be the time...

		ai_chance = { factor = 0 }
		
		add_society_currency_minor_effect = yes

		hidden_effect = { remove_character_modifier = recent_self_experiment }
	}
}

# What do you intend to experiment with
character_event = {
	id = soh.11136
	desc = EVTDESC_SOH_11136
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	immediate = {
		select_random_hermetic_ingredient_prefer_new_effect = yes
		select_random_hermetic_ingredient_prefer_new_effect = yes
	}

	option = { # I will use ingredient 1
		name = EVTOPTA_SOH_11136

		save_ingredient_1_flag_self_experiment_effect = yes
		destroy_selected_ingredient_1_effect = yes
	}

	option = { # I will use ingredient 2
		trigger = {
			has_selected_ingredient_2_trigger = yes
			selected_ingredient_1_and_2_are_same = no
		}
		
		name = EVTOPTB_SOH_11136

		save_ingredient_2_flag_self_experiment_effect = yes
		destroy_selected_ingredient_2_effect = yes
	}

	option = { # I will use both!
		trigger = {
			has_selected_ingredient_2_trigger = yes
			selected_ingredient_1_and_2_are_same = no
		}
		
		name = EVTOPTC_SOH_11136

		save_ingredient_1_flag_self_experiment_effect = yes
		save_ingredient_2_flag_self_experiment_effect = yes
		set_character_flag = self_experiment_two_ingredients
		destroy_selected_ingredient_1_and_2_effect = yes
	}

	after = {
		remove_selection_of_ingredients_effect = yes
		
		character_event = { id = soh.11137 } # Decide on your general approach
	}
}

# Do you intend to experiment carefully, or take a more risky approach?
character_event = {
	id = soh.11137
	desc = EVTDESC_SOH_11137
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11137 # I will do some safe experiments...
		
		set_character_flag = self_experiment_safe
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = brave
			}
			
			mult_modifier = {
				factor = 0.1
				trait = diligent
			}
			
			mult_modifier = {
				factor = 0.1
				trait = ambitious
			}
			
			mult_modifier = {
				factor = 0.1
				trait = lunatic
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11137 # I will be thorough!
		
		set_character_flag = self_experiment_thorough
		
		random = {
			chance = 25
			add_trait_partially_diligent_effect = yes
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = slothful
					trait = wroth
				}
			}
			
			mult_modifier = {
				factor = 10
				trait = diligent
			}
			
			mult_modifier = {
				factor = 10
				trait = patient
			}
			
			mult_modifier = {
				factor = 0.1
				trait = ambitious
			}
			
			mult_modifier = {
				factor = 0.1
				trait = lunatic
			}
		}
	}
	
	option = {
		name = EVTOPTC_SOH_11137 # I will take some risks!
		
		set_character_flag = self_experiment_risky
		
		random = {
			chance = 25
			add_trait_partially_brave_effect = yes
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = craven
					trait = content
				}
			}
			
			mult_modifier = {
				factor = 10
				trait = brave
			}
		}
	}
	
	option = {
		trigger = {
			OR = {
				trait = lunatic
				trait = possessed
			}
		}
		
		name = EVTOPTD_SOH_11137 # I WILL SHOW THEM ALL!
		
		set_character_flag = self_experiment_crazy
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = craven
					trait = content
				}
			}
			
			mult_modifier = {
				factor = 10
				trait = ambitious
			}
			
			mult_modifier = {
				factor = 10
				trait = mystic
			}
		}
	}
	
	after = {
		character_event = { id = soh.11138 days = 15 random = 15 } # Flavour selection
	}
}

# Hidden flavour selection event
character_event = {
	id = soh.11138
	hide_window = yes
	
	is_triggered_only = yes
	
	prisoner = no
	
	trigger = {
		is_actually_incapable_trigger = no
		society_member_of = the_alchemists
	}
	
	immediate = {
		random_list = {
			# Generic
			25 = {
				trigger = {
					OR = {
						self_experiment_ingredient_is_sleep_inducing_trigger = yes
						self_experiment_ingredient_is_antipyretic_trigger = yes
						self_experiment_ingredient_is_perceived_healthy_trigger = yes
					}
					self_experiment_ingredient_is_unhealthy_trigger = no
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 1.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 1.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 1.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 1.5
					learning >= 30
				}
				
				mult_modifier = {
					factor = 2
					trait = diligent
				}
				
				mult_modifier = {
					factor = 2
					trait = patient
				}
				
				mult_modifier = {
					factor = 0.5
					trait = slothful
				}
				
				character_event = { id = soh.11139 } # Generic good experiment - healing
			}
			
			25 = {
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 1.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 1.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 1.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 1.5
					learning >= 30
				}
				
				mult_modifier = {
					factor = 2
					trait = diligent
				}
				
				mult_modifier = {
					factor = 2
					trait = patient
				}
				
				mult_modifier = {
					factor = 0.5
					trait = slothful
				}
				
				mult_modifier = {
					factor = 2
					self_experiment_ingredient_is_unhealthy_trigger = yes
					self_experiment_ingredient_is_ingredient_animal_part_trigger = no
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_crazy
				}
				
				character_event = { id = soh.11140 } # Generic good experiment - poison
			}
			
			25 = {
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 1.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 1.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 1.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 1.5
					learning >= 30
				}
				
				mult_modifier = {
					factor = 2
					trait = diligent
				}
				
				mult_modifier = {
					factor = 2
					trait = patient
				}
				
				mult_modifier = {
					factor = 0.5
					trait = slothful
				}
				
				character_event = { id = soh.11141 } # Generic good experiment - unspecific
			}
			
			50 = {
				trigger = {
					OR = {
						self_experiment_ingredient_is_sleep_inducing_trigger = yes
						self_experiment_ingredient_is_antipyretic_trigger = yes
						self_experiment_ingredient_is_perceived_healthy_trigger = yes
					}
					self_experiment_ingredient_is_unhealthy_trigger = no
				}
				
				mult_modifier = {
					factor = 2
					trait = stressed
				}
				
				mult_modifier = {
					factor = 2
					trait = content
				}
				
				character_event = { id = soh.11142 } # Generic neutral experiment - healing
			}
			
			50 = {
				mult_modifier = {
					factor = 2
					trait = stressed
				}
				
				mult_modifier = {
					factor = 2
					trait = content
				}
				
				mult_modifier = {
					factor = 2
					self_experiment_ingredient_is_unhealthy_trigger = yes
					self_experiment_ingredient_is_ingredient_animal_part_trigger = no
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_crazy
				}
				
				character_event = { id = soh.11143 } # Generic neutral experiment - poison
			}
			
			50 = {
				mult_modifier = {
					factor = 2
					trait = stressed
				}
				
				mult_modifier = {
					factor = 2
					trait = content
				}
				
				character_event = { id = soh.11144 } # Generic neutral experiment - unspecific
			}
			
			25 = {
				trigger = {
					OR = {
						self_experiment_ingredient_is_sleep_inducing_trigger = yes
						self_experiment_ingredient_is_antipyretic_trigger = yes
						self_experiment_ingredient_is_perceived_healthy_trigger = yes
					}
					self_experiment_ingredient_is_unhealthy_trigger = no
					learning < 20
				}
				
				mult_modifier = {
					factor = 5
					trait = stressed
				}
				
				mult_modifier = {
					factor = 2
					trait = slothful
				}
				
				mult_modifier = {
					factor = 5
					trait = wroth
				}
				
				mult_modifier = {
					factor = 2
					trait = drunkard
				}
				
				character_event = { id = soh.11145 } # Generic bad experiment - healing
			}
			
			25 = {
				trigger = {
					learning < 20
				}
				
				mult_modifier = {
					factor = 5
					trait = stressed
				}
				
				mult_modifier = {
					factor = 2
					trait = slothful
				}
				
				mult_modifier = {
					factor = 5
					trait = wroth
				}
				
				mult_modifier = {
					factor = 2
					trait = drunkard
				}
				
				mult_modifier = {
					factor = 2
					self_experiment_ingredient_is_unhealthy_trigger = yes
					self_experiment_ingredient_is_ingredient_animal_part_trigger = no
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_crazy
				}
				
				character_event = { id = soh.11146 } # Generic bad experiment - poison
			}
			
			25 = {
				trigger = {
					learning < 20
				}
				
				mult_modifier = {
					factor = 5
					trait = stressed
				}
				
				mult_modifier = {
					factor = 2
					trait = slothful
				}
				
				mult_modifier = {
					factor = 5
					trait = wroth
				}
				
				mult_modifier = {
					factor = 2
					trait = drunkard
				}
				
				character_event = { id = soh.11147 } # Generic bad experiment - unspecific
			}
			50 = {
				trigger = {
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 2
					trait = diligent
				}
				
				mult_modifier = {
					factor = 2
					trait = patient
				}
				
				mult_modifier = {
					factor = 2
					trait = ambitious
				}
				
				character_event = { id = soh.11148 } # Stressing out over thorough experiment
			}
			
			25 = {
				trigger = {
					NOT = {
						trait = content
					}
				}
				
				mult_modifier = {
					factor = 2
					trait = ambitious
				}
				
				mult_modifier = {
					factor = 2
					trait = proud
				}
				
				mult_modifier = {
					factor = 2
					trait = envious
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_crazy
				}
				
				character_event = { id = soh.11149 } # Depressed by lack of discoveries
			}
			
			50 = {
				trigger = {
					self_experiment_ingredient_is_antipyretic_trigger = yes
					OR = {
						AND = {
							trait = fever
							has_character_flag = disease_not_serious
						}
						trait = ill
					}
					OR = {
						NOT = {
							has_character_flag = self_experiment_safe
						}
						AND = {
							has_character_flag = self_experiment_ingredient_ingredient_herb1
							has_character_flag = hibiscus_fever
						}
						AND = {
							has_character_flag = self_experiment_ingredient_ingredient_herb2
							has_character_flag = ginger_root_fever
						}
						AND = {
							has_character_flag = self_experiment_ingredient_ingredient_herb4
							has_character_flag = lemon_grass_fever
						}
						AND = {
							has_character_flag = self_experiment_ingredient_ingredient_herb5
							has_character_flag = nettles_fever
						}
						AND = {
							has_character_flag = self_experiment_ingredient_ingredient_herb8
							has_character_flag = violet_fever
						}
						AND = {
							has_character_flag = self_experiment_ingredient_ingredient_herb13
							has_character_flag = broadleaf_plantain_fever
						}
						AND = {
							has_character_flag = self_experiment_ingredient_ingredient_metal_exotic6
							has_character_flag = gold_fever
						}
					}
				}
				
				mult_modifier = {
					factor = 5
					OR = {
						AND = {
							has_character_flag = self_experiment_ingredient_ingredient_herb1
							has_character_flag = hibiscus_fever
						}
						AND = {
							has_character_flag = self_experiment_ingredient_ingredient_herb2
							has_character_flag = ginger_root_fever
						}
						AND = {
							has_character_flag = self_experiment_ingredient_ingredient_herb4
							has_character_flag = lemon_grass_fever
						}
						AND = {
							has_character_flag = self_experiment_ingredient_ingredient_herb5
							has_character_flag = nettles_fever
						}
						AND = {
							has_character_flag = self_experiment_ingredient_ingredient_herb8
							has_character_flag = violet_fever
						}
						AND = {
							has_character_flag = self_experiment_ingredient_ingredient_herb13
							has_character_flag = broadleaf_plantain_fever
						}
						AND = {
							has_character_flag = self_experiment_ingredient_ingredient_metal_exotic6
							has_character_flag = gold_fever
						}
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 2
					learning >= 15
				}
				
				mult_modifier = {
					factor = 2
					learning >= 20
				}
				
				trigger_switch = {
					on_trigger = has_character_flag
					
					 self_experiment_ingredient_ingredient_herb1 = { set_character_flag = hibiscus_fever }
					 self_experiment_ingredient_ingredient_herb2 = { set_character_flag = ginger_root_fever }
					 self_experiment_ingredient_ingredient_herb4 = { set_character_flag = lemon_grass_fever }
					 self_experiment_ingredient_ingredient_herb5 = { set_character_flag = nettles_fever }
					 self_experiment_ingredient_ingredient_herb8 = { set_character_flag = violet_fever }
					 self_experiment_ingredient_ingredient_herb13 = { set_character_flag = broadleaf_plantain_fever }
					 self_experiment_ingredient_ingredient_metal_exotic6 = { set_character_flag = gold_fever }
				}
				
				character_event = { id = soh.11150 } # Your fever is gone
			}
			
			50 = {
				trigger = {
					self_experiment_ingredient_is_sleep_inducing_trigger = yes
				}
				
				
				mult_modifier = {
					factor = 0.2
					has_character_flag = self_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				character_event = { id = soh.11151 } # You are feeling sleepy
			}
			
			50 = {
				trigger = {
					NOT = {
						has_character_flag = self_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				character_event = { id = soh.11152 } # High on fumes
			}
			
			50 = {
				trigger = {
					NOT = {
						has_character_flag = self_experiment_safe
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 2
					self_experiment_ingredient_is_ingredient_animal_part_trigger = yes
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				character_event = { id = soh.11153 } # Nausea
			}
			
			# Specific ingredients - not every ingredient has something
			50 = {
				trigger = {
					trait = stressed
					has_character_flag = self_experiment_ingredient_ingredient_herb1
					OR = {
						NOT = {
							has_character_flag = self_experiment_safe
						}
						has_character_flag = hibiscus_tea_stressed
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = hibiscus_tea_stressed
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 2
					learning >= 15
				}
				
				mult_modifier = {
					factor = 2
					learning >= 20
				}
				
				set_character_flag = hibiscus_tea_stressed
				
				character_event = { id = soh.11154 } # Hibiscus tea makes you less stressed
			}
			
			1 = {
				trigger = {
					is_pregnant = yes
					NOT = {
						trait = pregnancy_finishing
					}
					has_character_flag = self_experiment_ingredient_ingredient_herb1
					NOR = {
						has_character_flag = self_experiment_safe
						has_character_flag = hibiscus_miscarriage
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = hibiscus_miscarriage
				
				character_event = { id = soh.11155 } # Miscarriage due to Hibiscus
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_herb2
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = ginger_root_diarrhea
						}
						has_character_flag = self_experiment_risky
						has_character_flag = self_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				set_character_flag = ginger_root_diarrhea
				
				character_event = { id = soh.11156 } # Ginger Root causes diarrhea
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_herb3
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						NOT = {
							has_character_flag = mandrake_breathing_difficulties
						}
						has_character_flag = self_experiment_risky
						has_character_flag = self_experiment_crazy
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = mandrake_breathing_difficulties
				
				character_event = { id = soh.11157 } # Mandrake causes breathing difficulties
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_herb3
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = mandrake_vomiting
						}
						has_character_flag = self_experiment_risky
						has_character_flag = self_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = mandrake_vomiting
				
				character_event = { id = soh.11158 } # Mandrake causes vomiting
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_herb3
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = mandrake_diarrhea
						}
						has_character_flag = self_experiment_risky
						has_character_flag = self_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = mandrake_diarrhea
				
				character_event = { id = soh.11159 } # Mandrake causes diarrhea
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_herb3
					NOT = {
						has_character_flag = self_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_crazy
				}
				
				character_event = { id = soh.11160 } # Mandrake causes hallucinations
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_herb3
					NOT = {
						has_character_flag = self_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				character_event = { id = soh.11161 } # Mandrake causes blurred vision
			}
			
			50 = {
				trigger = {
					trait = stressed
					has_character_flag = self_experiment_ingredient_ingredient_herb4
					OR = {
						NOT = {
							has_character_flag = self_experiment_safe
						}
						has_character_flag = lemon_grass_tea_stressed
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lemon_grass_tea_stressed
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 2
					learning >= 15
				}
				
				mult_modifier = {
					factor = 2
					learning >= 20
				}
				
				set_character_flag = lemon_grass_tea_stressed
				
				character_event = { id = soh.11162 } # Lemon Grass tea makes you less stressed
			}
			
			50 = {
				trigger = {
					trait = infection
					has_character_flag = self_experiment_ingredient_ingredient_herb4
					OR = {
						NOT = {
							has_character_flag = self_experiment_safe
						}
						has_character_flag = lemon_grass_infection
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = lemon_grass_infection
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 2
					learning >= 15
				}
				
				mult_modifier = {
					factor = 2
					learning >= 20
				}
				
				set_character_flag = lemon_grass_infection
				
				character_event = { id = soh.11163 } # Lemon Grass helps with infection
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_herb5
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					learning < 10
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				character_event = { id = soh.11164 } # Nettles irritate skin
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_herb6
					OR = {
						NOT = {
							has_character_flag = self_experiment_safe
						}
						has_character_flag = wormwood_hangover
					}
					OR = {
						trait = drunkard
						has_character_modifier = epic_hangover
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = wormwood_hangover
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 2
					learning >= 15
				}
				
				mult_modifier = {
					factor = 2
					learning >= 20
				}
				
				character_event = { id = soh.11165 } # Wormwood cures hangover
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_herb6
					OR = {
						NOT = {
							has_character_flag = self_experiment_safe
						}
						has_character_flag = wormwood_sleep
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 2
					learning >= 15
				}
				
				mult_modifier = {
					factor = 2
					learning >= 20
				}
				
				set_character_flag = wormwood_sleep
				
				character_event = { id = soh.11166 } # Wormwood helps you sleep better
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_herb7
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = valerian_headache
						}
						has_character_flag = self_experiment_risky
						has_character_flag = self_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = valerian_headache
				
				character_event = { id = soh.11167 } # Valerian causes headache
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_herb7
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = valerian_diarrhea
						}
						has_character_flag = self_experiment_risky
						has_character_flag = self_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = valerian_diarrhea
				
				character_event = { id = soh.11168 } # Valerian causes diarrhea
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_herb9
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				character_event = { id = soh.11169 } # Yarrow irritates skin
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_herb9
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = yarrow_vomiting
						}
						has_character_flag = self_experiment_risky
						has_character_flag = self_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = yarrow_vomiting
				
				character_event = { id = soh.11170 } # Yarrow causes vomiting
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_herb9
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = yarrow_diarrhea
						}
						has_character_flag = self_experiment_risky
						has_character_flag = self_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = yarrow_diarrhea
				
				character_event = { id = soh.11171 } # Yarrow causes diarrhea
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_herb10
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					learning < 10
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				character_event = { id = soh.11172 } # Ivy irritate skin
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_herb15
					NOT = {
						has_character_flag = self_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_crazy
				}
				
				character_event = { id = soh.11173 } # Foxglove causes hallucinations
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_herb15
					NOT = {
						has_character_flag = self_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				character_event = { id = soh.11174 } # Foxglove causes blurred vision
			}
			
			50 = {
				trigger = {
					self_experiment_ingredient_is_ingredient_herb_trigger = yes
					NOT = {
						has_character_flag = self_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 5
					trait = hedonist
				}
				
				mult_modifier = {
					factor = 2
					trait = mystic
				}
				
				mult_modifier = {
					factor = 2
					trait = lunatic
				}
				
				character_event = { id = soh.11175 } # High on herbs
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_animal3
					NOT = {
						has_game_rule = {
							name = supernatural_events
							value = off
						}
					}
					has_dlc = "Reapers"
					NOR = {
						trait = one_eyed
						trait = blinded
					}
				}
				
				mult_modifier = {
					factor = 2
					trait = lunatic
				}
				
				mult_modifier = {
					factor = 2
					trait = possessed
				}
				
				character_event = { id = soh.11176 } # Human eye?
			}
			
			50 = {
				trigger = {
					self_experiment_ingredient_is_ingredient_animal_part_trigger = yes
					any_artifact = {
						is_ingredient_animal_part_trigger = yes
					}
				}
				
				mult_modifier = {
					factor = 2
					trait = gluttonous
				}
				
				mult_modifier = {
					factor = 2
					any_artifact = {
						count = 2
						is_ingredient_animal_part_trigger = yes
					}
				}
				
				character_event = { id = soh.11192 } # Feeling hungry?
			}
			
			1 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_metal_exotic1
					NOR = {
						has_character_flag = self_experiment_safe
						has_character_modifier = argyrosis
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_crazy
				}
				
				character_event = { id = soh.11198 } # Argyrosis
			}
			
			25 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_metal_exotic2
					is_weak_trigger = no
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = self_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11199 } # Mercury causes muscle weakness
			}
			
			25 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_metal_exotic2
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = self_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11200 } # Mercury causes headache
			}
			
			25 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_metal_exotic2
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = self_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11201 } # Mercury causes irritated skin
			}
			
			25 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_metal_exotic2
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = self_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11202 } # Mercury causes memory loss
			}
			
			25 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_metal_exotic2
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = self_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11203 } # Mercury causes anxiety/paranoia
			}
			
			25 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_metal_exotic2
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = self_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11204 } # Mercury causes blurred vision
			}
			
			25 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_metal_exotic2
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = self_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11205 } # Mercury causes trouble speaking
			}
			
			25 = {
				trigger = {
					is_pregnant = yes
					OR = {
						has_character_flag = self_experiment_ingredient_ingredient_metal_exotic2
						has_character_flag = self_experiment_ingredient_ingredient_mineral_1
					}
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
					NOT = {
						has_character_flag = mercury_poisoning_children
					}
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = self_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				set_character_flag = mercury_poisoning_children
				
				character_event = { id = soh.11206 } # Mercury might interfere with your unborn children
			}
			
			25 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_metal_exotic2
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = self_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.25
				
				character_event = { id = soh.11207 } # Mercury causes general health issues
			}
			
			25 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_metal_exotic2
					NOT = {
						trait = lunatic
					}
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = self_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11208 } # Mercury causes insanity
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_metal_exotic4
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						NOT = {
							has_character_flag = aqua_fortis_explosive
						}
						has_character_flag = self_experiment_risky
						has_character_flag = self_experiment_crazy
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = aqua_fortis_explosive
				
				character_event = { id = soh.11209 } # Aqua Fortis explodes
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_metal_exotic5
					NOT = {
						has_character_flag = self_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				character_event = { id = soh.11210 } # Smelling bad
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_metal_exotic5
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				character_event = { id = soh.11211 } # Brimstone irritates skin
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_metal_exotic5
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = brimstone_diarrhea
						}
						has_character_flag = self_experiment_risky
						has_character_flag = self_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				set_character_flag = brimstone_diarrhea
				
				character_event = { id = soh.11212 } # Brimstone causes diarrhea
			}
			
			10 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_metal_exotic5
					NOT = {
						has_character_flag = self_experiment_safe
					}
					NOR = {
						trait = one_eyed
						trait = blinded
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				character_event = { id = soh.11213 } # Loss of an eye
			}
			
			1 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_metal_exotic5
					NOT = {
						has_character_flag = self_experiment_safe
					}
					NOT = {
						trait = disfigured
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				character_event = { id = soh.11214 } # Disfigured
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_metal_exotic7
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = copper_vomiting
						}
						has_character_flag = self_experiment_risky
						has_character_flag = self_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = copper_vomiting
				
				character_event = { id = soh.11215 } # Copper causes vomiting
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_metal_exotic9
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = tin_vomiting
						}
						has_character_flag = self_experiment_risky
						has_character_flag = self_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = tin_vomiting
				
				character_event = { id = soh.11216 } # Tin causes vomiting
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_metal_exotic9
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = tin_diarrhea
						}
						has_character_flag = self_experiment_risky
						has_character_flag = self_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = tin_diarrhea
				
				character_event = { id = soh.11217 } # Tin causes diarrhea
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_metal_exotic10
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = self_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = lead_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = lead_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = lead_poisoning
						value >= 10
					}
				}
				
				change_variable = {
					which = lead_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11218 } # Lead causes abdominal pain
			}
			
			1 = {
				trigger = {
					is_pregnant = yes
					NOT = {
						trait = pregnancy_finishing
					}
					has_character_flag = self_experiment_ingredient_ingredient_metal_exotic10
					NOR = {
						has_character_flag = self_experiment_safe
						has_character_flag = lead_miscarriage
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = lead_miscarriage
				
				character_event = { id = soh.11219 } # Miscarriage due to Lead
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_metal_exotic10
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = self_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = lead_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = lead_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = lead_poisoning
						value >= 10
					}
				}
				
				change_variable = {
					which = lead_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11220 } # Lead causes memory loss
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_metal_exotic10
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = self_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = lead_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = lead_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = lead_poisoning
						value >= 10
					}
				}
				
				change_variable = {
					which = lead_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11221 } # Lead causes hallucinations
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_metal_exotic10
					NOT = {
						trait = celibate
					}
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = self_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = lead_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = lead_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = lead_poisoning
						value >= 10
					}
				}
				
				change_variable = {
					which = lead_poisoning
					value = 1
				}
				
				health = -0.1
				
				fertility = -0.1
				
				character_event = { id = soh.11222 } # Lead causes loss of libido
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_metal_exotic10
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = self_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = lead_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = lead_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = lead_poisoning
						value >= 10
					}
				}
				
				change_variable = {
					which = lead_poisoning
					value = 1
				}
				
				character_event = { id = soh.11223 } # Lead causes nausea
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_metal_exotic10
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = self_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = lead_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = lead_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = lead_poisoning
						value >= 10
					}
				}
				
				change_variable = {
					which = lead_poisoning
					value = 1
				}
				
				character_event = { id = soh.11224 } # Lead makes it hard to sleep
			}
			
			25 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_metal_exotic10
					is_weak_trigger = no
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = self_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = lead_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = lead_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = lead_poisoning
						value >= 10
					}
				}
				
				change_variable = {
					which = lead_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11225 } # Lead causes muscle weakness
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_metal_exotic10
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = self_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = lead_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = lead_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = lead_poisoning
						value >= 10
					}
				}
				
				change_variable = {
					which = lead_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11226 } # Lead causes diarrhea
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_metal_exotic10
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = self_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = lead_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = lead_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = lead_poisoning
						value >= 10
					}
				}
				
				change_variable = {
					which = lead_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11227 } # Lead causes weight loss
			}
			
			50 = {
				trigger = {
					has_character_flag = ingredient_metal_exotic11
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = antimony_headache
						}
						has_character_flag = self_experiment_risky
						has_character_flag = self_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = antimony_headache
				
				character_event = { id = soh.11228 } # Antimony causes headache
			}
			
			50 = {
				trigger = {
					has_character_flag = ingredient_metal_exotic11
					NOT = {
						has_character_flag = self_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				character_event = { id = soh.11229 } # Antimony causes depression
			}
			
			50 = {
				trigger = {
					has_character_flag = ingredient_metal_exotic11
					NOT = {
						has_character_flag = self_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				character_event = { id = soh.11230 } # Antimony causes dizziness
			}
			
			50 = {
				trigger = {
					has_character_flag = ingredient_metal_exotic11
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = antimony_vomiting
						}
						has_character_flag = self_experiment_risky
						has_character_flag = self_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = antimony_vomiting
				
				character_event = { id = soh.11231 } # Antimony causes vomiting
			}
			
			50 = {
				trigger = {
					has_character_flag = ingredient_metal_exotic12
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				character_event = { id = soh.11232 } # Cobalt irritates skin
			}
			
			50 = {
				trigger = {
					has_character_flag = ingredient_metal_exotic14
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				character_event = { id = soh.11233 } # Nickel irritates skin
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_misc_powder_1
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = blue_vitriol_vomiting
						}
						has_character_flag = self_experiment_risky
						has_character_flag = self_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = blue_vitriol_vomiting
				
				character_event = { id = soh.11234 } # Blue Vitriol causes vomiting
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_misc_powder_1
					NOT = {
						has_character_flag = self_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				character_event = { id = soh.11235 } # Smelling bad
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_misc_powder_1
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				character_event = { id = soh.11236 } # Blue Vitriol irritates skin
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_misc_powder_1
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = blue_vitriol_diarrhea
						}
						has_character_flag = self_experiment_risky
						has_character_flag = self_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = blue_vitriol_diarrhea
				
				character_event = { id = soh.11237 } # Blue Vitriol causes diarrhea
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_misc_powder_2
					NOT = {
						has_character_flag = self_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				character_event = { id = soh.11238 } # Smelling bad
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_misc_powder_2
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				character_event = { id = soh.11239 } # Green Vitriol irritates skin
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_misc_powder_2
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = green_vitriol_diarrhea
						}
						has_character_flag = self_experiment_risky
						has_character_flag = self_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = green_vitriol_diarrhea
				
				character_event = { id = soh.11240 } # Green Vitriol causes diarrhea
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_misc_powder_3
					NOT = {
						has_character_flag = self_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				character_event = { id = soh.11241 } # Smelling bad
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_misc_powder_3
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				character_event = { id = soh.11242 } # Red Vitriol irritates skin
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_misc_powder_3
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = red_vitriol_diarrhea
						}
						has_character_flag = self_experiment_risky
						has_character_flag = self_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = red_vitriol_diarrhea
				
				character_event = { id = soh.11243 } # Red Vitriol causes diarrhea
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_misc_powder_4
					NOT = {
						has_character_flag = self_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				character_event = { id = soh.11244 } # Smelling bad
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_misc_powder_4
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				character_event = { id = soh.11245 } # White Vitriol irritates skin
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_misc_powder_4
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = white_vitriol_diarrhea
						}
						has_character_flag = self_experiment_risky
						has_character_flag = self_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = white_vitriol_diarrhea
				
				character_event = { id = soh.11246 } # White Vitriol causes diarrhea
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_misc_powder_4
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = white_vitriol_vomiting
						}
						has_character_flag = self_experiment_risky
						has_character_flag = self_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = white_vitriol_vomiting
				
				character_event = { id = soh.11247 } # White Vitriol causes vomiting
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_misc_powder_4
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = white_vitriol_cramps
						}
						has_character_flag = self_experiment_risky
						has_character_flag = self_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = white_vitriol_cramps
				
				character_event = { id = soh.11248 } # White Vitriol causes cramps
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_misc_powder_5
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						NOT = {
							has_character_flag = saltpeter_explosive
						}
						has_character_flag = self_experiment_risky
						has_character_flag = self_experiment_crazy
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				set_character_flag = saltpeter_explosive
				
				character_event = { id = soh.11249 } # Saltpeter explodes
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_mineral_1
					NOT = {
						has_character_flag = self_experiment_safe
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				character_event = { id = soh.11250 } # Smelling bad
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_mineral_1
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = cinnabar_diarrhea
						}
						has_character_flag = self_experiment_risky
						has_character_flag = self_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				set_character_flag = cinnabar_diarrhea
				
				character_event = { id = soh.11251 } # Cinnabar causes diarrhea
			}
			
			10 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_mineral_1
					NOT = {
						has_character_flag = self_experiment_safe
					}
					NOR = {
						trait = one_eyed
						trait = blinded
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				character_event = { id = soh.11252 } # Loss of an eye
			}
			
			1 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_mineral_1
					NOT = {
						has_character_flag = self_experiment_safe
					}
					NOT = {
						trait = disfigured
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				character_event = { id = soh.11253 } # Disfigured
			}
			
			25 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_mineral_1
					is_weak_trigger = no
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = self_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11254 } # Cinnabar causes muscle weakness
			}
			
			25 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_mineral_1
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = self_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11255 } # Cinnabar causes headache
			}
			
			25 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_mineral_1
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = self_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11256 } # Cinnabar causes irritated skin
			}
			
			25 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_mineral_1
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = self_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11257 } # Cinnabar causes memory loss
			}
			
			25 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_mineral_1
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = self_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11258 } # Cinnabar causes anxiety/paranoia
			}
			
			25 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_mineral_1
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = self_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11259 } # Cinnabar causes blurred vision
			}
			
			25 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_mineral_1
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = self_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11260 } # Cinnabar causes trouble speaking
			}
			
			25 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_mineral_1
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = self_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.25
				
				character_event = { id = soh.11261 } # Cinnabar causes general health issues
			}
			
			25 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_mineral_1
					NOT = {
						trait = lunatic
					}
					check_variable = {
						which = mercury_poisoning
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 0.1
					has_character_flag = self_experiment_safe
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_thorough
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 15
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 20
				}
				
				mult_modifier = {
					factor = 0.5
					learning >= 25
				}
				
				mult_modifier = {
					factor = 5
					check_variable = {
						which = mercury_poisoning
						value >= 5
					}
				}
				
				mult_modifier = {
					factor = 10
					check_variable = {
						which = mercury_poisoning
						value >= 10
					}
				}
				
				change_variable = {
					which = mercury_poisoning
					value = 1
				}
				
				health = -0.1
				
				character_event = { id = soh.11262 } # Cinnabar causes insanity
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_mineral_2
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = realgar_abdominal_pain
						}
						has_character_flag = self_experiment_risky
						has_character_flag = self_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				set_character_flag = realgar_abdominal_pain
				
				character_event = { id = soh.11263 } # Realgar causes abdominal pain
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_mineral_2
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = realgar_diarrhea
						}
						has_character_flag = self_experiment_risky
						has_character_flag = self_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				set_character_flag = realgar_diarrhea
				
				character_event = { id = soh.11264 } # Realgar causes diarrhea
			}
			
			50 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_mineral_2
					NOT = {
						has_character_flag = self_experiment_safe
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					OR = {
						NOT = {
							has_character_flag = realgar_vomiting
						}
						has_character_flag = self_experiment_risky
						has_character_flag = self_experiment_crazy
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = self_experiment_risky
				}
				
				set_character_flag = realgar_vomiting
				
				character_event = { id = soh.11265 } # Realgar causes vomiting
			}
			
			1 = {
				trigger = {
					has_character_flag = self_experiment_ingredient_ingredient_mineral_2
					practical_age >= 50
					OR = {
						has_character_flag = self_experiment_risky
						has_character_flag = self_experiment_crazy
					}
				}
				
				mult_modifier = {
					factor = 5
					has_character_flag = self_experiment_risky
				}
				
				mult_modifier = {
					factor = 2
					has_character_modifier = cheap_laboratory
				}
				
				character_event = { id = soh.11266 } # Realgar makes you Incapable
			}
		}
	}
}

# Generic good experiment - healing
character_event = {
	id = soh.11139
	desc = EVTDESC_SOH_11139
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11139 # Great!
		
		alchemist_good_outcome_healing_self_experiment_effect = yes
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Generic good experiment - poison
character_event = {
	id = soh.11140
	desc = EVTDESC_SOH_11140
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11140 # Great!
		
		alchemist_good_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 5
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Generic good experiment - unspecific
character_event = {
	id = soh.11141
	desc = EVTDESC_SOH_11141
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11141 # Great!
		
		alchemist_good_outcome_random_self_experiment_effect = yes
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Generic neutral experiment - healing
character_event = {
	id = soh.11142
	desc = EVTDESC_SOH_11142
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11142 # Acceptable!
		
		alchemist_average_outcome_healing_self_experiment_effect = yes
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Generic neutral experiment - poison
character_event = {
	id = soh.11143
	desc = EVTDESC_SOH_11143
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11143 # Acceptable!
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Generic neutral experiment - unspecific
character_event = {
	id = soh.11144
	desc = EVTDESC_SOH_11144
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11144 # Acceptable!
		
		alchemist_average_outcome_random_self_experiment_effect = yes
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Generic bad experiment - healing
character_event = {
	id = soh.11145
	desc = EVTDESC_SOH_11145
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11145 # Useless!
		
		alchemist_bad_outcome_healing_self_experiment_effect = yes
		
		random = {
			chance = 5
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Generic bad experiment - poison
character_event = {
	id = soh.11146
	desc = EVTDESC_SOH_11146
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11146 # Useless!
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Generic bad experiment - unspecific
character_event = {
	id = soh.11147
	desc = EVTDESC_SOH_11147
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11147 # Useless!
		
		alchemist_bad_outcome_random_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Stressing out over thorough experiment
character_event = {
	id = soh.11148
	desc = EVTDESC_SOH_11148
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11148 # I must be missing something!
		
		add_trait_stressed_effect = yes
		
		alchemist_bad_outcome_random_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Depressed by lack of discoveries
character_event = {
	id = soh.11149
	desc = EVTDESC_SOH_11149
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11149 # I am a failure!
		
		add_trait_depressed_effect = yes
		
		alchemist_bad_outcome_random_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Tea lowers fever
character_event = {
	id = soh.11150
	desc = EVTDESC_SOH_11150
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11150 # Success!
		
		remove_trait = fever
		
		alchemist_good_outcome_healing_self_experiment_effect = yes
		
		if = {
			limit = {
				has_symptom_trigger = no
			}
			clr_character_flag = disease_not_serious
		}

		hidden_effect = {
			remove_character_modifier = symptom_treatment_1
			remove_character_modifier = symptom_treatment_2
			remove_character_modifier = symptom_treatment_3
			remove_character_modifier = symptom_treatment_4
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Tea makes you sleepy
character_event = {
	id = soh.11151
	desc = EVTDESC_SOH_11151
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11151 # So... tired...
		
		alchemist_average_outcome_random_self_experiment_effect = yes
		
		add_character_modifier = {
			name = drowsy_alchemist
			years = 2
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# High on fumes
character_event = {
	id = soh.11152
	desc = EVTDESC_SOH_11152
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11152 # This is awesome!
		
		alchemist_average_outcome_random_self_experiment_effect = yes
		
		add_character_modifier = {
			name = alchemist_hallucinations
			years = 24
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Nausea
character_event = {
	id = soh.11153
	desc = EVTDESC_SOH_11153
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11153 # Something is wrong...
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = malaise
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11012 days =  10 random = 30 } }
				33 = { character_event = { id = RIP.11012 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11012 months = 6 random = 60 } }
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Hibiscus - tea makes you less stressed
character_event = {
	id = soh.11154
	desc = EVTDESC_SOH_11154
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11154 # I feel like a new person!
		
		alchemist_good_outcome_healing_self_experiment_effect = yes
		
		remove_trait_stressed_effect = yes
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Hibiscus - miscarriage
character_event = {
	id = soh.11155
	desc = {
		text = EVTDESCA_SOH_11155
		trigger = {
			NOR = {
				trait = hard_pregnancy
				trait = pregnant
			}
		}
	}
	desc = {
		text = EVTDESCB_SOH_11155
		trigger = {
			OR = {
				trait = hard_pregnancy
				trait = pregnant
			}
		}
	}
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	immediate = {
		father_of_unborn = {
			save_event_target_as = father_of_child
		}
	}
	
	option = {
		trigger = {
			NOR = {
				trait = hard_pregnancy
				trait = pregnant
			}
		}
		
		name = EVTOPTA_SOH_11155 # I... was pregnant?
		
		cancel_pregnancy = yes
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
	
	option = {
		trigger = {
			trait = pregnant
			NOT = {
				trait = troubled_pregnancy
			}
		}
		
		name = EVTOPTB_SOH_11155 # My baby...
		
		remove_trait = hard_pregnancy
		remove_trait = pregnant
		
		cancel_pregnancy = yes
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
	
	option = {
		trigger = {
			OR = {
				trait = hard_pregnancy
				trait = troubled_pregnancy
			}
		}
		
		name = EVTOPTC_SOH_11155 # Perhaps for the best...
		
		remove_trait = hard_pregnancy
		remove_trait = pregnant
		
		cancel_pregnancy = yes
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Ginger Root - diarrhea
character_event = {
	id = soh.11156
	desc = EVTDESC_SOH_11156
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11156 # Something is wrong...
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = diarrhea
		
		character_event = {
			id = RIP.11004 # Remove diarrhea
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Mandrake - breathing difficulties
character_event = {
	id = soh.11157
	desc = EVTDESC_SOH_11157
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11157 # Can't... breathe...
		
		alchemist_good_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 5
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		add_character_modifier = {
			name = alchemist_breathing_troubles
			years = 2
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Mandrake - vomiting
character_event = {
	id = soh.11158
	desc = EVTDESC_SOH_11158
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11158 # Something is wrong...
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = vomiting
		
		character_event = {
			id = RIP.11005 # Remove vomiting
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Mandrake - diarrhea
character_event = {
	id = soh.11159
	desc = EVTDESC_SOH_11159
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11159 # Something is wrong...
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = diarrhea
		
		character_event = {
			id = RIP.11004 # Remove diarrhea
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Mandrake - hallucinations
character_event = {
	id = soh.11160
	desc = EVTDESC_SOH_11160
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11160 # What's that?
		
		alchemist_average_outcome_random_self_experiment_effect = yes
		
		random = {
			chance = 1
			add_trait_partially_paranoid_effect = yes
		}
		
		add_character_modifier = {
			name = alchemist_hallucinations
			years = 2
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Mandrake - blurred vision
character_event = {
	id = soh.11161
	desc = EVTDESC_SOH_11161
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11161 # What's that?
		
		alchemist_bad_outcome_random_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		random = {
			chance = 1
			add_trait_partially_paranoid_effect = yes
		}
		
		add_character_modifier = {
			name = alchemist_blurred_vision
			years = 2
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Lemon Grass - tea makes you less stressed
character_event = {
	id = soh.11162
	desc = EVTDESC_SOH_11162
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11162 # I feel like a new person!
		
		alchemist_good_outcome_healing_self_experiment_effect = yes
		
		remove_trait_stressed_effect = yes
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Lemon Grass - infection is gone
character_event = {
	id = soh.11163
	desc = EVTDESC_SOH_11163
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11163 # Excellent!
		
		alchemist_good_outcome_healing_self_experiment_effect = yes
		
		remove_trait = infection

		if = {
			limit = { trait = wounded }

			character_event = {
				id = 6081 # wound should heal soon after
				days = 14
				random = 30
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Nettles - irritated skin
character_event = {
	id = soh.11164
	desc = EVTDESC_SOH_11164
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11164 # I should have known better...
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		set_character_flag = disease_not_serious
		
		add_trait = rash
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11008 days = 10 random = 30 } }
				33 = { character_event = { id = RIP.11008 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11008 years = 1 random = 120 } }
			}
		}
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Wormwood - hangover is gone
character_event = {
	id = soh.11165
	desc = EVTDESC_SOH_11165
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11165 # Amazing!
		
		alchemist_good_outcome_healing_self_experiment_effect = yes
		
		remove_character_modifier = epic_hangover
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Wormwood - sleeping better
character_event = {
	id = soh.11166
	desc = EVTDESC_SOH_11166
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11166 # I feel like a new person!
		
		alchemist_good_outcome_healing_self_experiment_effect = yes
		
		add_character_modifier = {
			name = alchemist_good_sleep
			years = 2
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Valerian - headache
character_event = {
	id = soh.11167
	desc = EVTDESC_SOH_11167
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11167 # Something is wrong...
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = headache
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11009 days =  10 random =  30 } }
				33 = { character_event = { id = RIP.11009 days =  90 random =  45 } }
				33 = { character_event = { id = RIP.11009 days = 700 random = 100 } }
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Valerian - diarrhea
character_event = {
	id = soh.11168
	desc = EVTDESC_SOH_11168
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11168 # Something is wrong...
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = diarrhea
		
		character_event = {
			id = RIP.11004 # Remove diarrhea
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Yarrow - irritated skin
character_event = {
	id = soh.11169
	desc = EVTDESC_SOH_11169
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11169 # I should have known better...
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		set_character_flag = disease_not_serious
		
		add_trait = rash
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11008 days = 10 random = 30 } }
				33 = { character_event = { id = RIP.11008 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11008 years = 1 random = 120 } }
			}
		}
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Yarrow - vomiting
character_event = {
	id = soh.11170
	desc = EVTDESC_SOH_11170
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11170 # Something is wrong...
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = vomiting
		
		character_event = {
			id = RIP.11005 # Remove vomiting
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Yarrow - diarrhea
character_event = {
	id = soh.11171
	desc = EVTDESC_SOH_11171
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11171 # Something is wrong...
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = diarrhea
		
		character_event = {
			id = RIP.11004 # Remove diarrhea
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Ivy - irritated skin
character_event = {
	id = soh.11172
	desc = EVTDESC_SOH_11172
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11172 # I should have known better...
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		set_character_flag = disease_not_serious
		
		add_trait = rash
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11008 days = 10 random = 30 } }
				33 = { character_event = { id = RIP.11008 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11008 years = 1 random = 120 } }
			}
		}
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Foxglove - hallucinations
character_event = {
	id = soh.11173
	desc = EVTDESC_SOH_11173
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11173 # What's that?
		
		alchemist_average_outcome_random_self_experiment_effect = yes
		
		random = {
			chance = 1
			add_trait_partially_paranoid_effect = yes
		}
		
		add_character_modifier = {
			name = alchemist_hallucinations
			years = 2
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Foxglove - blurred vision
character_event = {
	id = soh.11174
	desc = EVTDESC_SOH_11174
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11174 # What's that?
		
		alchemist_bad_outcome_random_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		random = {
			chance = 1
			add_trait_partially_paranoid_effect = yes
		}
		
		add_character_modifier = {
			name = alchemist_blurred_vision
			years = 2
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# High on herbs
character_event = {
	id = soh.11175
	desc = EVTDESC_SOH_11175
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11175 # This is awesome!
		
		alchemist_average_outcome_random_self_experiment_effect = yes
		
		add_character_modifier = {
			name = alchemist_hallucinations
			years = 24
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Eyeball looks somewhat human
character_event = {
	id = soh.11176
	desc = EVTDESC_SOH_11176
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOT = {
				trait = possessed
			}
		}
		
		name = EVTOPTA_SOH_11176 # I will throw it away!
		
		hidden_tooltip = {
			random_list = {
				95 = {
					character_event = { id = soh.11177 days = 1 } # Threw the eye away
				}
				5 = {
					character_event = { id = soh.11178 days = 1 } # Failed to throw the eye way
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = trusting
				}
			}
		}
	}
	
	option = {
		trigger = {
			NOT = {
				trait = possessed
			}
		}
		
		name = EVTOPTB_SOH_11176 # I must be imagining things...
		
		random = {
			chance = 1
			add_trait_possessed_effect = yes
		}
		
		character_event = { id = soh.11179 days = 3 } # Eyeball is watching you
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = wroth
				}
			}
		}
	}
	
	option = {
		trigger = {
			trait = possessed
		}
		
		name = EVTOPTC_SOH_11176 # HE SEES ME!
		
		character_event = { id = soh.11179 days = 3 } # Eyeball is watching you
	}
}

# Successfully threw it away
character_event = {
	id = soh.11177
	desc = EVTDESC_SOH_11177
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11177 # Back to work...
		
		alchemist_average_outcome_random_self_experiment_effect = yes
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Failed to throw it away
character_event = {
	id = soh.11178
	desc = EVTDESC_SOH_11178
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11178 # I can't throw it away yet...
		
		random = {
			chance = 1
			add_trait_possessed_effect = yes
		}
		
		character_event = { id = soh.11179 days = 2 } # Eyeball is watching you
	}
}

# Eyeball seems to be watching you
character_event = {
	id = soh.11179
	desc = EVTDESC_SOH_11179
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOT = {
				trait = possessed
			}
		}
		
		name = EVTOPTA_SOH_11179 # I will look away!
		
		hidden_tooltip = {
			random_list = {
				90 = {
					character_event = { id = soh.11180 days = 1 } # Did not meet its gaze
				}
				10 = {
					character_event = { id = soh.11181 days = 1 } # Failed to look away
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = trusting
				}
			}
		}
	}
	
	option = {
		trigger = {
			NOT = {
				trait = possessed
			}
		}
		
		name = EVTOPTB_SOH_11179 # I must be imagining things...
		
		random = {
			chance = 2
			add_trait_possessed_effect = yes
		}
		
		character_event = { id = soh.11182 days = 3 } # Eyeball burns with inner fire
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = wroth
				}
			}
		}
	}
	
	option = {
		trigger = {
			trait = possessed
		}
		
		name = EVTOPTC_SOH_11179 # HE SEES ME!
		
		character_event = { id = soh.11182 days = 3 } # Eyeball burns with inner fire
	}
}

# Did not meet its gaze
character_event = {
	id = soh.11180
	desc = EVTDESC_SOH_11180
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11180 # Back to work...
		
		alchemist_average_outcome_random_self_experiment_effect = yes
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Met its gaze
character_event = {
	id = soh.11181
	desc = EVTDESC_SOH_11181
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11181 # I see...
		
		random = {
			chance = 2
			add_trait_possessed_effect = yes
		}
		
		character_event = { id = soh.11182 days = 2 } # Eyeball is watching you
	}
}

# Eyeball burns with inner fire
character_event = {
	id = soh.11182
	desc = EVTDESC_SOH_11182
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOT = {
				trait = possessed
			}
		}
		
		name = EVTOPTA_SOH_11182 # I must destroy this evil thing!
		
		hidden_tooltip = {
			random_list = {
				75 = {
					character_event = { id = soh.11183 days = 1 } # Smashed the eye
				}
				25 = {
					character_event = { id = soh.11184 days = 1 } # Failed to smash the eye
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = trusting
				}
			}
		}
	}
	
	option = {
		trigger = {
			NOT = {
				trait = possessed
			}
		}
		
		name = EVTOPTB_SOH_11182 # I must be imagining things...
		
		random = {
			chance = 5
			add_trait_possessed_effect = yes
		}
		
		character_event = { id = soh.11185 days = 3 } # Eye surgery
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = wroth
				}
			}
		}
	}
	
	option = {
		trigger = {
			trait = possessed
		}
		
		name = EVTOPTC_SOH_11182 # HE SEES ME!
		
		character_event = { id = soh.11185 days = 3 } # Eye surgery
	}
}

# Smashed the eyeball
character_event = {
	id = soh.11183
	desc = EVTDESC_SOH_11183
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11183 # That felt weird...
		
		alchemist_bad_outcome_random_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Failed to smash the eyeball
character_event = {
	id = soh.11184
	desc = EVTDESC_SOH_11184
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11184 # I must not destroy it...
		
		random = {
			chance = 5
			add_trait_possessed_effect = yes
		}
		
		character_event = { id = soh.11185 days = 2 } # Eyeball is watching you
	}
}

# Eye surgery
character_event = {
	id = soh.11185
	desc = EVTDESC_SOH_11185
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOT = {
				trait = possessed
			}
		}
		
		name = EVTOPTA_SOH_11185 # This is wrong!
		
		hidden_tooltip = {
			random_list = {
				50 = {
					character_event = { id = soh.11186 days = 1 } # Last moment success
				}
				50 = {
					character_event = { id = soh.11187 days = 1 } # Failure
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = trusting
				}
			}
		}
	}
	
	option = {
		trigger = {
			NOT = {
				trait = possessed
			}
		}
		
		name = EVTOPTB_SOH_11185 # Yes...
		
		add_trait_possessed_effect = yes
		
		character_event = { id = soh.11187 days = 1 } # Eye surgery
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = wroth
				}
			}
		}
	}
	
	option = {
		trigger = {
			trait = possessed
		}
		
		name = EVTOPTC_SOH_11185 # FOR HIM I DO THIS!
		
		character_event = { id = soh.11187 days = 1 } # Eye surgery
	}
}

# Stopped yourself at the last moment
character_event = {
	id = soh.11186
	desc = EVTDESC_SOH_11186
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11186 # Close one...
		
		add_trait_wounded_effect = yes
		
		alchemist_bad_outcome_random_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Failed to stop yourself
character_event = {
	id = soh.11187
	desc = EVTDESC_SOH_11187
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11187 # YES! YES!
		
		add_trait_wounded_effect = yes
		
		if = {
			limit = {
				NOT = {
					trait = possessed
				}
			}
			add_trait_possessed_effect = yes
		}
		
		add_trait = one_eyed
		
		add_character_modifier = {
			name = evil_eye
			duration = -1
		}
		
		# TIANXIATODO: Cleanup of modifier if healed somehow
		
		alchemist_bad_outcome_random_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# on_death handling on the Eye
character_event = {
	id = soh.11188
	hide_window = yes
	
	is_triggered_only = yes # on_death
	
	trigger = {
		has_character_modifier = evil_eye
	}
	
	immediate = {
		host = {
			random_courtier = {
				limit = {
					is_adult = yes
					is_inaccessible_or_incapable_trigger = no
					NOR = {
						trait = one_eyed
						trait = blinded
					}
				}
				
				preferred_limit = {
					is_close_relative = ROOT
					trait = possessed
				}
				
				preferred_limit = {
					trait = possessed
				}
				
				character_event = { id = soh.11189 days = 1 } # An eye; how curious!
			}
		}
	}
}

# Someone found the Eye
character_event = {
	id = soh.11189
	desc = EVTDESC_SOH_11189
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOT = {
				trait = possessed
			}
		}
		
		name = EVTOPTA_SOH_11189 # This is wrong!
		
		hidden_tooltip = {
			random_list = {
				50 = {
					character_event = { id = soh.11190 days = 1 } # Success
				}
				50 = {
					character_event = { id = soh.11191 days = 1 } # Failure
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = trusting
				}
			}
		}
	}
	
	option = {
		trigger = {
			NOT = {
				trait = possessed
			}
		}
		
		name = EVTOPTB_SOH_11189 # Yes...
		
		add_trait_possessed_effect = yes
		
		character_event = { id = soh.11191 days = 1 } # Eye surgery
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = wroth
				}
			}
		}
	}
	
	option = {
		trigger = {
			trait = possessed
		}
		
		name = EVTOPTC_SOH_11189 # FOR HIM I DO THIS!
		
		character_event = { id = soh.11191 days = 1 } # Eye surgery
	}
}

# Resisted the Eye
character_event = {
	id = soh.11190
	desc = EVTDESC_SOH_11190
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11190 # Close one...
		
		add_trait_wounded_effect = yes
	}
}

# Resistance is futile!
character_event = {
	id = soh.11191
	desc = EVTDESC_SOH_11191
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11191 # YES! YES!
		
		add_trait_wounded_effect = yes
		
		if = {
			limit = {
				NOT = {
					trait = possessed
				}
			}
			add_trait_possessed_effect = yes
		}
		
		add_trait = one_eyed
		
		add_character_modifier = {
			name = evil_eye
			duration = -1
		}
		
		# TIANXIATODO: Cleanup of modifier if healed somehow
	}
}

# Animal parts might be edible?
character_event = {
	id = soh.11192
	desc = EVTDESC_SOH_11192
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11192 # I think not!
		
		alchemist_bad_outcome_random_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = gluttonous
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11192 # Well, maybe...
		
		hidden_tooltip = {
			random_list = {
				10 = {
					mult_modifier = {
						factor = 5
						trait = temperate
					}
					
					character_event = { id = soh.11193 days = 2 } # Felt okay
				}
				
				25 = {
					mult_modifier = {
						factor = 2
						trait = gluttonous
					}
					
					character_event = { id = soh.11194 days = 2 } # Felt a bit queasy
				}
				
				25 = {
					mult_modifier = {
						factor = 2
						trait = gluttonous
					}
					
					character_event = { id = soh.11195 days = 2 } # Ill/Food Poisoning
				}
				
				25 = {
					trigger = {
						has_dlc = "Reapers"
						OR = {
							has_symptom_trigger = no
							has_character_flag = disease_not_serious
						}
					}
					
					mult_modifier = {
						factor = 2
						trait = gluttonous
					}
					
					character_event = { id = soh.11196 days = 2 } # Vomiting
				}
				
				25 = {
					trigger = {
						has_dlc = "Reapers"
						OR = {
							has_symptom_trigger = no
							has_character_flag = disease_not_serious
						}
					}
					
					mult_modifier = {
						factor = 2
						trait = gluttonous
					}
					
					character_event = { id = soh.11197 days = 2 } # Diarrhea
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = temperate
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = proud
			}
		}
	}
}

# Ate animal part - feel okay
character_event = {
	id = soh.11193
	desc = EVTDESC_SOH_11193
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11193 # That wasn't so bad...
		
		random = {
			chance = 25
			add_trait_partially_gluttonous_effect = yes
		}
		
		alchemist_average_outcome_random_self_experiment_effect = yes
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Ate animal part - feel slightly queasy
character_event = {
	id = soh.11194
	desc = EVTDESC_SOH_11194
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11194 # That wasn't so good...
		
		random = {
			chance = 25
			add_trait_partially_temperate_effect = yes
		}
		
		alchemist_bad_outcome_random_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Ate animal part - Ill/Food Poisoning
character_event = {
	id = soh.11195
	desc = EVTDESC_SOH_11195
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11195 # I should not have eaten that...
		
		random = {
			chance = 25
			add_trait_partially_temperate_effect = yes
		}
		
		if = {
			limit = { has_dlc = "Reapers" }
			give_food_poisoning_effect = yes
			custom_tooltip = { text = EVTTOOLTIP_MNM_1812_ILL }
		}
		
		else = {
			add_trait_ill_effect = yes
		}
		
		alchemist_bad_outcome_random_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Ate animal part - vomiting
character_event = {
	id = soh.11196
	desc = EVTDESC_SOH_11196
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11196 # I should not have eaten that...
		
		random = {
			chance = 25
			add_trait_partially_temperate_effect = yes
		}
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = vomiting
		
		character_event = {
			id = RIP.11005 # Remove vomiting
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Ate animal part - diarrhea
character_event = {
	id = soh.11197
	desc = EVTDESC_SOH_11197
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11197 # I should not have eaten that...
		
		random = {
			chance = 25
			add_trait_partially_temperate_effect = yes
		}
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = diarrhea
		
		character_event = {
			id = RIP.11004 # Remove diarrhea
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Silver - argyrosis
character_event = {
	id = soh.11198
	desc = EVTDESC_SOH_11198
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11198 # I'm... blue?
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		add_character_modifier = {
			name = argyrosis
			duration = -1
		}
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Mercury - muscle weakness
character_event = {
	id = soh.11199
	desc = EVTDESC_SOH_11199
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11199 # I don't feel so good...
		
		add_trait_partially_frail_effect = yes
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Mercury - headache
character_event = {
	id = soh.11200
	desc = EVTDESC_SOH_11200
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11200 # Something is wrong...
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = headache
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11009 days =  10 random =  30 } }
				33 = { character_event = { id = RIP.11009 days =  90 random =  45 } }
				33 = { character_event = { id = RIP.11009 days = 700 random = 100 } }
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Mercury - irritated skin
character_event = {
	id = soh.11201
	desc = EVTDESC_SOH_11201
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11201 # Something is wrong...
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		set_character_flag = disease_not_serious
		
		add_trait = rash
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11008 days = 10 random = 30 } }
				33 = { character_event = { id = RIP.11008 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11008 years = 1 random = 120 } }
			}
		}
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Mercury - memory loss
character_event = {
	id = soh.11202
	desc = EVTDESC_SOH_11202
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11202 # What's going on...?
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		random_list = {
			20 = {
				change_diplomacy = -2
			}
			20 = {
				change_martial = -2
			}
			20 = {
				change_stewardship = -2
			}
			20 = {
				change_intrigue = -2
			}
			20 = {
				change_learning = -2
			}
		}
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Mercury - anxiety/paranoia
character_event = {
	id = soh.11203
	desc = EVTDESC_SOH_11203
	picture = GFX_evt_shadow
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11203 # They're after me!
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		add_trait_partially_paranoid_effect = yes
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Mercury - blurred vision
character_event = {
	id = soh.11204
	desc = EVTDESC_SOH_11204
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11204 # What's that?
		
		alchemist_bad_outcome_random_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		random = {
			chance = 1
			add_trait_partially_paranoid_effect = yes
		}
		
		add_character_modifier = {
			name = alchemist_blurred_vision
			years = 2
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Mercury - trouble speaking
character_event = {
	id = soh.11205
	desc = EVTDESC_SOH_11205
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11205 # Not right...
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		random = {
			chance = 50
			add_trait_partially_shy_effect = yes
		}
		
		add_character_modifier = {
			name = alchemist_speaking_wrong
			years = 2
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Mercury/Cinnabar - possibly not good for future children...
character_event = {
	id = soh.11206
	desc = {
		text = EVTDESCA_SOH_11206
		trigger = {
			NOR = {
				trait = hard_pregnancy
				trait = pregnant
				trait = troubled_pregnancy
				trait = pregnancy_finishing
			}
		}
	}
	desc = {
		text = EVTDESCB_SOH_11206
		trigger = {
			OR = {
				trait = hard_pregnancy
				trait = pregnant
				trait = troubled_pregnancy
				trait = pregnancy_finishing
			}
		}
	}
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOR = {
				trait = hard_pregnancy
				trait = pregnant
				trait = troubled_pregnancy
				trait = pregnancy_finishing
			}
		}
		
		name = EVTOPTA_SOH_11206 # And I think I might be...
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
	
	option = {
		trigger = {
			OR = {
				trait = hard_pregnancy
				trait = pregnant
				trait = troubled_pregnancy
				trait = pregnancy_finishing
			}
		}
		
		name = EVTOPTB_SOH_11206 # Not good...
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
	
	after = {
		set_character_flag = mercury_poisoning_children
	}
}

# Mercury - general health issues
character_event = {
	id = soh.11207
	desc = EVTDESC_SOH_11207
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11207 # I don't feel so good...
		
		alchemist_good_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 5
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Mercury - insanity
character_event = {
	id = soh.11208
	desc = EVTDESC_SOH_11208
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11208 # I will show them ALL!
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		add_trait_lunatic_effect = yes
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Aqua Fortis explodes
character_event = {
	id = soh.11209
	desc = EVTDESC_SOH_11209
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	immediate = {
		random_artifact = {
			limit = {
				has_artifact_flag = ingredient
			}
			
			save_event_target_as = target_artifact
		}
	}
	
	option = {
		name = EVTOPTA_SOH_11209 # Take cover!
		
		alchemist_bad_outcome_random_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		event_target:target_artifact = {
			unsafe_destroy_artifact = yes
		}
		
		random = {
			chance = 25
			add_trait_wounded_effect = yes
		}
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Brimstone makes you smell bad
character_event = {
	id = soh.11210
	desc = EVTDESC_SOH_11210
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11210 # Is that me...?
		
		alchemist_bad_outcome_random_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		add_trait_partially_uncouth_effect = yes
		
		add_character_modifier = {
			name = smelly_alchemist
			years = 2
		}
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Brimstone - irritated skin
character_event = {
	id = soh.11211
	desc = EVTDESC_SOH_11211
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11211 # Something is wrong...
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		set_character_flag = disease_not_serious
		
		add_trait = rash
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11008 days = 10 random = 30 } }
				33 = { character_event = { id = RIP.11008 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11008 years = 1 random = 120 } }
			}
		}
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Brimstone - diarrhea
character_event = {
	id = soh.11212
	desc = EVTDESC_SOH_11212
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11212 # Something is wrong...
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = diarrhea
		
		character_event = {
			id = RIP.11004 # Remove diarrhea
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Brimstone - loss of an eye
character_event = {
	id = soh.11213
	desc = EVTDESC_SOH_11213
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11213 # My eye!
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		add_trait = one_eyed
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Brimstone - disfigurement
character_event = {
	id = soh.11214
	desc = EVTDESC_SOH_11214
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11214 # My face!
		
		alchemist_good_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 5
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		add_trait = disfigured
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Copper - vomiting
character_event = {
	id = soh.11215
	desc = EVTDESC_SOH_11215
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11215 # Something is wrong...
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = vomiting
		
		character_event = {
			id = RIP.11005 # Remove vomiting
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Tin - vomiting
character_event = {
	id = soh.11216
	desc = EVTDESC_SOH_11216
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11216 # Something is wrong...
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = vomiting
		
		character_event = {
			id = RIP.11005 # Remove vomiting
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Tin - diarrhea
character_event = {
	id = soh.11217
	desc = EVTDESC_SOH_11217
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11217 # Something is wrong...
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = diarrhea
		
		character_event = {
			id = RIP.11004 # Remove diarrhea
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Lead - abdominal pain
character_event = {
	id = soh.11218
	desc = EVTDESC_SOH_11218
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11218 # Something is wrong...
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = abdominal_pain
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11010 days =  10 random = 30 } }
				33 = { character_event = { id = RIP.11010 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11010 months = 6 random = 60 } }
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Lead - miscarriage
character_event = {
	id = soh.11219
	desc = {
		text = EVTDESCA_SOH_11219
		trigger = {
			NOR = {
				trait = hard_pregnancy
				trait = pregnant
			}
		}
	}
	desc = {
		text = EVTDESCB_SOH_11219
		trigger = {
			OR = {
				trait = hard_pregnancy
				trait = pregnant
			}
		}
	}
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	immediate = {
		father_of_unborn = {
			save_event_target_as = father_of_child
		}
	}
	
	option = {
		trigger = {
			NOR = {
				trait = hard_pregnancy
				trait = pregnant
			}
		}
		
		name = EVTOPTA_SOH_11219 # I... was pregnant?
		
		cancel_pregnancy = yes
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
	
	option = {
		trigger = {
			trait = pregnant
			NOT = {
				trait = troubled_pregnancy
			}
		}
		
		name = EVTOPTB_SOH_11219 # My baby...
		
		remove_trait = hard_pregnancy
		remove_trait = pregnant
		
		cancel_pregnancy = yes
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
	
	option = {
		trigger = {
			trait = hard_pregnancy
		}
		
		name = EVTOPTC_SOH_11219 # Perhaps for the best...
		
		remove_trait = hard_pregnancy
		remove_trait = pregnant
		
		cancel_pregnancy = yes
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Lead - memory loss
character_event = {
	id = soh.11220
	desc = EVTDESC_SOH_11220
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11220 # What's going on...?
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		random_list = {
			20 = {
				change_diplomacy = -2
			}
			20 = {
				change_martial = -2
			}
			20 = {
				change_stewardship = -2
			}
			20 = {
				change_intrigue = -2
			}
			20 = {
				change_learning = -2
			}
		}
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Lead - hallucinations
character_event = {
	id = soh.11221
	desc = EVTDESC_SOH_11221
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11221 # What's that?
		
		alchemist_average_outcome_random_self_experiment_effect = yes
		
		random = {
			chance = 1
			add_trait_partially_paranoid_effect = yes
		}
		
		add_character_modifier = {
			name = alchemist_hallucinations
			years = 2
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Lead - lower libido
character_event = {
	id = soh.11222
	desc = EVTDESC_SOH_11222
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11222 # I'm not feeling it...
		
		alchemist_average_outcome_random_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_trait_partially_chaste_effect = yes
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Lead - nausea
character_event = {
	id = soh.11223
	desc = EVTDESC_SOH_11223
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11223 # Something is wrong...
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = malaise
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11012 days =  10 random = 30 } }
				33 = { character_event = { id = RIP.11012 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11012 months = 6 random = 60 } }
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Lead - trouble sleeping
character_event = {
	id = soh.11224
	desc = EVTDESC_SOH_11224
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11224 # So... tired...
		
		alchemist_average_outcome_random_self_experiment_effect = yes
		
		add_character_modifier = {
			name = drowsy_alchemist
			years = 2
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Lead - muscle weakness
character_event = {
	id = soh.11225
	desc = EVTDESC_SOH_11225
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11225 # I don't feel so good...
		
		add_trait_partially_frail_effect = yes
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Lead - diarrhea
character_event = {
	id = soh.11226
	desc = EVTDESC_SOH_11226
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11226 # Something is wrong...
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = diarrhea
		
		character_event = {
			id = RIP.11004 # Remove diarrhea
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Lead - weight loss
character_event = {
	id = soh.11227
	desc = EVTDESC_SOH_11227
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11227 # Something is wrong...
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		lose_weight_large_effect = yes
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Antimony - headache
character_event = {
	id = soh.11228
	desc = EVTDESC_SOH_11228
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11228 # Something is wrong...
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = headache
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11009 days =  10 random =  30 } }
				33 = { character_event = { id = RIP.11009 days =  90 random =  45 } }
				33 = { character_event = { id = RIP.11009 days = 700 random = 100 } }
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Antimony - depression
character_event = {
	id = soh.11229
	desc = EVTDESC_SOH_11229
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11229 # It's all pointless!
		
		alchemist_bad_outcome_random_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		add_trait_depressed_effect = yes
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Antimony - dizziness
character_event = {
	id = soh.11230
	desc = EVTDESC_SOH_11230
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11230 # I don't feel so good...
		
		alchemist_bad_outcome_random_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		add_character_modifier = {
			name = alchemist_dizzy
			years = 2
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Antimony - vomiting
character_event = {
	id = soh.11231
	desc = EVTDESC_SOH_11231
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11231 # Something is wrong...
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = vomiting
		
		character_event = {
			id = RIP.11005 # Remove vomiting
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Cobalt - irritated skin
character_event = {
	id = soh.11232
	desc = EVTDESC_SOH_11232
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11232 # Something is wrong...
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		set_character_flag = disease_not_serious
		
		add_trait = rash
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11008 days = 10 random = 30 } }
				33 = { character_event = { id = RIP.11008 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11008 years = 1 random = 120 } }
			}
		}
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Nickel - irritated skin
character_event = {
	id = soh.11233
	desc = EVTDESC_SOH_11233
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11233 # Something is wrong...
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		set_character_flag = disease_not_serious
		
		add_trait = rash
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11008 days = 10 random = 30 } }
				33 = { character_event = { id = RIP.11008 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11008 years = 1 random = 120 } }
			}
		}
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Blue Vitriol - vomiting
character_event = {
	id = soh.11234
	desc = EVTDESC_SOH_11234
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11234 # Something is wrong...
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = vomiting
		
		character_event = {
			id = RIP.11005 # Remove vomiting
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Blue Vitriol makes you smell bad
character_event = {
	id = soh.11235
	desc = EVTDESC_SOH_11235
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11235 # Is that me...?
		
		alchemist_bad_outcome_random_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		add_trait_partially_uncouth_effect = yes
		
		add_character_modifier = {
			name = smelly_alchemist
			years = 2
		}
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Blue Vitriol - irritated skin
character_event = {
	id = soh.11236
	desc = EVTDESC_SOH_11236
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11236 # Something is wrong...
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		set_character_flag = disease_not_serious
		
		add_trait = rash
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11008 days = 10 random = 30 } }
				33 = { character_event = { id = RIP.11008 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11008 years = 1 random = 120 } }
			}
		}
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Blue Vitriol - diarrhea
character_event = {
	id = soh.11237
	desc = EVTDESC_SOH_11237
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11237 # Something is wrong...
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = diarrhea
		
		character_event = {
			id = RIP.11004 # Remove diarrhea
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Gren Vitriol makes you smell bad
character_event = {
	id = soh.11238
	desc = EVTDESC_SOH_11238
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11238 # Is that me...?
		
		alchemist_bad_outcome_random_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		add_trait_partially_uncouth_effect = yes
		
		add_character_modifier = {
			name = smelly_alchemist
			years = 2
		}
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Gren Vitriol - irritated skin
character_event = {
	id = soh.11239
	desc = EVTDESC_SOH_11239
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11239 # Something is wrong...
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		set_character_flag = disease_not_serious
		
		add_trait = rash
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11008 days = 10 random = 30 } }
				33 = { character_event = { id = RIP.11008 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11008 years = 1 random = 120 } }
			}
		}
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Gren Vitriol - diarrhea
character_event = {
	id = soh.11240
	desc = EVTDESC_SOH_11240
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11240 # Something is wrong...
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = diarrhea
		
		character_event = {
			id = RIP.11004 # Remove diarrhea
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Red Vitriol makes you smell bad
character_event = {
	id = soh.11241
	desc = EVTDESC_SOH_11241
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11241 # Is that me...?
		
		alchemist_bad_outcome_random_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		add_trait_partially_uncouth_effect = yes
		
		add_character_modifier = {
			name = smelly_alchemist
			years = 2
		}
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Red Vitriol - irritated skin
character_event = {
	id = soh.11242
	desc = EVTDESC_SOH_11242
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11242 # Something is wrong...
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		set_character_flag = disease_not_serious
		
		add_trait = rash
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11008 days = 10 random = 30 } }
				33 = { character_event = { id = RIP.11008 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11008 years = 1 random = 120 } }
			}
		}
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Red Vitriol - diarrhea
character_event = {
	id = soh.11243
	desc = EVTDESC_SOH_11243
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11243 # Something is wrong...
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = diarrhea
		
		character_event = {
			id = RIP.11004 # Remove diarrhea
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# White Vitriol makes you smell bad
character_event = {
	id = soh.11244
	desc = EVTDESC_SOH_11244
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11244 # Is that me...?
		
		alchemist_bad_outcome_random_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		add_trait_partially_uncouth_effect = yes
		
		add_character_modifier = {
			name = smelly_alchemist
			years = 2
		}
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# White Vitriol - irritated skin
character_event = {
	id = soh.11245
	desc = EVTDESC_SOH_11245
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11245 # Something is wrong...
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		set_character_flag = disease_not_serious
		
		add_trait = rash
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11008 days = 10 random = 30 } }
				33 = { character_event = { id = RIP.11008 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11008 years = 1 random = 120 } }
			}
		}
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# White Vitriol - diarrhea
character_event = {
	id = soh.11246
	desc = EVTDESC_SOH_11246
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11246 # Something is wrong...
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = diarrhea
		
		character_event = {
			id = RIP.11004 # Remove diarrhea
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# White Vitriol - vomiting
character_event = {
	id = soh.11247
	desc = EVTDESC_SOH_11247
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11247 # Something is wrong...
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = vomiting
		
		character_event = {
			id = RIP.11005 # Remove vomiting
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# White Vitriol - cramps
character_event = {
	id = soh.11248
	desc = EVTDESC_SOH_11248
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11248 # Something is wrong...
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = cramps
		
		character_event = {
			id = RIP.11007 # Remove cramps
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Saltpeter explodes
character_event = {
	id = soh.11249
	desc = EVTDESC_SOH_11249
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	immediate = {
		random_artifact = {
			limit = {
				has_artifact_flag = ingredient
			}
			
			save_event_target_as = target_artifact
		}
	}
	
	option = {
		name = EVTOPTA_SOH_11249 # Take cover!
		
		alchemist_bad_outcome_random_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		event_target:target_artifact = {
			unsafe_destroy_artifact = yes
		}
		
		random = {
			chance = 25
			add_trait_wounded_effect = yes
		}
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Cinnabar makes you smell bad
character_event = {
	id = soh.11250
	desc = EVTDESC_SOH_11250
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11250 # Is that me...?
		
		alchemist_bad_outcome_random_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		add_trait_partially_uncouth_effect = yes
		
		add_character_modifier = {
			name = smelly_alchemist
			years = 2
		}
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Cinnabar - diarrhea
character_event = {
	id = soh.11251
	desc = EVTDESC_SOH_11251
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11251 # Something is wrong...
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = diarrhea
		
		character_event = {
			id = RIP.11004 # Remove diarrhea
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Cinnabar - loss of an eye
character_event = {
	id = soh.11252
	desc = EVTDESC_SOH_11252
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11252 # My eye!
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		add_trait = one_eyed
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Cinnabar - disfigurement
character_event = {
	id = soh.11253
	desc = EVTDESC_SOH_11253
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11253 # My face!
		
		alchemist_good_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 5
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		add_trait = disfigured
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Cinnabar - muscle weakness
character_event = {
	id = soh.11254
	desc = EVTDESC_SOH_11254
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11254 # I don't feel so good...
		
		add_trait_partially_frail_effect = yes
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Cinnabar - headache
character_event = {
	id = soh.11255
	desc = EVTDESC_SOH_11255
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11255 # Something is wrong...
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = headache
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11009 days =  10 random =  30 } }
				33 = { character_event = { id = RIP.11009 days =  90 random =  45 } }
				33 = { character_event = { id = RIP.11009 days = 700 random = 100 } }
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Cinnabar - irritated skin
character_event = {
	id = soh.11256
	desc = EVTDESC_SOH_11256
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11256 # Something is wrong...
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		set_character_flag = disease_not_serious
		
		add_trait = rash
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11008 days = 10 random = 30 } }
				33 = { character_event = { id = RIP.11008 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11008 years = 1 random = 120 } }
			}
		}
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Cinnabar - memory loss
character_event = {
	id = soh.11257
	desc = EVTDESC_SOH_11257
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11257 # What's going on...?
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		random_list = {
			20 = {
				change_diplomacy = -2
			}
			20 = {
				change_martial = -2
			}
			20 = {
				change_stewardship = -2
			}
			20 = {
				change_intrigue = -2
			}
			20 = {
				change_learning = -2
			}
		}
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Cinnabar - anxiety/paranoia
character_event = {
	id = soh.11258
	desc = EVTDESC_SOH_11258
	picture = GFX_evt_shadow
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11258 # They're after me!
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		add_trait_partially_paranoid_effect = yes
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Cinnabar - blurred vision
character_event = {
	id = soh.11259
	desc = EVTDESC_SOH_11259
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11259 # What's that?
		
		alchemist_bad_outcome_random_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		random = {
			chance = 1
			add_trait_partially_paranoid_effect = yes
		}
		
		add_character_modifier = {
			name = alchemist_blurred_vision
			years = 2
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Cinnabar - trouble speaking
character_event = {
	id = soh.11260
	desc = EVTDESC_SOH_11260
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11260 # Not right...
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		random = {
			chance = 50
			add_trait_partially_shy_effect = yes
		}
		
		add_character_modifier = {
			name = alchemist_speaking_wrong
			years = 2
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Cinnabar - general health issues
character_event = {
	id = soh.11261
	desc = EVTDESC_SOH_11261
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11261 # I don't feel so good...
		
		alchemist_good_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 5
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Cinnabar - insanity
character_event = {
	id = soh.11262
	desc = EVTDESC_SOH_11262
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11262 # I will show them ALL!
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		add_trait_lunatic_effect = yes
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Realgar - abdominal pain
character_event = {
	id = soh.11263
	desc = EVTDESC_SOH_11263
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11263 # Something is wrong...
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = abdominal_pain
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11010 days =  10 random = 30 } }
				33 = { character_event = { id = RIP.11010 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11010 months = 6 random = 60 } }
			}
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Realgar - diarrhea
character_event = {
	id = soh.11264
	desc = EVTDESC_SOH_11264
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11264 # Something is wrong...
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = diarrhea
		
		character_event = {
			id = RIP.11004 # Remove diarrhea
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Realgar - vomiting
character_event = {
	id = soh.11265
	desc = EVTDESC_SOH_11265
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11265 # Something is wrong...
		
		alchemist_average_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 10
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		set_character_flag = disease_not_serious
		
		add_trait = vomiting
		
		character_event = {
			id = RIP.11005 # Remove vomiting
			days = 10
			random = 30
		}
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11411 } # Quest completion
	}
}

# Realgar - become Incapable
character_event = {
	id = soh.11266
	desc = EVTDESC_SOH_11266
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11266 # What... is...
		
		alchemist_bad_outcome_poison_self_experiment_effect = yes
		
		random = {
			chance = 25
			add_character_modifier = {
				name = alchemist_bad_self_experimentation
				months = 24
			}
		}
		
		add_trait = incapable
		
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
		
		letter_event = { id = soh.11412 } # Quest failure
	}
}

# Cleanup
character_event = {
	id = soh.11267
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		has_character_flag = ongoing_self_experiment
	}
	
	immediate = {
		clr_character_flag = ongoing_self_experiment
		clr_character_flag = do_not_disturb
	}
}



### Prisoner Experimentation

# Prisoner approached with suggestion
character_event = {
	id = soh.11268
	desc = EVTDESC_SOH_11268
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11268 # Very well...
		
		event_target:experimenting_alchemist = {
			character_event = { id = soh.11270 } # Inform the alchemist
		}
		
		add_character_modifier = {
			name = prisoner_took_potion
			days = 9
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = craven
					trait = paranoid
				}
			}
			
			mult_modifier = {
				factor = 10
				trait = brave
			}
			
			mult_modifier = {
				factor = 2
				trait = trusting
			}
			
			mult_modifier = {
				factor = 5
				trait = ambitious
			}
			
			mult_modifier = {
				factor = 0.1
				has_opinion_modifier = {
					who = FROM
					modifier = altered_potion_deal
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11268 # Are you crazy?
		
		event_target:experimenting_alchemist = {
			character_event = { id = soh.11269 } # Inform the alchemist
			
			opinion = {
				who = ROOT
				modifier = opinion_refused_experimentation
				years = 5
			}
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 10
				trait = content
			}
		}
	}
}

# Prisoner refused - inform jailer
character_event = {
	id = soh.11269
	desc = EVTDESC_SOH_11269
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11269 # But it's for science!
		
		remove_character_modifier = recent_prisoner_experiment
			
		opinion = {
			who = FROM
			modifier = opinion_refused_experimentation
			months = 12
		}
	}
}

# Prisoner accepted - pick one or two ingredients
character_event = {
	id = soh.11270
	desc = EVTDESC_SOH_11270
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	trigger = {
		FROM = {
			prisoner = yes
			host = {
				character = ROOT
			}
		}
	}
	
	immediate = {
		select_random_hermetic_ingredient_prefer_new_effect = yes
		select_random_hermetic_ingredient_prefer_new_effect = yes
	}

	option = { # I will use ingredient 1
		name = EVTOPTA_SOH_11270

		calculate_health_level_of_ingredient_1_effect = yes
		save_ingredient_1_flag_prisoner_experiment_effect = yes
		destroy_selected_ingredient_1_effect = yes
	}

	option = { # I will use ingredient 2
		trigger = {
			has_selected_ingredient_2_trigger = yes
			selected_ingredient_1_and_2_are_same = no
		}
		
		name = EVTOPTB_SOH_11270

		calculate_health_level_of_ingredient_2_effect = yes
		save_ingredient_2_flag_prisoner_experiment_effect = yes
		destroy_selected_ingredient_2_effect = yes
	}

	option = { # I will use both!
		trigger = {
			has_selected_ingredient_2_trigger = yes
			selected_ingredient_1_and_2_are_same = no
		}
		
		name = EVTOPTC_SOH_11270

		calculate_health_level_of_ingredient_1_and_2_effect = yes
		save_ingredient_1_flag_prisoner_experiment_effect = yes
		save_ingredient_2_flag_prisoner_experiment_effect = yes
		destroy_selected_ingredient_1_and_2_effect = yes
	}


	after = {
		remove_selection_of_ingredients_effect = yes
		
		hidden_tooltip = {
			set_variable = {
				which = prisoner_potion_quality
				which = local_current_potion_quality
			}
			
			# Some randomness, but weighted towards being bad
			random_list = {
				5 = {
					change_variable = {
						which = prisoner_potion_quality
						value = 2
					}
				}
				10 = {
					change_variable = {
						which = prisoner_potion_quality
						value = 1
					}
				}
				50 = {
					# Nothing
				}
				20 = {
					change_variable = {
						which = prisoner_potion_quality
						value = -1
					}
				}
				10 = {
					change_variable = {
						which = prisoner_potion_quality
						value = -2
					}
				}
			}
			
			# Maybe we're not interested in being fair...
			random_list = {
				25 = {
					trigger = {
						OR = {
							is_friend = FROM
							is_lover = FROM
							AND = {
								is_close_relative = FROM
								NOT = {
									is_rival = FROM
								}
							}
						}
					}
					
					change_variable = {
						which = prisoner_potion_quality
						value = 1
					}
				}
				75 = {
					# Nothing
				}
				25 = {
					trigger = {
						is_rival = FROM
					}
					
					change_variable = {
						which = prisoner_potion_quality
						value = -1
					}
				}
			}
			
			# Alchemist's knowledge matters a bit
			if = {
				limit = {
					check_variable = {
						which = alchemist_poison_knowledge
						value >= 75
					}
				}
				
				change_variable = {
					which = prisoner_potion_quality
					value = -4
				}
			}
			
			else_if = {
				limit = {
					check_variable = {
						which = alchemist_poison_knowledge
						value >= 50
					}
				}
				
				change_variable = {
					which = prisoner_potion_quality
					value = -3
				}
			}
			
			else_if = {
				limit = {
					check_variable = {
						which = alchemist_poison_knowledge
						value >= 25
					}
				}
				
				change_variable = {
					which = prisoner_potion_quality
					value = -2
				}
			}
			
			if = {
				limit = {
					check_variable = {
						which = alchemist_healing_knowledge
						value >= 75
					}
				}
				
				change_variable = {
					which = prisoner_potion_quality
					value = 3
				}
			}
			
			else_if = {
				limit = {
					check_variable = {
						which = alchemist_healing_knowledge
						value >= 50
					}
				}
				
				change_variable = {
					which = prisoner_potion_quality
					value = 2
				}
			}
			
			else_if = {
				limit = {
					check_variable = {
						which = alchemist_healing_knowledge
						value >= 25
					}
				}
				
				change_variable = {
					which = prisoner_potion_quality
					value = 1
				}
			}
			
			clear_flags_with_prefix = prisoner_potion_selection_
			
			if = {
				limit = {
					check_variable = {
						which = prisoner_potion_quality
						value >= 3
					}
				}
				
				random_list = {
					25 = {
						set_character_flag = prisoner_potion_selection_1_great
						set_character_flag = prisoner_potion_selection_2_good
						set_character_flag = prisoner_potion_selection_3_good
						set_character_flag = prisoner_potion_selection_4_neutral
					}
					25 = {
						set_character_flag = prisoner_potion_selection_1_neutral
						set_character_flag = prisoner_potion_selection_2_great
						set_character_flag = prisoner_potion_selection_3_good
						set_character_flag = prisoner_potion_selection_4_good
					}
					25 = {
						set_character_flag = prisoner_potion_selection_1_good
						set_character_flag = prisoner_potion_selection_2_neutral
						set_character_flag = prisoner_potion_selection_3_great
						set_character_flag = prisoner_potion_selection_4_good
					}
					25 = {
						set_character_flag = prisoner_potion_selection_1_good
						set_character_flag = prisoner_potion_selection_2_good
						set_character_flag = prisoner_potion_selection_3_neutral
						set_character_flag = prisoner_potion_selection_4_great
					}
				}
			}
			
			else_if = {
				limit = {
					check_variable = {
						which = prisoner_potion_quality
						value >= 2
					}
				}
				
				random_list = {
					25 = {
						set_character_flag = prisoner_potion_selection_1_great
						set_character_flag = prisoner_potion_selection_2_good
						set_character_flag = prisoner_potion_selection_3_neutral
						set_character_flag = prisoner_potion_selection_4_neutral
					}
					25 = {
						set_character_flag = prisoner_potion_selection_1_neutral
						set_character_flag = prisoner_potion_selection_2_great
						set_character_flag = prisoner_potion_selection_3_good
						set_character_flag = prisoner_potion_selection_4_neutral
					}
					25 = {
						set_character_flag = prisoner_potion_selection_1_neutral
						set_character_flag = prisoner_potion_selection_2_neutral
						set_character_flag = prisoner_potion_selection_3_great
						set_character_flag = prisoner_potion_selection_4_good
					}
					25 = {
						set_character_flag = prisoner_potion_selection_1_good
						set_character_flag = prisoner_potion_selection_2_neutral
						set_character_flag = prisoner_potion_selection_3_neutral
						set_character_flag = prisoner_potion_selection_4_great
					}
				}
			}
			
			else_if = {
				limit = {
					check_variable = {
						which = prisoner_potion_quality
						value >= 1
					}
				}
				
				random_list = {
					25 = {
						set_character_flag = prisoner_potion_selection_1_good
						set_character_flag = prisoner_potion_selection_2_good
						set_character_flag = prisoner_potion_selection_3_neutral
						set_character_flag = prisoner_potion_selection_4_neutral
					}
					25 = {
						set_character_flag = prisoner_potion_selection_1_neutral
						set_character_flag = prisoner_potion_selection_2_good
						set_character_flag = prisoner_potion_selection_3_good
						set_character_flag = prisoner_potion_selection_4_neutral
					}
					25 = {
						set_character_flag = prisoner_potion_selection_1_neutral
						set_character_flag = prisoner_potion_selection_2_neutral
						set_character_flag = prisoner_potion_selection_3_good
						set_character_flag = prisoner_potion_selection_4_good
					}
					25 = {
						set_character_flag = prisoner_potion_selection_1_good
						set_character_flag = prisoner_potion_selection_2_neutral
						set_character_flag = prisoner_potion_selection_3_neutral
						set_character_flag = prisoner_potion_selection_4_good
					}
				}
			}
			
			else_if = {
				limit = {
					check_variable = {
						which = prisoner_potion_quality
						value >= 0
					}
				}
				
				random_list = {
					25 = {
						set_character_flag = prisoner_potion_selection_1_good
						set_character_flag = prisoner_potion_selection_2_neutral
						set_character_flag = prisoner_potion_selection_3_neutral
						set_character_flag = prisoner_potion_selection_4_bad
					}
					25 = {
						set_character_flag = prisoner_potion_selection_1_bad
						set_character_flag = prisoner_potion_selection_2_good
						set_character_flag = prisoner_potion_selection_3_neutral
						set_character_flag = prisoner_potion_selection_4_neutral
					}
					25 = {
						set_character_flag = prisoner_potion_selection_1_neutral
						set_character_flag = prisoner_potion_selection_2_bad
						set_character_flag = prisoner_potion_selection_3_good
						set_character_flag = prisoner_potion_selection_4_neutral
					}
					25 = {
						set_character_flag = prisoner_potion_selection_1_neutral
						set_character_flag = prisoner_potion_selection_2_neutral
						set_character_flag = prisoner_potion_selection_3_bad
						set_character_flag = prisoner_potion_selection_4_good
					}
				}
			}
			
			else_if = {
				limit = {
					check_variable = {
						which = prisoner_potion_quality
						value >= -1
					}
				}
				
				random_list = {
					25 = {
						set_character_flag = prisoner_potion_selection_1_neutral
						set_character_flag = prisoner_potion_selection_2_neutral
						set_character_flag = prisoner_potion_selection_3_bad
						set_character_flag = prisoner_potion_selection_4_bad
					}
					25 = {
						set_character_flag = prisoner_potion_selection_1_bad
						set_character_flag = prisoner_potion_selection_2_neutral
						set_character_flag = prisoner_potion_selection_3_neutral
						set_character_flag = prisoner_potion_selection_4_bad
					}
					25 = {
						set_character_flag = prisoner_potion_selection_1_bad
						set_character_flag = prisoner_potion_selection_2_bad
						set_character_flag = prisoner_potion_selection_3_neutral
						set_character_flag = prisoner_potion_selection_4_neutral
					}
					25 = {
						set_character_flag = prisoner_potion_selection_1_neutral
						set_character_flag = prisoner_potion_selection_2_bad
						set_character_flag = prisoner_potion_selection_3_bad
						set_character_flag = prisoner_potion_selection_4_neutral
					}
				}
			}
			
			else_if = {
				limit = {
					check_variable = {
						which = prisoner_potion_quality
						value >= -2
					}
				}
				
				random_list = {
					25 = {
						set_character_flag = prisoner_potion_selection_1_neutral
						set_character_flag = prisoner_potion_selection_2_neutral
						set_character_flag = prisoner_potion_selection_3_bad
						set_character_flag = prisoner_potion_selection_4_deadly
					}
					25 = {
						set_character_flag = prisoner_potion_selection_1_deadly
						set_character_flag = prisoner_potion_selection_2_neutral
						set_character_flag = prisoner_potion_selection_3_neutral
						set_character_flag = prisoner_potion_selection_4_bad
					}
					25 = {
						set_character_flag = prisoner_potion_selection_1_bad
						set_character_flag = prisoner_potion_selection_2_deadly
						set_character_flag = prisoner_potion_selection_3_neutral
						set_character_flag = prisoner_potion_selection_4_neutral
					}
					25 = {
						set_character_flag = prisoner_potion_selection_1_neutral
						set_character_flag = prisoner_potion_selection_2_bad
						set_character_flag = prisoner_potion_selection_3_deadly
						set_character_flag = prisoner_potion_selection_4_neutral
					}
				}
			}
			
			else = {
				random_list = {
					25 = {
						set_character_flag = prisoner_potion_selection_1_neutral
						set_character_flag = prisoner_potion_selection_2_bad
						set_character_flag = prisoner_potion_selection_3_bad
						set_character_flag = prisoner_potion_selection_4_deadly
					}
					25 = {
						set_character_flag = prisoner_potion_selection_1_deadly
						set_character_flag = prisoner_potion_selection_2_neutral
						set_character_flag = prisoner_potion_selection_3_bad
						set_character_flag = prisoner_potion_selection_4_bad
					}
					25 = {
						set_character_flag = prisoner_potion_selection_1_bad
						set_character_flag = prisoner_potion_selection_2_deadly
						set_character_flag = prisoner_potion_selection_3_neutral
						set_character_flag = prisoner_potion_selection_4_bad
					}
					25 = {
						set_character_flag = prisoner_potion_selection_1_bad
						set_character_flag = prisoner_potion_selection_2_bad
						set_character_flag = prisoner_potion_selection_3_deadly
						set_character_flag = prisoner_potion_selection_4_neutral
					}
				}
			}
			
			FROM = {
				character_event = { id = soh.11271 days = 1 } # Prisoner gets to pick a potion
			}
		}
	}
}

# Prisoner gets to pick a potion
character_event = {
	id = soh.11271
	desc = EVTDESC_SOH_11271
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	trigger = {
		prisoner = yes
		host = {
			character = FROM
		}
	}
	
	option = {
		name = EVTOPTA_SOH_11271 # I will pick the first potion!
		
		FROM = {
			set_character_flag = prisoner_potion_selection_picked_1
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11271 # I will pick the second potion!
		
		FROM = {
			set_character_flag = prisoner_potion_selection_picked_2
		}
	}
	
	option = {
		name = EVTOPTC_SOH_11271 # I will pick the third potion!
		
		FROM = {
			set_character_flag = prisoner_potion_selection_picked_3
		}
	}
	
	option = {
		name = EVTOPTD_SOH_11271 # I will pick the fourth potion!
		
		FROM = {
			set_character_flag = prisoner_potion_selection_picked_4
		}
	}
	
	after = {
		FROM = {
			character_event = { id = soh.11272 } # Inform the jailer
		}
	}
}

# Jailer - prisoner picked potion
character_event = {
	id = soh.11272
	desc = EVTDESC_SOH_11272
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11272 # Let the experiment begin!
		
		FROM = {
			character_event = { id = soh.11273 days = 7 } # Outcome
		}
	}
}

# Hidden event to determine outcome
character_event = {
	id = soh.11273
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		prisoner = yes
		host = {
			character = FROM
		}
	}
	
	immediate = {
		random_list = {
			100 = {
				trigger = {
					OR = {
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_1
							OR = {
								has_character_flag = prisoner_potion_selection_1_great
								has_character_flag = prisoner_potion_selection_1_good
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_2
							OR = {
								has_character_flag = prisoner_potion_selection_2_great
								has_character_flag = prisoner_potion_selection_2_good
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_3
							OR = {
								has_character_flag = prisoner_potion_selection_3_great
								has_character_flag = prisoner_potion_selection_3_good
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_4
							OR = {
								has_character_flag = prisoner_potion_selection_4_great
								has_character_flag = prisoner_potion_selection_4_good
							}
						}
					}
				}
				
				mult_modifier = {
					factor = 0.25
					OR = {
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_1
							has_character_flag = prisoner_potion_selection_1_good
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_2
							has_character_flag = prisoner_potion_selection_2_good
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_3
							has_character_flag = prisoner_potion_selection_3_good
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_4
							has_character_flag = prisoner_potion_selection_4_good
						}
					}
				}
				
				character_event = { id = soh.11274 } # Feeling a lot better
			}
			
			100 = {
				trigger = {
					OR = {
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_1
							OR = {
								has_character_flag = prisoner_potion_selection_1_great
								has_character_flag = prisoner_potion_selection_1_good
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_2
							OR = {
								has_character_flag = prisoner_potion_selection_2_great
								has_character_flag = prisoner_potion_selection_2_good
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_3
							OR = {
								has_character_flag = prisoner_potion_selection_3_great
								has_character_flag = prisoner_potion_selection_3_good
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_4
							OR = {
								has_character_flag = prisoner_potion_selection_4_great
								has_character_flag = prisoner_potion_selection_4_good
							}
						}
					}
				}
				
				character_event = { id = soh.11276 } # Feeling a bit better
			}
			
			100 = {
				trigger = {
					OR = {
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_1
							NOT = {
								has_character_flag = prisoner_potion_selection_1_deadly
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_2
							NOT = {
								has_character_flag = prisoner_potion_selection_2_deadly
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_3
							NOT = {
								has_character_flag = prisoner_potion_selection_3_deadly
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_4
							NOT = {
								has_character_flag = prisoner_potion_selection_4_deadly
							}
						}
					}
				}
				
				mult_modifier = {
					factor = 0.1
					OR = {
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_1
							has_character_flag = prisoner_potion_selection_1_great
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_2
							has_character_flag = prisoner_potion_selection_2_great
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_3
							has_character_flag = prisoner_potion_selection_3_great
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_4
							has_character_flag = prisoner_potion_selection_4_great
						}
					}
				}
				
				character_event = { id = soh.11278 } # Feeling a bit queasy
			}
			
			100 = {
				trigger = {
					OR = {
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_1
							NOR = {
								has_character_flag = prisoner_potion_selection_1_great
								has_character_flag = prisoner_potion_selection_1_deadly
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_2
							NOR = {
								has_character_flag = prisoner_potion_selection_2_great
								has_character_flag = prisoner_potion_selection_2_deadly
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_3
							NOR = {
								has_character_flag = prisoner_potion_selection_3_great
								has_character_flag = prisoner_potion_selection_3_deadly
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_4
							NOR = {
								has_character_flag = prisoner_potion_selection_4_great
								has_character_flag = prisoner_potion_selection_1_deadly
							}
						}
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 0.25
					OR = {
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_1
							has_character_flag = prisoner_potion_selection_1_good
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_2
							has_character_flag = prisoner_potion_selection_2_good
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_3
							has_character_flag = prisoner_potion_selection_3_good
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_4
							has_character_flag = prisoner_potion_selection_4_good
						}
					}
				}
				
				character_event = { id = soh.11280 } # Vomiting
			}
			
			100 = {
				trigger = {
					OR = {
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_1
							NOR = {
								has_character_flag = prisoner_potion_selection_1_great
								has_character_flag = prisoner_potion_selection_1_deadly
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_2
							NOR = {
								has_character_flag = prisoner_potion_selection_2_great
								has_character_flag = prisoner_potion_selection_2_deadly
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_3
							NOR = {
								has_character_flag = prisoner_potion_selection_3_great
								has_character_flag = prisoner_potion_selection_3_deadly
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_4
							NOR = {
								has_character_flag = prisoner_potion_selection_4_great
								has_character_flag = prisoner_potion_selection_1_deadly
							}
						}
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 0.25
					OR = {
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_1
							has_character_flag = prisoner_potion_selection_1_good
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_2
							has_character_flag = prisoner_potion_selection_2_good
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_3
							has_character_flag = prisoner_potion_selection_3_good
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_4
							has_character_flag = prisoner_potion_selection_4_good
						}
					}
				}
				
				character_event = { id = soh.11282 } # Diarrhea
			}
			
			100 = {
				trigger = {
					OR = {
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_1
							NOR = {
								has_character_flag = prisoner_potion_selection_1_great
								has_character_flag = prisoner_potion_selection_1_deadly
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_2
							NOR = {
								has_character_flag = prisoner_potion_selection_2_great
								has_character_flag = prisoner_potion_selection_2_deadly
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_3
							NOR = {
								has_character_flag = prisoner_potion_selection_3_great
								has_character_flag = prisoner_potion_selection_3_deadly
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_4
							NOR = {
								has_character_flag = prisoner_potion_selection_4_great
								has_character_flag = prisoner_potion_selection_1_deadly
							}
						}
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 0.25
					OR = {
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_1
							has_character_flag = prisoner_potion_selection_1_good
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_2
							has_character_flag = prisoner_potion_selection_2_good
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_3
							has_character_flag = prisoner_potion_selection_3_good
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_4
							has_character_flag = prisoner_potion_selection_4_good
						}
					}
				}
				
				character_event = { id = soh.11284 } # Abdominal pain
			}
			
			100 = {
				trigger = {
					OR = {
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_1
							NOR = {
								has_character_flag = prisoner_potion_selection_1_great
								has_character_flag = prisoner_potion_selection_1_deadly
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_2
							NOR = {
								has_character_flag = prisoner_potion_selection_2_great
								has_character_flag = prisoner_potion_selection_2_deadly
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_3
							NOR = {
								has_character_flag = prisoner_potion_selection_3_great
								has_character_flag = prisoner_potion_selection_3_deadly
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_4
							NOR = {
								has_character_flag = prisoner_potion_selection_4_great
								has_character_flag = prisoner_potion_selection_1_deadly
							}
						}
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 0.25
					OR = {
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_1
							has_character_flag = prisoner_potion_selection_1_good
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_2
							has_character_flag = prisoner_potion_selection_2_good
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_3
							has_character_flag = prisoner_potion_selection_3_good
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_4
							has_character_flag = prisoner_potion_selection_4_good
						}
					}
				}
				
				character_event = { id = soh.11286 } # Cramps
			}
			
			100 = {
				trigger = {
					OR = {
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_1
							NOR = {
								has_character_flag = prisoner_potion_selection_1_great
								has_character_flag = prisoner_potion_selection_1_deadly
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_2
							NOR = {
								has_character_flag = prisoner_potion_selection_2_great
								has_character_flag = prisoner_potion_selection_2_deadly
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_3
							NOR = {
								has_character_flag = prisoner_potion_selection_3_great
								has_character_flag = prisoner_potion_selection_3_deadly
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_4
							NOR = {
								has_character_flag = prisoner_potion_selection_4_great
								has_character_flag = prisoner_potion_selection_1_deadly
							}
						}
					}
					OR = {
						has_symptom_trigger = no
						has_character_flag = disease_not_serious
					}
					has_dlc = "Reapers"
				}
				
				mult_modifier = {
					factor = 0.25
					OR = {
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_1
							has_character_flag = prisoner_potion_selection_1_good
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_2
							has_character_flag = prisoner_potion_selection_2_good
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_3
							has_character_flag = prisoner_potion_selection_3_good
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_4
							has_character_flag = prisoner_potion_selection_4_good
						}
					}
				}
				
				character_event = { id = soh.11288 } # Headache
			}
			
			100 = {
				trigger = {
					OR = {
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_1
							NOR = {
								has_character_flag = prisoner_potion_selection_1_great
								has_character_flag = prisoner_potion_selection_1_deadly
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_2
							NOR = {
								has_character_flag = prisoner_potion_selection_2_great
								has_character_flag = prisoner_potion_selection_2_deadly
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_3
							NOR = {
								has_character_flag = prisoner_potion_selection_3_great
								has_character_flag = prisoner_potion_selection_3_deadly
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_4
							NOR = {
								has_character_flag = prisoner_potion_selection_4_great
								has_character_flag = prisoner_potion_selection_1_deadly
							}
						}
					}
				}
				
				mult_modifier = {
					factor = 0.25
					OR = {
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_1
							has_character_flag = prisoner_potion_selection_1_good
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_2
							has_character_flag = prisoner_potion_selection_2_good
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_3
							has_character_flag = prisoner_potion_selection_3_good
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_4
							has_character_flag = prisoner_potion_selection_4_good
						}
					}
				}
				
				character_event = { id = soh.11290 } # Smelling weirdly
			}
			
			100 = {
				trigger = {
					OR = {
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_1
							NOR = {
								has_character_flag = prisoner_potion_selection_1_great
								has_character_flag = prisoner_potion_selection_1_good
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_2
							NOR = {
								has_character_flag = prisoner_potion_selection_2_great
								has_character_flag = prisoner_potion_selection_2_good
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_3
							NOR = {
								has_character_flag = prisoner_potion_selection_3_great
								has_character_flag = prisoner_potion_selection_3_good
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_4
							NOR = {
								has_character_flag = prisoner_potion_selection_4_great
								has_character_flag = prisoner_potion_selection_4_good
							}
						}
					}
				}
				
				mult_modifier = {
					factor = 0.25
					OR = {
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_1
							has_character_flag = prisoner_potion_selection_1_deadly
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_2
							has_character_flag = prisoner_potion_selection_2_deadly
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_3
							has_character_flag = prisoner_potion_selection_3_deadly
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_4
							has_character_flag = prisoner_potion_selection_4_deadly
						}
					}
				}
				
				character_event = { id = soh.11292 } # Feeling poorly
			}
			
			100 = {
				trigger = {
					OR = {
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_1
							NOR = {
								has_character_flag = prisoner_potion_selection_1_great
								has_character_flag = prisoner_potion_selection_1_good
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_2
							NOR = {
								has_character_flag = prisoner_potion_selection_2_great
								has_character_flag = prisoner_potion_selection_2_good
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_3
							NOR = {
								has_character_flag = prisoner_potion_selection_3_great
								has_character_flag = prisoner_potion_selection_3_good
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_4
							NOR = {
								has_character_flag = prisoner_potion_selection_4_great
								has_character_flag = prisoner_potion_selection_4_good
							}
						}
					}
				}
				
				mult_modifier = {
					factor = 0.25
					OR = {
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_1
							has_character_flag = prisoner_potion_selection_1_neutral
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_2
							has_character_flag = prisoner_potion_selection_2_neutral
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_3
							has_character_flag = prisoner_potion_selection_3_neutral
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_4
							has_character_flag = prisoner_potion_selection_4_neutral
						}
					}
				}
				
				character_event = { id = soh.11294 } # Feeling very poorly
			}
			
			100 = {
				trigger = {
					OR = {
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_1
							OR = {
								has_character_flag = prisoner_potion_selection_1_bad
								has_character_flag = prisoner_potion_selection_1_deadly
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_2
							OR = {
								has_character_flag = prisoner_potion_selection_2_bad
								has_character_flag = prisoner_potion_selection_2_deadly
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_3
							OR = {
								has_character_flag = prisoner_potion_selection_3_bad
								has_character_flag = prisoner_potion_selection_3_deadly
							}
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_4
							OR = {
								has_character_flag = prisoner_potion_selection_4_bad
								has_character_flag = prisoner_potion_selection_4_deadly
							}
						}
					}
				}
				
				mult_modifier = {
					factor = 0.25
					OR = {
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_1
							has_character_flag = prisoner_potion_selection_1_bad
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_2
							has_character_flag = prisoner_potion_selection_2_bad
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_3
							has_character_flag = prisoner_potion_selection_3_bad
						}
						FROM = {
							has_character_flag = prisoner_potion_selection_picked_4
							has_character_flag = prisoner_potion_selection_4_bad
						}
					}
				}
				
				character_event = { id = soh.11296 } # Died
			}
		}
	}
}

# Outcome - prisoner is feeling a lot better than before
character_event = {
	id = soh.11274
	desc = EVTDESC_SOH_11274
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11274 # I feel amazing!
		
		add_character_modifier = {
			name = prisoner_great_potion
			months = 24
		}
		
		event_target:experimenting_alchemist = {
			character_event = { id = soh.11275 } # Inform the alchemist
		}
	}
}

# Inform jailer - prisoner is feeling a lot better than before
character_event = {
	id = soh.11275
	desc = EVTDESC_SOH_11275
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11275 # That was not my hypothesis...
		
		alchemist_good_outcome_healing_prisoner_experiment_effect = yes
		
		letter_event = { id = soh.11418 } # Quest completion
		
		FROM = {
			remove_character_modifier = prisoner_took_potion
			prisoner = no
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = deceitful
					trait = arbitrary
					trait = cruel
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = deceitful
			}
			
			mult_modifier = {
				factor = 0.1
				trait = arbitrary
			}
			
			mult_modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11275 # I have altered the deal...
		
		alchemist_good_outcome_healing_prisoner_experiment_effect = yes
		
		letter_event = { id = soh.11418 } # Quest completion
		
		custom_tooltip = {
			text = this_is_tyranny

			hidden_effect = {
				any_realm_character = {
					opinion = {
						name = opinion_tyrant
						who = ROOT
						years = 5
					}
				}
			}
		}
		
		FROM = {
			character_event = { id = soh.11298 } # Inform the prisoner
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = honest
					trait = just
					trait = kind
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = honest
			}
			
			mult_modifier = {
				factor = 0.1
				trait = just
			}
			
			mult_modifier = {
				factor = 0.1
				trait = kind
			}
		}
	}
}

# Outcome - prisoner is feeling a bit better than before
character_event = {
	id = soh.11276
	desc = EVTDESC_SOH_11276
	picture = GFX_evt_experiments_failed
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11276 # I feel better!
		
		add_character_modifier = {
			name = prisoner_good_potion
			months = 24
		}
		
		event_target:experimenting_alchemist = {
			character_event = { id = soh.11277 } # Inform the alchemist
		}
	}
}

# Inform jailer - prisoner is feeling a bit better than before
character_event = {
	id = soh.11277
	desc = EVTDESC_SOH_11277
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11277 # A possible outlier...
		
		alchemist_average_outcome_healing_prisoner_experiment_effect = yes
		
		letter_event = { id = soh.11418 } # Quest completion
		
		FROM = {
			remove_character_modifier = prisoner_took_potion
			prisoner = no
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = deceitful
					trait = arbitrary
					trait = cruel
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = deceitful
			}
			
			mult_modifier = {
				factor = 0.1
				trait = arbitrary
			}
			
			mult_modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11277 # I have altered the deal...
		
		alchemist_average_outcome_healing_prisoner_experiment_effect = yes
		
		letter_event = { id = soh.11418 } # Quest completion
		
		custom_tooltip = {
			text = this_is_tyranny

			hidden_effect = {
				any_realm_character = {
					opinion = {
						name = opinion_tyrant
						who = ROOT
						years = 5
					}
				}
			}
		}
		
		FROM = {
			character_event = { id = soh.11298 } # Inform the prisoner
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = honest
					trait = just
					trait = kind
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = honest
			}
			
			mult_modifier = {
				factor = 0.1
				trait = just
			}
			
			mult_modifier = {
				factor = 0.1
				trait = kind
			}
		}
	}
}

# Outcome - prisoner is feeling a bit queasy
character_event = {
	id = soh.11278
	desc = EVTDESC_SOH_11278
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11278 # I feel a bit odd...
		
		event_target:experimenting_alchemist = {
			character_event = { id = soh.11279 } # Inform the alchemist
		}
	}
}

# Inform jailer - prisoner is feeling a bit queasy
character_event = {
	id = soh.11279
	desc = EVTDESC_SOH_11279
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11279 # Not statistically significant...
		
		alchemist_bad_outcome_random_prisoner_experiment_effect = yes
		
		letter_event = { id = soh.11419 } # Quest failure
		
		FROM = {
			remove_character_modifier = prisoner_took_potion
			prisoner = no
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = deceitful
					trait = arbitrary
					trait = cruel
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = deceitful
			}
			
			mult_modifier = {
				factor = 0.1
				trait = arbitrary
			}
			
			mult_modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11279 # I have altered the deal...
		
		alchemist_bad_outcome_random_prisoner_experiment_effect = yes
		
		letter_event = { id = soh.11419 } # Quest failure
		
		custom_tooltip = {
			text = this_is_tyranny

			hidden_effect = {
				any_realm_character = {
					opinion = {
						name = opinion_tyrant
						who = ROOT
						years = 5
					}
				}
			}
		}
		
		FROM = {
			character_event = { id = soh.11298 } # Inform the prisoner
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = honest
					trait = just
					trait = kind
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = honest
			}
			
			mult_modifier = {
				factor = 0.1
				trait = just
			}
			
			mult_modifier = {
				factor = 0.1
				trait = kind
			}
		}
	}
}

# Outcome - prisoner is vomiting
character_event = {
	id = soh.11280
	desc = EVTDESC_SOH_11280
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11280 # At least I am alive...
		
		set_character_flag = disease_not_serious
		
		add_trait = vomiting
		
		character_event = {
			id = RIP.11005 # Remove vomiting
			days = 10
			random = 30
		}
		
		event_target:experimenting_alchemist = {
			character_event = { id = soh.11281 } # Inform the alchemist
		}
	}
}

# Inform jailer - prisoner is vomiting
character_event = {
	id = soh.11281
	desc = EVTDESC_SOH_11281
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11281 # A useful data point...
		
		alchemist_average_outcome_poison_prisoner_experiment_effect = yes
		
		letter_event = { id = soh.11418 } # Quest completion
		
		FROM = {
			remove_character_modifier = prisoner_took_potion
			prisoner = no
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = deceitful
					trait = arbitrary
					trait = cruel
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = deceitful
			}
			
			mult_modifier = {
				factor = 0.1
				trait = arbitrary
			}
			
			mult_modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11281 # I have altered the deal...
		
		alchemist_average_outcome_poison_prisoner_experiment_effect = yes
		
		letter_event = { id = soh.11418 } # Quest completion
		
		custom_tooltip = {
			text = this_is_tyranny

			hidden_effect = {
				any_realm_character = {
					opinion = {
						name = opinion_tyrant
						who = ROOT
						years = 5
					}
				}
			}
		}
		
		FROM = {
			character_event = { id = soh.11298 } # Inform the prisoner
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = honest
					trait = just
					trait = kind
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = honest
			}
			
			mult_modifier = {
				factor = 0.1
				trait = just
			}
			
			mult_modifier = {
				factor = 0.1
				trait = kind
			}
		}
	}
}

# Outcome - prisoner has diarrhea
character_event = {
	id = soh.11282
	desc = EVTDESC_SOH_11282
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11282 # At least I am alive...
		
		set_character_flag = disease_not_serious
		
		add_trait = diarrhea
		
		character_event = {
			id = RIP.11004 # Remove diarrhea
			days = 10
			random = 30
		}
		
		event_target:experimenting_alchemist = {
			character_event = { id = soh.11283 } # Inform the alchemist
		}
	}
}

# Inform jailer - prisoner has diarrhea
character_event = {
	id = soh.11283
	desc = EVTDESC_SOH_11283
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11283 # A useful data point...
		
		alchemist_average_outcome_poison_prisoner_experiment_effect = yes
		
		letter_event = { id = soh.11418 } # Quest completion
		
		FROM = {
			remove_character_modifier = prisoner_took_potion
			prisoner = no
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = deceitful
					trait = arbitrary
					trait = cruel
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = deceitful
			}
			
			mult_modifier = {
				factor = 0.1
				trait = arbitrary
			}
			
			mult_modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11283 # I have altered the deal...
		
		alchemist_average_outcome_poison_prisoner_experiment_effect = yes
		
		letter_event = { id = soh.11418 } # Quest completion
		
		custom_tooltip = {
			text = this_is_tyranny

			hidden_effect = {
				any_realm_character = {
					opinion = {
						name = opinion_tyrant
						who = ROOT
						years = 5
					}
				}
			}
		}
		
		FROM = {
			character_event = { id = soh.11298 } # Inform the prisoner
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = honest
					trait = just
					trait = kind
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = honest
			}
			
			mult_modifier = {
				factor = 0.1
				trait = just
			}
			
			mult_modifier = {
				factor = 0.1
				trait = kind
			}
		}
	}
}

# Outcome - prisoner has abdominal pain
character_event = {
	id = soh.11284
	desc = EVTDESC_SOH_11284
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11284 # At least I am alive...
		
		set_character_flag = disease_not_serious
		
		add_trait = abdominal_pain
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11010 days =  10 random = 30 } }
				33 = { character_event = { id = RIP.11010 months = 3 random = 45 } }
				33 = { character_event = { id = RIP.11010 months = 6 random = 60 } }
			}
		}
		
		event_target:experimenting_alchemist = {
			character_event = { id = soh.11285 } # Inform the alchemist
		}
	}
}

# Inform jailer - prisoner has abdominal pain
character_event = {
	id = soh.11285
	desc = EVTDESC_SOH_11285
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11285 # A useful data point...
		
		alchemist_average_outcome_poison_prisoner_experiment_effect = yes
		
		letter_event = { id = soh.11418 } # Quest completion
		
		FROM = {
			remove_character_modifier = prisoner_took_potion
			prisoner = no
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = deceitful
					trait = arbitrary
					trait = cruel
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = deceitful
			}
			
			mult_modifier = {
				factor = 0.1
				trait = arbitrary
			}
			
			mult_modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11285 # I have altered the deal...
		
		alchemist_average_outcome_poison_prisoner_experiment_effect = yes
		
		letter_event = { id = soh.11418 } # Quest completion
		
		custom_tooltip = {
			text = this_is_tyranny

			hidden_effect = {
				any_realm_character = {
					opinion = {
						name = opinion_tyrant
						who = ROOT
						years = 5
					}
				}
			}
		}
		
		FROM = {
			character_event = { id = soh.11298 } # Inform the prisoner
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = honest
					trait = just
					trait = kind
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = honest
			}
			
			mult_modifier = {
				factor = 0.1
				trait = just
			}
			
			mult_modifier = {
				factor = 0.1
				trait = kind
			}
		}
	}
}

# Outcome - prisoner has cramps
character_event = {
	id = soh.11286
	desc = EVTDESC_SOH_11286
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11286 # At least I am alive...
		
		set_character_flag = disease_not_serious
		
		add_trait = cramps
		
		character_event = {
			id = RIP.11007 # Remove cramps
			days = 10
			random = 30
		}
		
		event_target:experimenting_alchemist = {
			character_event = { id = soh.11287 } # Inform the alchemist
		}
	}
}

# Inform jailer - prisoner has cramps
character_event = {
	id = soh.11287
	desc = EVTDESC_SOH_11287
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11287 # A useful data point...
		
		alchemist_average_outcome_poison_prisoner_experiment_effect = yes
		
		letter_event = { id = soh.11418 } # Quest completion
		
		FROM = {
			remove_character_modifier = prisoner_took_potion
			prisoner = no
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = deceitful
					trait = arbitrary
					trait = cruel
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = deceitful
			}
			
			mult_modifier = {
				factor = 0.1
				trait = arbitrary
			}
			
			mult_modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11287 # I have altered the deal...
		
		alchemist_average_outcome_poison_prisoner_experiment_effect = yes
		
		letter_event = { id = soh.11418 } # Quest completion
		
		custom_tooltip = {
			text = this_is_tyranny

			hidden_effect = {
				any_realm_character = {
					opinion = {
						name = opinion_tyrant
						who = ROOT
						years = 5
					}
				}
			}
		}
		
		FROM = {
			character_event = { id = soh.11298 } # Inform the prisoner
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = honest
					trait = just
					trait = kind
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = honest
			}
			
			mult_modifier = {
				factor = 0.1
				trait = just
			}
			
			mult_modifier = {
				factor = 0.1
				trait = kind
			}
		}
	}
}

# Outcome - prisoner has a headache
character_event = {
	id = soh.11288
	desc = EVTDESC_SOH_11288
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11288 # At least I am alive...
		
		set_character_flag = disease_not_serious
		
		add_trait = headache
		
		hidden_tooltip = {
			random_list = {
				33 = { character_event = { id = RIP.11009 days =  10 random =  30 } }
				33 = { character_event = { id = RIP.11009 days =  90 random =  45 } }
				33 = { character_event = { id = RIP.11009 days = 700 random = 100 } }
			}
		}
		
		event_target:experimenting_alchemist = {
			character_event = { id = soh.11289 } # Inform the alchemist
		}
	}
}

# Inform jailer - prisoner a headache
character_event = {
	id = soh.11289
	desc = EVTDESC_SOH_11289
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11289 # A useful data point...
		
		alchemist_average_outcome_poison_prisoner_experiment_effect = yes
		
		letter_event = { id = soh.11418 } # Quest completion
		
		FROM = {
			remove_character_modifier = prisoner_took_potion
			prisoner = no
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = deceitful
					trait = arbitrary
					trait = cruel
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = deceitful
			}
			
			mult_modifier = {
				factor = 0.1
				trait = arbitrary
			}
			
			mult_modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11289 # I have altered the deal...
		
		alchemist_average_outcome_poison_prisoner_experiment_effect = yes
		
		letter_event = { id = soh.11418 } # Quest completion
		
		custom_tooltip = {
			text = this_is_tyranny

			hidden_effect = {
				any_realm_character = {
					opinion = {
						name = opinion_tyrant
						who = ROOT
						years = 5
					}
				}
			}
		}
		
		FROM = {
			character_event = { id = soh.11298 } # Inform the prisoner
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = honest
					trait = just
					trait = kind
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = honest
			}
			
			mult_modifier = {
				factor = 0.1
				trait = just
			}
			
			mult_modifier = {
				factor = 0.1
				trait = kind
			}
		}
	}
}

# Outcome - prisoner smells weird
character_event = {
	id = soh.11290
	desc = EVTDESC_SOH_11290
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11290 # Is that me...?
		
		add_trait_partially_uncouth_effect = yes
		
		add_character_modifier = {
			name = smelly_prisoner
			years = 2
		}
		
		event_target:experimenting_alchemist = {
			character_event = { id = soh.11291 } # Inform the alchemist
		}
	}
}

# Inform jailer - prisoner smells weird
character_event = {
	id = soh.11291
	desc = EVTDESC_SOH_11291
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11291 # A wasted experiment...
		
		alchemist_bad_outcome_random_prisoner_experiment_effect = yes
		
		letter_event = { id = soh.11419 } # Quest failure
		
		FROM = {
			remove_character_modifier = prisoner_took_potion
			prisoner = no
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = deceitful
					trait = arbitrary
					trait = cruel
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = deceitful
			}
			
			mult_modifier = {
				factor = 0.1
				trait = arbitrary
			}
			
			mult_modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11291 # I have altered the deal...
		
		alchemist_bad_outcome_random_prisoner_experiment_effect = yes
		
		letter_event = { id = soh.11419 } # Quest failure
		
		custom_tooltip = {
			text = this_is_tyranny

			hidden_effect = {
				any_realm_character = {
					opinion = {
						name = opinion_tyrant
						who = ROOT
						years = 5
					}
				}
			}
		}
		
		FROM = {
			character_event = { id = soh.11298 } # Inform the prisoner
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = honest
					trait = just
					trait = kind
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = honest
			}
			
			mult_modifier = {
				factor = 0.1
				trait = just
			}
			
			mult_modifier = {
				factor = 0.1
				trait = kind
			}
		}
	}
}

# Outcome - prisoner is feeling poorly
character_event = {
	id = soh.11292
	desc = EVTDESC_SOH_11292
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11292 # I don't fell so good...
		
		add_character_modifier = {
			name = prisoner_bad_potion 
			years = 2
		}
		
		event_target:experimenting_alchemist = {
			character_event = { id = soh.11293 } # Inform the alchemist
		}
	}
}

# Inform jailer - prisoner is feeling poorly
character_event = {
	id = soh.11293
	desc = EVTDESC_SOH_11293
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11293 # Fascinating!
		
		alchemist_average_outcome_poison_prisoner_experiment_effect = yes
		
		letter_event = { id = soh.11418 } # Quest completion
		
		FROM = {
			remove_character_modifier = prisoner_took_potion
			prisoner = no
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = deceitful
					trait = arbitrary
					trait = cruel
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = deceitful
			}
			
			mult_modifier = {
				factor = 0.1
				trait = arbitrary
			}
			
			mult_modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11293 # I have altered the deal...
		
		alchemist_average_outcome_poison_prisoner_experiment_effect = yes
		
		letter_event = { id = soh.11418 } # Quest completion
		
		custom_tooltip = {
			text = this_is_tyranny

			hidden_effect = {
				any_realm_character = {
					opinion = {
						name = opinion_tyrant
						who = ROOT
						years = 5
					}
				}
			}
		}
		
		FROM = {
			character_event = { id = soh.11298 } # Inform the prisoner
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = honest
					trait = just
					trait = kind
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = honest
			}
			
			mult_modifier = {
				factor = 0.1
				trait = just
			}
			
			mult_modifier = {
				factor = 0.1
				trait = kind
			}
		}
	}
}

# Outcome - prisoner is feeling very poorly
character_event = {
	id = soh.11294
	desc = EVTDESC_SOH_11294
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11294 # I almost wish it had killed me...
		
		add_character_modifier = {
			name = prisoner_terrible_potion 
			years = 2
		}
		
		event_target:experimenting_alchemist = {
			character_event = { id = soh.11295 } # Inform the alchemist
		}
	}
}

# Inform jailer - prisoner is feeling very poorly
character_event = {
	id = soh.11295
	desc = EVTDESC_SOH_11295
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11295 # Most illuminating!
		
		alchemist_good_outcome_poison_prisoner_experiment_effect = yes
		
		letter_event = { id = soh.11418 } # Quest completion
		
		FROM = {
			remove_character_modifier = prisoner_took_potion
			prisoner = no
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = deceitful
					trait = arbitrary
					trait = cruel
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = deceitful
			}
			
			mult_modifier = {
				factor = 0.1
				trait = arbitrary
			}
			
			mult_modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11295 # I have altered the deal...
		
		alchemist_good_outcome_poison_prisoner_experiment_effect = yes
		
		letter_event = { id = soh.11418 } # Quest completion
		
		custom_tooltip = {
			text = this_is_tyranny

			hidden_effect = {
				any_realm_character = {
					opinion = {
						name = opinion_tyrant
						who = ROOT
						years = 5
					}
				}
			}
		}
		
		FROM = {
			character_event = { id = soh.11298 } # Inform the prisoner
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = honest
					trait = just
					trait = kind
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = honest
			}
			
			mult_modifier = {
				factor = 0.1
				trait = just
			}
			
			mult_modifier = {
				factor = 0.1
				trait = kind
			}
		}
	}
}

# Outcome - prisoner died
character_event = {
	id = soh.11296
	desc = EVTDESC_SOH_11296
	picture = GFX_evt_bloody_man
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11296 # I choose... poorly...
		
		death = {
			death_reason = death_prisoner_experiment
		}
		
		event_target:experimenting_alchemist = {
			character_event = { id = soh.11297 } # Inform the alchemist
		}
	}
}

# Inform jailer - prisoner died
character_event = {
	id = soh.11297
	desc = EVTDESC_SOH_11297
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11297 # Thank you for your contributions!
		
		alchemist_good_outcome_poison_prisoner_experiment_effect = yes
		
		letter_event = { id = soh.11418 } # Quest completion
	}
}

# Jailer altered the deal - prisoner
character_event = {
	id = soh.11298
	desc = EVTDESC_SOH_11298
	picture = GFX_evt_into_the_dungeon
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11298 # This was not part of the deal!
		
		if = {
			limit = {
				is_friend = FROM
			}
			
			remove_friend = FROM
		}
		
		if = {
			limit = {
				is_lover = FROM
			}
			
			remove_lover = FROM
		}
		
		remove_trait_trusting_effect = yes
		
		opinion = {
			who = FROM
			modifier = altered_potion_deal
		}
	}
}



### Choose alchemist lifestyle

# Choose a lifestyle - no lifestyle
character_event = {
	id = soh.11299
	desc = EVTDESC_SOH_11299
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes # choose_alchemist_lifestyle targeted_decision

	option = {
		name = EVTOPTA_SOH_11299 # I will be a Mystic!

		add_trait = mystic
		clr_character_flag = choosing_alchemist_lifestyle
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = cynical
				}
			}
			
			mult_modifier = {
				factor = 0.1
				has_education_intrigue_trigger = yes
			}
			
			mult_modifier = {
				factor = 0.1
				has_education_stewardship_trigger = yes
			}
			
			mult_modifier = {
				factor = 10
				trait = zealous
			}
		}
	}

	option = {
		name = EVTOPTB_SOH_11299 # I will be a gardener!

		add_trait = gardener
		clr_character_flag = choosing_alchemist_lifestyle
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				has_education_intrigue_trigger = yes
			}
			
			mult_modifier = {
				factor = 0.1
				has_education_learning_trigger = yes
			}
			
			mult_modifier = {
				factor = 10
				trait = physician
			}
		}
	}

	option = {
		name = EVTOPTC_SOH_11299 # I will be a Master Schemer

		add_trait = master_schemer
		clr_character_flag = choosing_alchemist_lifestyle
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = honest
				}
			}
			
			mult_modifier = {
				factor = 0.1
				has_education_learning_trigger = yes
			}
			
			mult_modifier = {
				factor = 0.1
				has_education_stewardship_trigger = yes
			}
			
			mult_modifier = {
				factor = 10
				trait = deceitful
			}
			
			mult_modifier = {
				factor = 10
				trait = ambitious
			}
		}
	}

	option = {
		name = EVTOPTD_SOH_11299 # Never mind...

		add_society_currency_minor_effect = yes
		clr_character_flag = choosing_alchemist_lifestyle
	}
}

# Choose a lifestyle - already has a lifestyle
character_event = {
	id = soh.11300
	desc = EVTDESC_SOH_11300
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes # choose_alchemist_lifestyle targeted_decision

	option = {
		name = EVTOPTA_SOH_11300 # Mystic

		trigger = {
			NOT = { trait = mystic }
		}

		if = {
			limit = { trait = gardener }
			remove_trait = gardener
		}

		if = {
			limit = { trait = master_schemer }
			remove_trait = master_schemer
		}

		add_trait = mystic
		clr_character_flag = choosing_hermetic_art
	}

	option = {
		name = EVTOPTB_SOH_11300 # Gardener

		trigger = {
			NOT = { trait = gardener }
		}

		if = {
			limit = { trait = mystic }
			remove_trait = mystic
		}

		if = {
			limit = { trait = master_schemer }
			remove_trait = master_schemer
		}

		add_trait = gardener
		clr_character_flag = choosing_hermetic_art
	}

	option = {
		name = EVTOPTC_SOH_11300 # Master Schemer

		trigger = {
			NOT = { trait = master_schemer }
		}

		if = {
			limit = { trait = mystic }
			remove_trait = mystic
		}

		if = {
			limit = { trait = gardener }
			remove_trait = gardener
		}

		add_trait = master_schemer
		clr_character_flag = choosing_hermetic_art
	}

	option = {
		name = EVTOPTD_SOH_11300 # Never mind...

		add_society_currency_minor_effect = yes
		clr_character_flag = choosing_hermetic_art
	}
}



### Brew healing potion

# Confirmation and ingredient selection - brewing for self
character_event = {
	id = soh.11301
	desc = EVTDESC_SOH_11301
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes # brew_healing_potion targeted_decision
	
	immediate = {
		select_random_hermetic_ingredient_effect = yes
		select_random_hermetic_ingredient_effect = yes
	}

	option = { # I will use ingredient 1
		name = EVTOPTA_SOH_11301
		
		calculate_health_level_of_ingredient_1_effect = yes
		destroy_selected_ingredient_1_effect = yes
	}

	option = { # I will use ingredient 2
		trigger = {
			has_selected_ingredient_2_trigger = yes
			selected_ingredient_1_and_2_are_same = no
		}
		
		name = EVTOPTB_SOH_11301
		
		calculate_health_level_of_ingredient_2_effect = yes
		destroy_selected_ingredient_2_effect = yes
	}

	option = { # I will use both!
		trigger = {
			has_selected_ingredient_2_trigger = yes
			selected_ingredient_1_and_2_are_same = no
		}
		
		name = EVTOPTC_SOH_11301
		
		calculate_health_level_of_ingredient_1_and_2_effect = yes
		destroy_selected_ingredient_1_and_2_effect = yes
	}

	option = {
		name = EVTOPTD_SOH_11301 # Actually, let's not...

		add_society_currency_medium_effect = yes
		clr_character_flag = preparing_potion
		
		ai_chance = {
			factor = 0
		}
	}

	after = {
		remove_selection_of_ingredients_effect = yes
		
		hidden_tooltip = {
			if = {
				limit = {
					has_character_flag = preparing_potion
				}
				
				set_variable = {
					which = alchemist_healing_potion_quality
					which = local_current_potion_quality
				}
				
				# Alchemist's knowledge matters a bit
				if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 100
						}
					}
					
					change_variable = {
						which = alchemist_healing_potion_quality
						value = 3
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 75
						}
					}
					
					change_variable = {
						which = alchemist_healing_potion_quality
						value = 3
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 50
						}
					}
					
					change_variable = {
						which = alchemist_healing_potion_quality
						value = 2
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 25
						}
					}
					
					change_variable = {
						which = alchemist_healing_potion_quality
						value = 1
					}
				}
				
				character_event = { id = soh.11305 days = 5 } # Determine the outcome
				
				character_event = { id = soh.11321 days = 10 } # Flag cleanup
			}
		}
	}
}

# Confirmation and ingredient selection - brewing for other
character_event = {
	id = soh.11302
	desc = EVTDESC_SOH_11302
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes # brew_healing_potion targeted_decision
	
	immediate = {
		select_random_hermetic_ingredient_effect = yes
		select_random_hermetic_ingredient_effect = yes
	}

	option = { # I will use ingredient 1
		name = EVTOPTA_SOH_11302
		
		calculate_health_level_of_ingredient_1_effect = yes
		destroy_selected_ingredient_1_effect = yes
	}

	option = { # I will use ingredient 2
		trigger = {
			has_selected_ingredient_2_trigger = yes
			selected_ingredient_1_and_2_are_same = no
		}
		
		name = EVTOPTB_SOH_11302
		
		calculate_health_level_of_ingredient_2_effect = yes
		destroy_selected_ingredient_2_effect = yes
	}

	option = { # I will use both!
		trigger = {
			has_selected_ingredient_2_trigger = yes
			selected_ingredient_1_and_2_are_same = no
		}
		
		name = EVTOPTC_SOH_11302
		
		calculate_health_level_of_ingredient_1_and_2_effect = yes
		destroy_selected_ingredient_1_and_2_effect = yes
	}

	option = {
		name = EVTOPTD_SOH_11302 # Actually, let's not...

		add_society_currency_medium_effect = yes
		clr_character_flag = preparing_potion
		
		ai_chance = {
			factor = 0
		}
	}

	after = {
		remove_selection_of_ingredients_effect = yes
		
		hidden_tooltip = {
			if = {
				limit = {
					has_character_flag = preparing_potion
				}
				
				set_variable = {
					which = alchemist_healing_potion_quality
					which = local_current_potion_quality
				}
				
				# Alchemist's knowledge matters a bit
				if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 100
						}
					}
					
					change_variable = {
						which = alchemist_healing_potion_quality
						value = 3
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 75
						}
					}
					
					change_variable = {
						which = alchemist_healing_potion_quality
						value = 3
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 50
						}
					}
					
					change_variable = {
						which = alchemist_healing_potion_quality
						value = 2
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 25
						}
					}
					
					change_variable = {
						which = alchemist_healing_potion_quality
						value = 1
					}
				}
				
				event_target:potion_target = {
					character_event = { id = soh.11303 } # Target offered the potion
				}
				
				character_event = { id = soh.11321 days = 10 } # Flag cleanup
			}
		}
	}
}

# Potion is delivered
character_event = {
	id = soh.11303
	desc = EVTDESC_SOH_11303
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11303 # Thank you!
		
		hidden_tooltip = {
			set_variable = {
				which = alchemist_healing_potion_quality
				which = FROM
			}
		}
		
		character_event = { id = soh.11305 days = 5 } # Determine the outcome
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = paranoid
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = craven
			}
			
			mult_modifier = {
				factor = 10
				FROM = {
					trait = physician
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11303 # I don't trust that...
		
		FROM = {
			character_event = { id = soh.11304 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = trusting
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = brave
			}
		}
	}
}

# Target refused to drink potion - alchemist
character_event = {
	id = soh.11304
	desc = EVTDESC_SOH_11304
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			OR = {
				character_disease_trigger = yes
				has_symptom_trigger = yes
				has_minor_disease_trigger = yes
			}
		}
		
		name = EVTOPTA_SOH_11304 # I guess *I* will take it, then...
		
		character_event = { id = soh.11305 days = 5 } # Determine the outcome
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				NOR = {
					character_disease_trigger = yes
					has_minor_disease_trigger = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11304 # What a waste...
		
		opinion = {
			who = FROM
			modifier = wasted_potion
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					character_disease_trigger = yes
					has_minor_disease_trigger = yes
				}
			}
		}
	}
}

# Determine the outcome
character_event = {
	id = soh.11305
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				character = event_target:brewing_potion
			}
			
			# Potion for self
			random_list = {
				100 = {
					trigger = {
						check_variable = {
							which = alchemist_healing_potion_quality
							value >= 2
						}
					}
					
					mult_modifier = {
						factor = 2
						check_variable = {
							which = alchemist_healing_potion_quality
							value >= 4
						}
					}
					
					character_event = { id = soh.11306 } # Feeling a lot better
				}
				
				100 = {
					trigger = {
						check_variable = {
							which = alchemist_healing_potion_quality
							value >= 1
						}
					}
					
					character_event = { id = soh.11309 } # Feeling a little better
				}
				
				100 = {
					trigger = {
						NOT = {
							check_variable = {
								which = alchemist_healing_potion_quality
								value >= 3
							}
						}
						check_variable = {
							which = alchemist_healing_potion_quality
							value >= 0
						}
					}
					
					character_event = { id = soh.11312 } # No effect
				}
				
				100 = {
					trigger = {
						check_variable = {
							which = alchemist_healing_potion_quality
							value < 1
						}
					}
					
					character_event = { id = soh.11315 } # Feeling a bit worse
				}
				
				100 = {
					trigger = {
						check_variable = {
							which = alchemist_healing_potion_quality
							value <= 0
						}
					}
					
					mult_modifier = {
						factor = 2
						check_variable = {
							which = alchemist_healing_potion_quality
							value <= -1
						}
					}
					
					character_event = { id = soh.11318 } # Feeling a lot worse
				}
			}
		}
		
		else = {
			# Potion for other
			random_list = {
				100 = {
					trigger = {
						check_variable = {
							which = alchemist_healing_potion_quality
							value >= 2
						}
					}
					
					mult_modifier = {
						factor = 2
						check_variable = {
							which = alchemist_healing_potion_quality
							value >= 4
						}
					}
					
					character_event = { id = soh.11307 } # Feeling a lot better
				}
				
				100 = {
					trigger = {
						check_variable = {
							which = alchemist_healing_potion_quality
							value >= 1
						}
					}
					
					character_event = { id = soh.11310 } # Feeling a little better
				}
				
				100 = {
					trigger = {
						NOT = {
							check_variable = {
								which = alchemist_healing_potion_quality
								value >= 3
							}
						}
						check_variable = {
							which = alchemist_healing_potion_quality
							value >= 0
						}
					}
					
					character_event = { id = soh.11313 } # No effect
				}
				
				100 = {
					trigger = {
						check_variable = {
							which = alchemist_healing_potion_quality
							value < 1
						}
					}
					
					character_event = { id = soh.11316 } # Feeling a bit worse
				}
				
				100 = {
					trigger = {
						check_variable = {
							which = alchemist_healing_potion_quality
							value <= 0
						}
					}
					
					mult_modifier = {
						factor = 2
						check_variable = {
							which = alchemist_healing_potion_quality
							value <= -1
						}
					}
					
					character_event = { id = soh.11319 } # Feeling a lot worse
				}
			}
		}
	}
}			

# Potion for self - feeling a lot better
character_event = {
	id = soh.11306
	desc = EVTDESC_SOH_11306
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11306 # That really helped!
		
		if = {
			limit = {
				has_character_flag = disease_not_serious
			}
			
			if = {
				limit = {
					trait = cough
				}
				
				remove_trait = cough
			}
			
			if = {
				limit = {
					trait = fever
				}
				
				remove_trait = fever
			}
			
			if = {
				limit = {
					trait = diarrhea
				}
				
				remove_trait = diarrhea
			}
			
			if = {
				limit = {
					trait = vomiting
				}
				
				remove_trait = vomiting
			}
			
			if = {
				limit = {
					trait = headache
				}
				
				remove_trait = headache
			}
			
			if = {
				limit = {
					trait = chest_pain
				}
				
				remove_trait = chest_pain
			}
			
			if = {
				limit = {
					trait = cramps
				}
				
				remove_trait = cramps
			}
			
			if = {
				limit = {
					trait = rash
				}
				
				remove_trait = rash
			}
			
			if = {
				limit = {
					trait = abdominal_pain
				}
				
				remove_trait = abdominal_pain
			}
			
			if = {
				limit = {
					trait = fatigue
				}
				
				remove_trait = fatigue
			}
			
			if = {
				limit = {
					trait = malaise
				}
				
				remove_trait = malaise
			}
		}
		
		add_character_modifier = {
			name = alchemist_great_healing_potion
			months = 12
		}
		
		hidden_tooltip = {
			change_variable = {
				which = alchemist_healing_knowledge
				value = 3
			}
		}
	}
}

# Potion for other - feeling a lot better
character_event = {
	id = soh.11307
	desc = EVTDESC_SOH_11307
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11307 # That really helped!
		
		if = {
			limit = {
				has_character_flag = disease_not_serious
			}
			
			if = {
				limit = {
					trait = cough
				}
				
				remove_trait = cough
			}
			
			if = {
				limit = {
					trait = fever
				}
				
				remove_trait = fever
			}
			
			if = {
				limit = {
					trait = diarrhea
				}
				
				remove_trait = diarrhea
			}
			
			if = {
				limit = {
					trait = vomiting
				}
				
				remove_trait = vomiting
			}
			
			if = {
				limit = {
					trait = headache
				}
				
				remove_trait = headache
			}
			
			if = {
				limit = {
					trait = chest_pain
				}
				
				remove_trait = chest_pain
			}
			
			if = {
				limit = {
					trait = cramps
				}
				
				remove_trait = cramps
			}
			
			if = {
				limit = {
					trait = rash
				}
				
				remove_trait = rash
			}
			
			if = {
				limit = {
					trait = abdominal_pain
				}
				
				remove_trait = abdominal_pain
			}
			
			if = {
				limit = {
					trait = fatigue
				}
				
				remove_trait = fatigue
			}
			
			if = {
				limit = {
					trait = malaise
				}
				
				remove_trait = malaise
			}
		}
		
		add_character_modifier = {
			name = alchemist_great_healing_potion
			months = 12
		}
		
		opinion = {
			who = event_target:brewing_potion
			modifier = helpful_potion
		}
		
		event_target:brewing_potion = {
			character_event = { id = soh.11308 } # Inform the alchemist
		}
	}
}

# Inform alchemist - feeling a lot better
character_event = {
	id = soh.11308
	desc = EVTDESC_SOH_11308
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11308 # Excellent!
		
		hidden_tooltip = {
			change_variable = {
				which = alchemist_healing_knowledge
				value = 3
			}
		}
	}
}

# Potion for self - feeling a bit better
character_event = {
	id = soh.11309
	desc = EVTDESC_SOH_11309
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11309 # I feel better, I suppose...
		
		if = {
			limit = {
				has_character_flag = disease_not_serious
			}
			
			if = {
				limit = {
					trait = cough
				}
				
				random = {
					chance = 50
					remove_trait = cough
				}
			}
			
			if = {
				limit = {
					trait = fever
				}
				
				random = {
					chance = 50
					remove_trait = fever
				}
			}
			
			if = {
				limit = {
					trait = diarrhea
				}
				
				random = {
					chance = 50
					remove_trait = diarrhea
				}
			}
			
			if = {
				limit = {
					trait = vomiting
				}
				
				random = {
					chance = 50
					remove_trait = vomiting
				}
			}
			
			if = {
				limit = {
					trait = headache
				}
				
				random = {
					chance = 50
					remove_trait = headache
				}
			}
			
			if = {
				limit = {
					trait = chest_pain
				}
				
				random = {
					chance = 50
					remove_trait = chest_pain
				}
			}
			
			if = {
				limit = {
					trait = cramps
				}
				
				random = {
					chance = 50
					remove_trait = cramps
				}
			}
			
			if = {
				limit = {
					trait = rash
				}
				
				random = {
					chance = 50
					remove_trait = rash
				}
			}
			
			if = {
				limit = {
					trait = abdominal_pain
				}
				
				random = {
					chance = 50
					remove_trait = abdominal_pain
				}
			}
			
			if = {
				limit = {
					trait = fatigue
				}
				
				random = {
					chance = 50
					remove_trait = fatigue
				}
			}
			
			if = {
				limit = {
					trait = malaise
				}
				
				random = {
					chance = 50
					remove_trait = malaise
				}
			}
		}
		
		add_character_modifier = {
			name = alchemist_good_healing_potion
			months = 12
		}
		
		hidden_tooltip = {
			change_variable = {
				which = alchemist_healing_knowledge
				value = 2
			}
		}
	}
}

# Potion for other - feeling a bit better
character_event = {
	id = soh.11310
	desc = EVTDESC_SOH_11310
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11310 # I feel better, I suppose...
		
		if = {
			limit = {
				has_character_flag = disease_not_serious
			}
			
			if = {
				limit = {
					trait = cough
				}
				
				random = {
					chance = 50
					remove_trait = cough
				}
			}
			
			if = {
				limit = {
					trait = fever
				}
				
				random = {
					chance = 50
					remove_trait = fever
				}
			}
			
			if = {
				limit = {
					trait = diarrhea
				}
				
				random = {
					chance = 50
					remove_trait = diarrhea
				}
			}
			
			if = {
				limit = {
					trait = vomiting
				}
				
				random = {
					chance = 50
					remove_trait = vomiting
				}
			}
			
			if = {
				limit = {
					trait = headache
				}
				
				random = {
					chance = 50
					remove_trait = headache
				}
			}
			
			if = {
				limit = {
					trait = chest_pain
				}
				
				random = {
					chance = 50
					remove_trait = chest_pain
				}
			}
			
			if = {
				limit = {
					trait = cramps
				}
				
				random = {
					chance = 50
					remove_trait = cramps
				}
			}
			
			if = {
				limit = {
					trait = rash
				}
				
				random = {
					chance = 50
					remove_trait = rash
				}
			}
			
			if = {
				limit = {
					trait = abdominal_pain
				}
				
				random = {
					chance = 50
					remove_trait = abdominal_pain
				}
			}
			
			if = {
				limit = {
					trait = fatigue
				}
				
				random = {
					chance = 50
					remove_trait = fatigue
				}
			}
			
			if = {
				limit = {
					trait = malaise
				}
				
				random = {
					chance = 50
					remove_trait = malaise
				}
			}
		}
		
		add_character_modifier = {
			name = alchemist_good_healing_potion
			months = 12
		}
		
		opinion = {
			who = event_target:brewing_potion
			modifier = helpful_potion
		}
		
		event_target:brewing_potion = {
			character_event = { id = soh.11311 } # Inform the alchemist
		}
	}
}

# Inform alchemist - feeling a bit better
character_event = {
	id = soh.11311
	desc = EVTDESC_SOH_11311
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11311 # Good!
		
		hidden_tooltip = {
			change_variable = {
				which = alchemist_healing_knowledge
				value = 2
			}
		}
	}
}

# Potion for self - no effect
character_event = {
	id = soh.11312
	desc = EVTDESC_SOH_11312
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11312 # I wonder why it didn't work...
		
		hidden_tooltip = {
			change_variable = {
				which = alchemist_healing_knowledge
				value = 1
			}
		}
	}
}

# Potion for other - no effect
character_event = {
	id = soh.11313
	desc = EVTDESC_SOH_11313
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11313 # I wonder why it didn't work...
		
		event_target:brewing_potion = {
			character_event = { id = soh.11314 } # Inform the alchemist
		}
	}
}

# Inform alchemist - no effect
character_event = {
	id = soh.11314
	desc = EVTDESC_SOH_11314
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11314 # Strange...
		
		hidden_tooltip = {
			change_variable = {
				which = alchemist_healing_knowledge
				value = 1
			}
		}
	}
}

# Potion for self - feeling a bit worse
character_event = {
	id = soh.11315
	desc = EVTDESC_SOH_11315
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11315 # Did I get the dosage wrong?
		
		add_character_modifier = {
			name = alchemist_bad_healing_potion
			months = 12
		}
		
		hidden_tooltip = {
			change_variable = {
				which = alchemist_poison_knowledge
				value = 1
			}
		}
	}
}

# Potion for other - feeling a bit worse
character_event = {
	id = soh.11316
	desc = EVTDESC_SOH_11316
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11316 # Was the dosage wrong?
		
		add_character_modifier = {
			name = alchemist_bad_healing_potion
			months = 12
		}
		
		opinion = {
			who = event_target:brewing_potion
			modifier = harmful_potion
		}
		
		event_target:brewing_potion = {
			character_event = { id = soh.11317 } # Inform the alchemist
		}
	}
}

# Inform alchemist - feeling a bit worse
character_event = {
	id = soh.11317
	desc = EVTDESC_SOH_11317
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11317 # Did I mess up?
		
		hidden_tooltip = {
			change_variable = {
				which = alchemist_poison_knowledge
				value = 1
			}
		}
	}
}

# Potion for self - feeling a lot worse
character_event = {
	id = soh.11318
	desc = EVTDESC_SOH_11318
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11318 # I messed that one up...
		
		add_character_modifier = {
			name = alchemist_terrible_healing_potion
			months = 12
		}
		
		hidden_tooltip = {
			change_variable = {
				which = alchemist_poison_knowledge
				value = 2
			}
		}
	}
}

# Potion for other - feeling a lot worse
character_event = {
	id = soh.11319
	desc = EVTDESC_SOH_11319
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11319 # That's not right at all...
		
		add_character_modifier = {
			name = alchemist_terrible_healing_potion
			months = 12
		}
		
		opinion = {
			who = event_target:brewing_potion
			modifier = harmful_potion
		}
		
		event_target:brewing_potion = {
			character_event = { id = soh.11320 } # Inform the alchemist
		}
	}
}

# Inform alchemist - feeling a lot worse
character_event = {
	id = soh.11320
	desc = EVTDESC_SOH_11320
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11320 # That went wrong...
		
		hidden_tooltip = {
			change_variable = {
				which = alchemist_poison_knowledge
				value = 2
			}
		}
	}
}

# Cleanup of potion brewing flag
character_event = {
	id = soh.11321
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		clr_character_flag = brewing_potion
	}
}



### Brew clarity potion

# Confirmation and ingredient selection - brewing for self
character_event = {
	id = soh.11322
	desc = EVTDESC_SOH_11322
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes # brew_clarity_potion targeted_decision
	
	immediate = {
		select_random_hermetic_ingredient_effect = yes
		select_random_hermetic_ingredient_effect = yes
	}

	option = { # I will use ingredient 1
		name = EVTOPTA_SOH_11322
		
		calculate_health_level_of_ingredient_1_effect = yes
		destroy_selected_ingredient_1_effect = yes
	}

	option = { # I will use ingredient 2
		trigger = {
			has_selected_ingredient_2_trigger = yes
			selected_ingredient_1_and_2_are_same = no
		}
		
		name = EVTOPTB_SOH_11322
		
		calculate_health_level_of_ingredient_2_effect = yes
		destroy_selected_ingredient_2_effect = yes
	}

	option = { # I will use both!
		trigger = {
			has_selected_ingredient_2_trigger = yes
			selected_ingredient_1_and_2_are_same = no
		}
		
		name = EVTOPTC_SOH_11322
		
		calculate_health_level_of_ingredient_1_and_2_effect = yes
		destroy_selected_ingredient_1_and_2_effect = yes
	}

	option = {
		name = EVTOPTD_SOH_11322 # Actually, let's not...

		add_society_currency_medium_effect = yes
		clr_character_flag = preparing_potion
		
		ai_chance = {
			factor = 0
		}
	}

	after = {
		remove_selection_of_ingredients_effect = yes
		
		hidden_tooltip = {
			if = {
				limit = {
					has_character_flag = preparing_potion
				}
				
				set_variable = {
					which = alchemist_clarity_potion_quality
					which = local_current_potion_quality
				}
				
				# Alchemist's knowledge matters a bit
				if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 100
						}
					}
					
					change_variable = {
						which = alchemist_clarity_potion_quality
						value = 3
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 75
						}
					}
					
					change_variable = {
						which = alchemist_clarity_potion_quality
						value = 3
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 50
						}
					}
					
					change_variable = {
						which = alchemist_clarity_potion_quality
						value = 2
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 25
						}
					}
					
					change_variable = {
						which = alchemist_clarity_potion_quality
						value = 1
					}
				}
				
				character_event = { id = soh.11326 days = 5 } # Determine the outcome
				
				character_event = { id = soh.11342 days = 10 } # Flag cleanup
			}
		}
	}
}

# Confirmation and ingredient selection - brewing for other
character_event = {
	id = soh.11323
	desc = EVTDESC_SOH_11323
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes # brew_clarity_potion targeted_decision
	
	immediate = {
		select_random_hermetic_ingredient_effect = yes
		select_random_hermetic_ingredient_effect = yes
	}

	option = { # I will use ingredient 1
		name = EVTOPTA_SOH_11323
		
		calculate_health_level_of_ingredient_1_effect = yes
		destroy_selected_ingredient_1_effect = yes
	}

	option = { # I will use ingredient 2
		trigger = {
			has_selected_ingredient_2_trigger = yes
			selected_ingredient_1_and_2_are_same = no
		}
		
		name = EVTOPTB_SOH_11323
		
		calculate_health_level_of_ingredient_2_effect = yes
		destroy_selected_ingredient_2_effect = yes
	}

	option = { # I will use both!
		trigger = {
			has_selected_ingredient_2_trigger = yes
			selected_ingredient_1_and_2_are_same = no
		}
		
		name = EVTOPTC_SOH_11323
		
		calculate_health_level_of_ingredient_1_and_2_effect = yes
		destroy_selected_ingredient_1_and_2_effect = yes
	}

	option = {
		name = EVTOPTD_SOH_11323 # Actually, let's not...

		add_society_currency_medium_effect = yes
		clr_character_flag = preparing_potion
		
		ai_chance = {
			factor = 0
		}
	}

	after = {
		remove_selection_of_ingredients_effect = yes
		
		hidden_tooltip = {
			if = {
				limit = {
					has_character_flag = preparing_potion
				}
				
				set_variable = {
					which = alchemist_clarity_potion_quality
					which = local_current_potion_quality
				}
				
				# Alchemist's knowledge matters a bit
				if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 100
						}
					}
					
					change_variable = {
						which = alchemist_clarity_potion_quality
						value = 3
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 75
						}
					}
					
					change_variable = {
						which = alchemist_clarity_potion_quality
						value = 3
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 50
						}
					}
					
					change_variable = {
						which = alchemist_clarity_potion_quality
						value = 2
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 25
						}
					}
					
					change_variable = {
						which = alchemist_clarity_potion_quality
						value = 1
					}
				}
				
				event_target:potion_target = {
					character_event = { id = soh.11324 } # Target offered the potion
				}
				
				character_event = { id = soh.11342 days = 10 } # Flag cleanup
			}
		}
	}
}

# Potion is delivered
character_event = {
	id = soh.11324
	desc = EVTDESC_SOH_11324
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11324 # Thank you!
		
		hidden_tooltip = {
			set_variable = {
				which = alchemist_clarity_potion_quality
				which = FROM
			}
		}
		
		character_event = { id = soh.11326 days = 5 } # Determine the outcome
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = paranoid
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = craven
			}
			
			mult_modifier = {
				factor = 10
				FROM = {
					trait = physician
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11324 # I don't trust that...
		
		FROM = {
			character_event = { id = soh.11325 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = trusting
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = brave
			}
		}
	}
}

# Target refused to drink potion - alchemist
character_event = {
	id = soh.11325
	desc = EVTDESC_SOH_11325
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			OR = {
				trait = stressed
				trait = depressed
				trait = headache
				trait = malaise
				trait = fatigue
				has_character_modifier = drowsy_alchemist
				has_character_modifier = alchemist_hallucinations
				has_character_modifier = alchemist_blurred_vision
				has_character_modifier = alchemist_dizzy
				has_character_modifier = clouded_mind
				has_character_modifier = apathetic
				has_character_modifier = potion_crash
			}
		}
		
		name = EVTOPTA_SOH_11325 # I guess *I* will take it, then...
		
		character_event = { id = soh.11326 days = 5 } # Determine the outcome
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = depressed
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11325 # What a waste...
		
		opinion = {
			who = FROM
			modifier = wasted_potion
		}
		
		ai_chance = {
			factor = 100
		}
	}
}

# Determine the outcome
character_event = {
	id = soh.11326
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				character = event_target:brewing_potion
			}
			
			# Potion for self
			random_list = {
				100 = {
					trigger = {
						check_variable = {
							which = alchemist_clarity_potion_quality
							value >= 2
						}
					}
					
					mult_modifier = {
						factor = 2
						check_variable = {
							which = alchemist_clarity_potion_quality
							value >= 4
						}
					}
					
					character_event = { id = soh.11327 } # Mind is clearer
				}
				
				100 = {
					trigger = {
						check_variable = {
							which = alchemist_clarity_potion_quality
							value < 3
						}
					}
					
					mult_modifier = {
						factor = 2
						check_variable = {
							which = alchemist_clarity_potion_quality
							value >= -2
						}
					}
					
					character_event = { id = soh.11330 } # No effect
				}
				
				25 = {
					mult_modifier = {
						factor = 2
						event_target:brewing_potion = {
							trait = lunatic
						}
					}
					
					mult_modifier = {
						factor = 2
						event_target:brewing_potion = {
							trait = possessed
						}
					}
					
					character_event = { id = soh.11333 } # Mind is altered
				}
				
				100 = {
					trigger = {
						check_variable = {
							which = alchemist_clarity_potion_quality
							value < 0
						}
					}
					
					mult_modifier = {
						factor = 2
						check_variable = {
							which = alchemist_clarity_potion_quality
							value < -2
						}
					}
					
					character_event = { id = soh.11336 } # Mind is less clear
				}
			}
		}
		
		else = {
			# Potion for other
			random_list = {
				100 = {
					trigger = {
						check_variable = {
							which = alchemist_clarity_potion_quality
							value >= 2
						}
					}
					
					mult_modifier = {
						factor = 2
						check_variable = {
							which = alchemist_clarity_potion_quality
							value >= 4
						}
					}
					
					character_event = { id = soh.11328 } # Mind is clearer
				}
				
				100 = {
					trigger = {
						check_variable = {
							which = alchemist_clarity_potion_quality
							value < 3
						}
					}
					
					mult_modifier = {
						factor = 2
						check_variable = {
							which = alchemist_clarity_potion_quality
							value >= -2
						}
					}
					
					character_event = { id = soh.11331 } # No effect
				}
				
				25 = {
					mult_modifier = {
						factor = 2
						event_target:brewing_potion = {
							trait = lunatic
						}
					}
					
					mult_modifier = {
						factor = 2
						event_target:brewing_potion = {
							trait = possessed
						}
					}
					
					character_event = { id = soh.11334 } # Mind is altered
				}
				
				100 = {
					trigger = {
						check_variable = {
							which = alchemist_clarity_potion_quality
							value < 0
						}
					}
					
					mult_modifier = {
						factor = 2
						check_variable = {
							which = alchemist_clarity_potion_quality
							value < -2
						}
					}
					
					character_event = { id = soh.11337 } # Mind is less clear
				}
			}
		}
	}
}

# Potion for self - mind is clearer
character_event = {
	id = soh.11327
	desc = EVTDESC_SOH_11327
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11327 # Excellent!
		
		hidden_tooltip = {
			change_variable = {
				which = alchemist_healing_knowledge
				value = 1
			}
		}
		
		remove_trait_stressed_effect = yes
		
		if = {
			limit = {
				trait = depressed
			}
			
			remove_trait_depressed_effect = yes
			
			hidden_tooltip = {
				random = {
					chance = 40

					mult_modifier = {
						factor = 0.5
						check_variable = { which = alchemist_clarity_potion_quality value >= 1 }
					}
					mult_modifier = {
						factor = 0.5
						check_variable = { which = alchemist_clarity_potion_quality value >= 2 }
					}
					mult_modifier = {
						factor = 0.5
						check_variable = { which = alchemist_clarity_potion_quality value >= 4 }
					}
					mult_modifier = {
						factor = 0.5
						check_variable = { which = alchemist_clarity_potion_quality value >= 6 }
					}
					mult_modifier = {
						factor = 1.1
						check_variable = { which = alchemist_clarity_potion_quality value < -1 }
					}
					mult_modifier = {
						factor = 1.2
						check_variable = { which = alchemist_clarity_potion_quality value < -2 }
					}
					mult_modifier = {
						factor = 1.3
						check_variable = { which = alchemist_clarity_potion_quality value < -4 }
					}
					mult_modifier = {
						factor = 1.4
						check_variable = { which = alchemist_clarity_potion_quality value < -6 }
					}
					
					character_event = { # Depression returns
						id = soh.11339
						months = 5
						random = 600
					}
				}
			}
		}
		
		if = {
			limit = {
				has_character_flag = disease_not_serious
			}
			
			if = {
				limit = {
					trait = headache
				}
				remove_trait = headache
			}
			
			if = {
				limit = {
					trait = malaise
				}
				remove_trait = malaise
			}
			
			if = {
				limit = {
					trait = fatigue
				}
				remove_trait = fatigue
			}
		}
		
		if = {
			limit = {
				has_character_modifier = drowsy_alchemist
			}
			remove_character_modifier = drowsy_alchemist
		}
		
		if = {
			limit = {
				has_character_modifier = alchemist_hallucinations
			}
			remove_character_modifier = alchemist_hallucinations
		}
		
		if = {
			limit = {
				has_character_modifier = alchemist_blurred_vision
			}
			remove_character_modifier = alchemist_blurred_vision
		}
		
		if = {
			limit = {
				has_character_modifier = alchemist_dizzy
			}
			remove_character_modifier = alchemist_dizzy
		}
		
		if = {
			limit = {
				has_character_modifier = clouded_mind
			}
			remove_character_modifier = clouded_mind
		}
		
		if = {
			limit = {
				has_character_modifier = apathetic
			}
			remove_character_modifier = apathetic
		}
		
		if = {
			limit = {
				has_character_modifier = potion_crash
			}
			remove_character_modifier = potion_crash
		}
		
		random = {
			chance = 25
			custom_tooltip = {
				text = potion_crash_happens
				
				character_event = { id = soh.11340 months = 3 random = 3 } # Potion wears off, and not in a good way
			}
		}
	}
}

# Potion for other - mind is clearer
character_event = {
	id = soh.11328
	desc = EVTDESC_SOH_11328
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11328 # Excellent!
		
		remove_trait_stressed_effect = yes
		
		if = {
			limit = {
				trait = depressed
			}
			
			remove_trait_depressed_effect = yes
			
			hidden_tooltip = {
				random = {
					chance = 40

					mult_modifier = {
						factor = 0.5
						check_variable = { which = alchemist_clarity_potion_quality value >= 1 }
					}
					mult_modifier = {
						factor = 0.5
						check_variable = { which = alchemist_clarity_potion_quality value >= 2 }
					}
					mult_modifier = {
						factor = 0.5
						check_variable = { which = alchemist_clarity_potion_quality value >= 4 }
					}
					mult_modifier = {
						factor = 0.5
						check_variable = { which = alchemist_clarity_potion_quality value >= 6 }
					}
					mult_modifier = {
						factor = 1.1
						check_variable = { which = alchemist_clarity_potion_quality value < -1 }
					}
					mult_modifier = {
						factor = 1.2
						check_variable = { which = alchemist_clarity_potion_quality value < -2 }
					}
					mult_modifier = {
						factor = 1.3
						check_variable = { which = alchemist_clarity_potion_quality value < -4 }
					}
					mult_modifier = {
						factor = 1.4
						check_variable = { which = alchemist_clarity_potion_quality value < -6 }
					}
					
					character_event = { # Depression returns
						id = soh.11339
						months = 5
						random = 600
					}
				}
			}
		}
		
		if = {
			limit = {
				has_character_flag = disease_not_serious
			}
			
			if = {
				limit = {
					trait = headache
				}
				remove_trait = headache
			}
			
			if = {
				limit = {
					trait = malaise
				}
				remove_trait = malaise
			}
			
			if = {
				limit = {
					trait = fatigue
				}
				remove_trait = fatigue
			}
		}
		
		if = {
			limit = {
				has_character_modifier = drowsy_alchemist
			}
			remove_character_modifier = drowsy_alchemist
		}
		
		if = {
			limit = {
				has_character_modifier = alchemist_hallucinations
			}
			remove_character_modifier = alchemist_hallucinations
		}
		
		if = {
			limit = {
				has_character_modifier = alchemist_blurred_vision
			}
			remove_character_modifier = alchemist_blurred_vision
		}
		
		if = {
			limit = {
				has_character_modifier = alchemist_dizzy
			}
			remove_character_modifier = alchemist_dizzy
		}
		
		if = {
			limit = {
				has_character_modifier = clouded_mind
			}
			remove_character_modifier = clouded_mind
		}
		
		if = {
			limit = {
				has_character_modifier = apathetic
			}
			remove_character_modifier = apathetic
		}
		
		if = {
			limit = {
				has_character_modifier = potion_crash
			}
			remove_character_modifier = potion_crash
		}
		
		opinion = {
			who = event_target:brewing_potion
			modifier = helpful_potion
		}
		
		random = {
			chance = 25
			custom_tooltip = {
				text = potion_crash_happens
				
				character_event = { id = soh.11340 months = 3 random = 3 } # Potion wears off, and not in a good way
			}
		}
		
		event_target:brewing_potion = {
			character_event = { id = soh.11329 } # Inform the alchemist
		}
	}
}

# Inform alchemist - mind is clearer
character_event = {
	id = soh.11329
	desc = EVTDESC_SOH_11329
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11329 # Excellent!
		
		hidden_tooltip = {
			change_variable = {
				which = alchemist_healing_knowledge
				value = 1
			}
		}
	}
}

# Potion for self - no effect
character_event = {
	id = soh.11330
	desc = EVTDESC_SOH_11330
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11330 # Was the dosage off?
	}
}

# Potion for other - no effect
character_event = {
	id = soh.11331
	desc = EVTDESC_SOH_11331
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11331 # Was the dosage off?
		
		event_target:brewing_potion = {
			character_event = { id = soh.11332 } # Inform the alchemist
		}
	}
}

# Inform alchemist - no effect
character_event = {
	id = soh.11332
	desc = EVTDESC_SOH_11332
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11332 # Was the dosage off?
	}
}

# Potion for self - mind is altered
character_event = {
	id = soh.11333
	desc = EVTDESC_SOH_11333
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11333 # I sure feel different!
		
		hidden_tooltip = {
			random_list = {
				50 = {
					change_variable = {
						which = alchemist_healing_knowledge
						value = 1
					}
				}
				50 = {
					change_variable = {
						which = alchemist_poison_knowledge
						value = 1
					}
				}
			}
		}
		
		add_character_modifier = {
			name = alchemist_altered_mind
			months = 6
		}
		
		random = {
			chance = 5
			
			custom_tooltip = {
				text = mind_permanently_altered
				
				character_event = { id = soh.11341 months = 2 random = 3 } # Mind is permanently altered
			}
		}
	}
}

# Potion for other - mind is altered
character_event = {
	id = soh.11334
	desc = EVTDESC_SOH_11334
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11334 # I sure feel different!
		
		add_character_modifier = {
			name = alchemist_altered_mind
			months = 6
		}
		
		random = {
			chance = 5
			
			custom_tooltip = {
				text = mind_permanently_altered
				
				character_event = { id = soh.11341 months = 2 random = 3 } # Mind is permanently altered
			}
		}
		
		event_target:brewing_potion = {
			character_event = { id = soh.11335 } # Inform the alchemist
		}
	}
}

# Inform alchemist - mind is altered
character_event = {
	id = soh.11335
	desc = EVTDESC_SOH_11335
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11335 # That's... good?
		
		hidden_tooltip = {
			random_list = {
				50 = {
					change_variable = {
						which = alchemist_healing_knowledge
						value = 1
					}
				}
				50 = {
					change_variable = {
						which = alchemist_poison_knowledge
						value = 1
					}
				}
			}
		}
	}
}

# Potion for self - mind is less clear
character_event = {
	id = soh.11336
	desc = EVTDESC_SOH_11336
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11336 # This... went wrong...
		
		prestige = -50
		
		add_character_modifier = {
			name = clouded_mind
			months = 24
		}
	}
}

# Potion for other - mind is less clear
character_event = {
	id = soh.11337
	desc = EVTDESC_SOH_11337
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11337 # This... went wrong...
		
		add_character_modifier = {
			name = clouded_mind
			months = 24
		}
		
		event_target:brewing_potion = {
			character_event = { id = soh.11338 } # Inform the alchemist
		}
	}
}

# Inform alchemist - mind is less clear
character_event = {
	id = soh.11338
	desc = EVTDESC_SOH_11338
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11338 # That... went wrong...
		
		prestige = -50
	}
}

# Depression returns
character_event = {
	id = soh.11339
	desc = EVTDESC_SOH_11339
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11339 # It was too good to be true...
		
		add_trait_depressed_effect = yes
	}
}

# Crash after potion wears off
character_event = {
	id = soh.11340
	desc = EVTDESC_SOH_11340
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11340 # I need another!
		
		add_character_modifier = {
			name = potion_crash
			months = 24
		}
	}
}

# Mind permanently altered
character_event = {
	id = soh.11341
	desc = EVTDESC_SOH_11341
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11341 # They called me mad!
		
		add_trait_lunatic_effect = yes
	}
}

# Cleanup of potion brewing flag
character_event = {
	id = soh.11342
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		clr_character_flag = brewing_potion
	}
}



### Brew fertility potion

# Confirmation and ingredient selection - brewing for self
character_event = {
	id = soh.11343
	desc = EVTDESC_SOH_11343
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes # brew_fertility_potion targeted_decision
	
	immediate = {
		select_random_hermetic_ingredient_effect = yes
		select_random_hermetic_ingredient_effect = yes
	}

	option = { # I will use ingredient 1
		name = EVTOPTA_SOH_11343
		
		calculate_health_level_of_ingredient_1_effect = yes
		destroy_selected_ingredient_1_effect = yes
	}

	option = { # I will use ingredient 2
		trigger = {
			has_selected_ingredient_2_trigger = yes
			selected_ingredient_1_and_2_are_same = no
		}
		
		name = EVTOPTB_SOH_11343
		
		calculate_health_level_of_ingredient_2_effect = yes
		destroy_selected_ingredient_2_effect = yes
	}

	option = { # I will use both!
		trigger = {
			has_selected_ingredient_2_trigger = yes
			selected_ingredient_1_and_2_are_same = no
		}
		
		name = EVTOPTC_SOH_11343
		
		calculate_health_level_of_ingredient_1_and_2_effect = yes
		destroy_selected_ingredient_1_and_2_effect = yes
	}

	option = {
		name = EVTOPTD_SOH_11343 # Actually, let's not...

		add_society_currency_medium_effect = yes
		clr_character_flag = preparing_potion
		
		ai_chance = {
			factor = 0
		}
	}

	after = {
		remove_selection_of_ingredients_effect = yes
		
		hidden_tooltip = {
			if = {
				limit = {
					has_character_flag = preparing_potion
				}
				
				set_variable = {
					which = alchemist_fertility_potion_quality
					which = local_current_potion_quality
				}
				
				# Alchemist's knowledge matters a bit
				if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 100
						}
					}
					
					change_variable = {
						which = alchemist_fertility_potion_quality
						value = 3
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 75
						}
					}
					
					change_variable = {
						which = alchemist_fertility_potion_quality
						value = 3
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 50
						}
					}
					
					change_variable = {
						which = alchemist_fertility_potion_quality
						value = 2
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 25
						}
					}
					
					change_variable = {
						which = alchemist_fertility_potion_quality
						value = 1
					}
				}
				
				character_event = { id = soh.11348 days = 5 } # Determine the outcome
				
				character_event = { id = soh.11354 days = 10 } # Flag cleanup
			}
		}
	}
}

# Confirmation and ingredient selection - brewing for other
character_event = {
	id = soh.11344
	desc = EVTDESC_SOH_11344
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes # brew_fertility_potion targeted_decision
	
	immediate = {
		select_random_hermetic_ingredient_effect = yes
		select_random_hermetic_ingredient_effect = yes
	}

	option = { # I will use ingredient 1
		name = EVTOPTA_SOH_11344
		
		calculate_health_level_of_ingredient_1_effect = yes
		destroy_selected_ingredient_1_effect = yes
	}

	option = { # I will use ingredient 2
		trigger = {
			has_selected_ingredient_2_trigger = yes
			selected_ingredient_1_and_2_are_same = no
		}
		
		name = EVTOPTB_SOH_11344
		
		calculate_health_level_of_ingredient_2_effect = yes
		destroy_selected_ingredient_2_effect = yes
	}

	option = { # I will use both!
		trigger = {
			has_selected_ingredient_2_trigger = yes
			selected_ingredient_1_and_2_are_same = no
		}
		
		name = EVTOPTC_SOH_11344
		
		calculate_health_level_of_ingredient_1_and_2_effect = yes
		destroy_selected_ingredient_1_and_2_effect = yes
	}

	option = {
		name = EVTOPTD_SOH_11344 # Actually, let's not...

		add_society_currency_medium_effect = yes
		clr_character_flag = preparing_potion
		
		ai_chance = {
			factor = 0
		}
	}

	after = {
		remove_selection_of_ingredients_effect = yes
		
		hidden_tooltip = {
			if = {
				limit = {
					has_character_flag = preparing_potion
				}
				
				set_variable = {
					which = alchemist_fertility_potion_quality
					which = local_current_potion_quality
				}
				
				# Alchemist's knowledge matters a bit
				if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 100
						}
					}
					
					change_variable = {
						which = alchemist_fertility_potion_quality
						value = 3
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 75
						}
					}
					
					change_variable = {
						which = alchemist_fertility_potion_quality
						value = 3
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 50
						}
					}
					
					change_variable = {
						which = alchemist_fertility_potion_quality
						value = 2
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 25
						}
					}
					
					change_variable = {
						which = alchemist_fertility_potion_quality
						value = 1
					}
				}
				
				event_target:potion_target = {
					character_event = { id = soh.11345 } # Target offered the potion
				}
				
				character_event = { id = soh.11354 days = 10 } # Flag cleanup
			}
		}
	}
}

# Potion is delivered
character_event = {
	id = soh.11345
	desc = EVTDESC_SOH_11345
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11345 # Thank you!
		
		hidden_tooltip = {
			set_variable = {
				which = alchemist_fertility_potion_quality
				which = FROM
			}
		}
		
		FROM = {
			character_event = { id = soh.11347 } # Inform FROM
		}
		
		character_event = { id = soh.11348 days = 5 } # Determine the outcome
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = paranoid
					AND = {
						trait = chaste
						is_married = no
						is_consort = no
					}
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = chaste
				any_child = {
					is_alive = yes
					NOR = {
						trait = bastard
						trait = eunuch
						trait = disinherited
						trait = sent_to_china
					}
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = chaste
			}
			
			mult_modifier = {
				factor = 0.1
				trait = homosexual
			}
			
			mult_modifier = {
				factor = 2
				trait = ambitious
			}
			
			mult_modifier = {
				factor = 0.1
				has_character_flag = survivor_mom
			}
			
			mult_modifier = {
				factor = 0.5
				is_pregnant = yes
			}
			
			mult_modifier = {
				factor = 2
				OR = {
					has_ambition = obj_groom_an_heir
					has_ambition = obj_have_a_son
					has_ambition = obj_have_a_daughter
				}
			}
			
			mult_modifier = {
				factor = 2
				OR = {
					religion = confucian
					has_religion_feature = religion_feature_family_focus
					has_religion_feature = religion_feature_batak
					has_religion_feature = religion_feature_miao
					has_religion_feature = religion_feature_sundanese
					has_religion_feature = religion_feature_viet
					has_religion_feature = religion_feature_yi
					has_religion_feature = religion_feature_zhuang
				}
			}
			
			mult_modifier = {
				factor = 2
				has_focus = focus_family
			}
			
			mult_modifier = {
				factor = 2
				FROM = {
					trait = physician
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11345 # I don't trust that...
		
		FROM = {
			character_event = { id = soh.11346 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = trusting
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = lustful
			}
		}
	}
}

# Target refused to drink potion - alchemist
character_event = {
	id = soh.11346
	desc = EVTDESC_SOH_11346
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			OR = {
				is_female = no
				practical_age < 45
			}
			NOR = {
				trait = eunuch
				trait = celibate
			}
		}
		
		name = EVTOPTA_SOH_11346 # I guess *I* will take it, then...
		
		character_event = { id = soh.11348 days = 5 } # Determine the outcome
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = chaste
				any_child = {
					is_alive = yes
					NOR = {
						trait = bastard
						trait = eunuch
						trait = disinherited
						trait = sent_to_china
					}
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = chaste
			}
			
			mult_modifier = {
				factor = 0.1
				trait = homosexual
			}
			
			mult_modifier = {
				factor = 2
				trait = ambitious
			}
			
			mult_modifier = {
				factor = 0.1
				has_character_flag = survivor_mom
			}
			
			mult_modifier = {
				factor = 0.5
				is_pregnant = yes
			}
			
			mult_modifier = {
				factor = 2
				OR = {
					has_ambition = obj_groom_an_heir
					has_ambition = obj_have_a_son
					has_ambition = obj_have_a_daughter
				}
			}
			
			mult_modifier = {
				factor = 2
				OR = {
					religion = confucian
					has_religion_feature = religion_feature_family_focus
					has_religion_feature = religion_feature_batak
					has_religion_feature = religion_feature_miao
					has_religion_feature = religion_feature_sundanese
					has_religion_feature = religion_feature_viet
					has_religion_feature = religion_feature_yi
					has_religion_feature = religion_feature_zhuang
				}
			}
			
			mult_modifier = {
				factor = 2
				has_focus = focus_family
			}
			
			mult_modifier = {
				factor = 2
				FROM = {
					trait = physician
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11346 # What a waste...
		
		opinion = {
			who = FROM
			modifier = wasted_potion
		}
		
		ai_chance = {
			factor = 100
		}
	}
}

# Target drank potion
character_event = {
	id = soh.11347
	desc = EVTDESC_SOH_11347
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11347 # I will not pry into the matter...
	}
}

# Determine the outcome
character_event = {
	id = soh.11348
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		random_list = {
			100 = {
				trigger = {
					check_variable = {
						which = alchemist_fertility_potion_quality
						value >= 1
					}
				}
					
				mult_modifier = {
					factor = 2
					check_variable = {
						which = alchemist_fertility_potion_quality
						value >= 3
					}
				}
				
				mult_modifier = {
					factor = 1.5
					trait = chaste
				}
				
				character_event = { id = soh.11349 } # Increased libido
			}
			
			50 = {
				trigger = {
					check_variable = {
						which = alchemist_fertility_potion_quality
						value >= 0
					}
				}
					
				mult_modifier = {
					factor = 2
					check_variable = {
						which = alchemist_fertility_potion_quality
						value >= 2
					}
				}
				
				fertility = 0.05
				
				character_event = { id = soh.11350 } # Increased virility
			}
			
			100  = {
				trigger = {
					check_variable = {
						which = alchemist_fertility_potion_quality
						value < 3
					}
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = alchemist_fertility_potion_quality
						value >= -2
					}
				}
				
				character_event = { id = soh.11351 } # No effect
			}
			
			50 = {
				trigger = {
					check_variable = {
						which = alchemist_fertility_potion_quality
						value < 1
					}
				}
					
				mult_modifier = {
					factor = 2
					check_variable = {
						which = alchemist_fertility_potion_quality
						value < -1
					}
				}
				
				fertility = -0.05
				
				character_event = { id = soh.11352 } # Decreased virility
			}
			
			100 = {
				trigger = {
					check_variable = {
						which = alchemist_fertility_potion_quality
						value < 1
					}
				}
					
				mult_modifier = {
					factor = 2
					check_variable = {
						which = alchemist_fertility_potion_quality
						value < -1
					}
				}
				
				mult_modifier = {
					factor = 1.5
					trait = lustful
				}
				
				character_event = { id = soh.11353 } # Decreased libido
			}
		}
	}
}

# Your libido has increased
character_event = {
	id = soh.11349
	desc = EVTDESC_SOH_11349
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11349 # Excellent!
		
		random = {
			chance = 50
			add_trait_partially_lustful_effect = yes
		}
		
		add_character_modifier = {
			name = alchemist_good_fertility_potion
			months = 24
		}
		
		if = {
			limit = {
				NOT = {
					character = event_target:brewing_potion
				}
			}
			opinion = {
				who = event_target:brewing_potion
				modifier = helpful_potion
			}
		}
	}
}

# You feel more virile
character_event = {
	id = soh.11350
	desc = EVTDESC_SOH_11350
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11350 # Excellent!
		
		add_character_modifier = {
			name = alchemist_good_fertility_potion
			months = 24
		}
		
		if = {
			limit = {
				NOT = {
					character = event_target:brewing_potion
				}
			}
			opinion = {
				who = event_target:brewing_potion
				modifier = helpful_potion
			}
		}
	}
}

# You feel nothing of note
character_event = {
	id = soh.11351
	desc = EVTDESC_SOH_11351
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11351 # I don't feel different...
	}
}

# You feel less virile
character_event = {
	id = soh.11352
	desc = EVTDESC_SOH_11352
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11352 # That doesn't feel right...
		
		add_character_modifier = {
			name = alchemist_bad_fertility_potion
			months = 24
		}
		
		if = {
			limit = {
				NOT = {
					character = event_target:brewing_potion
				}
			}
			opinion = {
				who = event_target:brewing_potion
				modifier = harmful_potion
			}
		}
	}
}

# Your libido has decreased
character_event = {
	id = soh.11353
	desc = EVTDESC_SOH_11353
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11353 # That doesn't feel right...
		
		random = {
			chance = 50
			add_trait_partially_chaste_effect = yes
		}
		
		add_character_modifier = {
			name = alchemist_bad_fertility_potion
			months = 24
		}
		
		if = {
			limit = {
				NOT = {
					character = event_target:brewing_potion
				}
			}
			opinion = {
				who = event_target:brewing_potion
				modifier = harmful_potion
			}
		}
	}
}

# Cleanup of potion brewing flag
character_event = {
	id = soh.11354
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		clr_character_flag = brewing_potion
	}
}



### Brew aphrodisiac

# Confirmation and ingredient selection - brewing for self
character_event = {
	id = soh.11355
	desc = EVTDESC_SOH_11355
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes # brew_aphrodisiac targeted_decision
	
	immediate = {
		select_random_hermetic_ingredient_effect = yes
		select_random_hermetic_ingredient_effect = yes
	}

	option = { # I will use ingredient 1
		name = EVTOPTA_SOH_11355
		
		calculate_health_level_of_ingredient_1_effect = yes
		destroy_selected_ingredient_1_effect = yes
	}

	option = { # I will use ingredient 2
		trigger = {
			has_selected_ingredient_2_trigger = yes
			selected_ingredient_1_and_2_are_same = no
		}
		
		name = EVTOPTB_SOH_11355
		
		calculate_health_level_of_ingredient_2_effect = yes
		destroy_selected_ingredient_2_effect = yes
	}

	option = { # I will use both!
		trigger = {
			has_selected_ingredient_2_trigger = yes
			selected_ingredient_1_and_2_are_same = no
		}
		
		name = EVTOPTC_SOH_11355
		
		calculate_health_level_of_ingredient_1_and_2_effect = yes
		destroy_selected_ingredient_1_and_2_effect = yes
	}

	option = {
		name = EVTOPTD_SOH_11355 # Actually, let's not...

		add_society_currency_medium_effect = yes
		clr_character_flag = preparing_potion
		
		ai_chance = {
			factor = 0
		}
	}

	after = {
		remove_selection_of_ingredients_effect = yes
		
		hidden_tooltip = {
			if = {
				limit = {
					has_character_flag = preparing_potion
				}
				
				set_variable = {
					which = alchemist_aphrodisiac_quality
					which = local_current_potion_quality
				}
				
				# Alchemist's knowledge matters a bit
				if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 100
						}
					}
					
					change_variable = {
						which = alchemist_aphrodisiac_quality
						value = 3
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 75
						}
					}
					
					change_variable = {
						which = alchemist_aphrodisiac_quality
						value = 3
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 50
						}
					}
					
					change_variable = {
						which = alchemist_aphrodisiac_quality
						value = 2
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 25
						}
					}
					
					change_variable = {
						which = alchemist_aphrodisiac_quality
						value = 1
					}
				}
				
				character_event = { id = soh.11360 days = 5 } # Determine the outcome
				
				character_event = { id = soh.11378 days = 10 } # Flag cleanup
			}
		}
	}
}

# Confirmation and ingredient selection - brewing for other
character_event = {
	id = soh.11356
	desc = EVTDESC_SOH_11356
	picture = GFX_evt_experiment
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes # brew_aphrodisiac targeted_decision
	
	immediate = {
		select_random_hermetic_ingredient_effect = yes
		select_random_hermetic_ingredient_effect = yes
	}

	option = { # I will use ingredient 1
		name = EVTOPTA_SOH_11356
		
		calculate_health_level_of_ingredient_1_effect = yes
		destroy_selected_ingredient_1_effect = yes
	}

	option = { # I will use ingredient 2
		trigger = {
			has_selected_ingredient_2_trigger = yes
			selected_ingredient_1_and_2_are_same = no
		}
		
		name = EVTOPTB_SOH_11356
		
		calculate_health_level_of_ingredient_2_effect = yes
		destroy_selected_ingredient_2_effect = yes
	}

	option = { # I will use both!
		trigger = {
			has_selected_ingredient_2_trigger = yes
			selected_ingredient_1_and_2_are_same = no
		}
		
		name = EVTOPTC_SOH_11356
		
		calculate_health_level_of_ingredient_1_and_2_effect = yes
		destroy_selected_ingredient_1_and_2_effect = yes
	}

	option = {
		name = EVTOPTD_SOH_11356 # Actually, let's not...

		add_society_currency_medium_effect = yes
		clr_character_flag = preparing_potion
		
		ai_chance = {
			factor = 0
		}
	}

	after = {
		remove_selection_of_ingredients_effect = yes
		
		hidden_tooltip = {
			if = {
				limit = {
					has_character_flag = preparing_potion
				}
				
				set_variable = {
					which = alchemist_aphrodisiac_quality
					which = local_current_potion_quality
				}
				
				# Alchemist's knowledge matters a bit
				if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 100
						}
					}
					
					change_variable = {
						which = alchemist_aphrodisiac_quality
						value = 3
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 75
						}
					}
					
					change_variable = {
						which = alchemist_aphrodisiac_quality
						value = 3
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 50
						}
					}
					
					change_variable = {
						which = alchemist_aphrodisiac_quality
						value = 2
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 25
						}
					}
					
					change_variable = {
						which = alchemist_aphrodisiac_quality
						value = 1
					}
				}
				
				event_target:potion_target = {
					character_event = { id = soh.11357 } # Target offered the potion
				}
				
				character_event = { id = soh.11378 days = 10 } # Flag cleanup
			}
		}
	}
}

# Potion is delivered
character_event = {
	id = soh.11357
	desc = EVTDESC_SOH_11357
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11357 # Thank you!
		
		hidden_tooltip = {
			set_variable = {
				which = alchemist_aphrodisiac_quality
				which = FROM
			}
		}
		
		FROM = {
			character_event = { id = soh.11359 } # Inform FROM
		}
		
		character_event = { id = soh.11360 days = 5 } # Determine the outcome
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = paranoid
					AND = {
						trait = chaste
						is_married = no
						is_consort = no
					}
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = chaste
				any_child = {
					is_alive = yes
					NOR = {
						trait = bastard
						trait = eunuch
						trait = disinherited
						trait = sent_to_china
					}
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = chaste
			}
			
			mult_modifier = {
				factor = 0.1
				trait = homosexual
			}
			
			mult_modifier = {
				factor = 2
				trait = ambitious
			}
			
			mult_modifier = {
				factor = 0.1
				has_character_flag = survivor_mom
			}
			
			mult_modifier = {
				factor = 0.5
				is_pregnant = yes
			}
			
			mult_modifier = {
				factor = 2
				OR = {
					has_ambition = obj_groom_an_heir
					has_ambition = obj_have_a_son
					has_ambition = obj_have_a_daughter
				}
			}
			
			mult_modifier = {
				factor = 2
				OR = {
					religion = confucian
					has_religion_feature = religion_feature_family_focus
					has_religion_feature = religion_feature_batak
					has_religion_feature = religion_feature_miao
					has_religion_feature = religion_feature_sundanese
					has_religion_feature = religion_feature_viet
					has_religion_feature = religion_feature_yi
					has_religion_feature = religion_feature_zhuang
				}
			}
			
			mult_modifier = {
				factor = 2
				has_focus = focus_family
			}
			
			mult_modifier = {
				factor = 2
				FROM = {
					trait = physician
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11357 # I don't trust that...
		
		FROM = {
			character_event = { id = soh.11358 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = trusting
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = lustful
			}
		}
	}
}

# Target refused to drink potion - alchemist
character_event = {
	id = soh.11358
	desc = EVTDESC_SOH_11358
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			OR = {
				is_female = no
				practical_age < 45
			}
			NOR = {
				trait = eunuch
				trait = celibate
			}
		}
		
		name = EVTOPTA_SOH_11358 # I guess *I* will take it, then...
		
		character_event = { id = soh.11360 days = 5 } # Determine the outcome
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = chaste
				any_child = {
					is_alive = yes
					NOR = {
						trait = bastard
						trait = eunuch
						trait = disinherited
						trait = sent_to_china
					}
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = chaste
			}
			
			mult_modifier = {
				factor = 0.1
				trait = homosexual
			}
			
			mult_modifier = {
				factor = 2
				trait = ambitious
			}
			
			mult_modifier = {
				factor = 0.1
				has_character_flag = survivor_mom
			}
			
			mult_modifier = {
				factor = 0.5
				is_pregnant = yes
			}
			
			mult_modifier = {
				factor = 2
				OR = {
					has_ambition = obj_groom_an_heir
					has_ambition = obj_have_a_son
					has_ambition = obj_have_a_daughter
				}
			}
			
			mult_modifier = {
				factor = 2
				OR = {
					religion = confucian
					has_religion_feature = religion_feature_family_focus
					has_religion_feature = religion_feature_batak
					has_religion_feature = religion_feature_miao
					has_religion_feature = religion_feature_sundanese
					has_religion_feature = religion_feature_viet
					has_religion_feature = religion_feature_yi
					has_religion_feature = religion_feature_zhuang
				}
			}
			
			mult_modifier = {
				factor = 2
				has_focus = focus_family
			}
			
			mult_modifier = {
				factor = 2
				FROM = {
					trait = physician
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11358 # What a waste...
		
		opinion = {
			who = FROM
			modifier = wasted_potion
		}
		
		ai_chance = {
			factor = 100
		}
	}
}

# Target drank potion
character_event = {
	id = soh.11359
	desc = EVTDESC_SOH_11359
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11359 # I will not pry into the matter...
	}
}

# Determine the outcome
character_event = {
	id = soh.11360
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		random_list = {
			100 = {
				trigger = {
					check_variable = {
						which = alchemist_aphrodisiac_quality
						value >= 2
					}
					is_unattractive_trigger = no
					employer = {
						any_courtier = {
							is_adult = yes
							is_landed = no
							is_inaccessible_or_incapable_trigger = no
							root_attraction_trigger = yes
							attracted_to_root_trigger = yes
							OR = {
								NOT = {
									is_close_relative = ROOT
								}
								religion_has_incest = yes
							}
							NOR = {
								trait = celibate
								trait = chaste
							}
							OR = {
								trait = lustful
								NOT = {
									any_lover = {
										OR = {
											is_married = PREV
											is_consort = PREV
										}
									}
								}
							}
							NOR = {
								is_rival = ROOT
								is_lover = ROOT
								is_married = ROOT
								is_consort = ROOT
							}
						}
					}
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = alchemist_aphrodisiac_quality
						value >= 4
					}
				}
				
				mult_modifier = {
					factor = 2
					is_attractive_trigger = yes
				}
				
				mult_modifier = {
					factor = 10
					trait = master_seducer
				}
				
				mult_modifier = {
					factor = 10
					trait = master_seductress
				}
				
				character_event = { id = soh.11361 } # Propositioned by random courtier
			}
			
			100 = {
				trigger = {
					check_variable = {
						which = alchemist_aphrodisiac_quality
						value >= 2
					}
					employer = {
						any_courtier = {
							is_inaccessible_or_incapable_trigger = no
							root_attraction_trigger = yes
							attracted_to_root_trigger = yes
							OR = {
								NOT = {
									is_close_relative = ROOT
								}
								religion_has_incest = yes
							}
							NOR = {
								trait = celibate
								trait = chaste
							}
							OR = {
								trait = lustful
								NOT = {
									any_lover = {
										OR = {
											is_married = PREV
											is_consort = PREV
										}
									}
								}
							}
							NOR = {
								is_rival = ROOT
								is_lover = ROOT
							}
							OR = {
								is_married = ROOT
								is_consort = ROOT
							}
						}
					}
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = alchemist_aphrodisiac_quality
						value >= 4
					}
				}
				
				mult_modifier = {
					factor = 0.5
					trait = shy
				}
				
				mult_modifier = {
					factor = 2
					is_attractive_trigger = yes
				}
				
				mult_modifier = {
					factor = 10
					trait = master_seducer
				}
				
				mult_modifier = {
					factor = 10
					trait = master_seductress
				}
				
				employer = {
					random_courtier = {
						limit = {
							is_inaccessible_or_incapable_trigger = no
							root_attraction_trigger = yes
							attracted_to_root_trigger = yes
							OR = {
								NOT = {
									is_close_relative = ROOT
								}
								religion_has_incest = yes
							}
							NOR = {
								trait = celibate
								trait = chaste
							}
							OR = {
								trait = lustful
								NOT = {
									any_lover = {
										OR = {
											is_married = PREV
											is_consort = PREV
										}
									}
								}
							}
							NOR = {
								is_rival = ROOT
								is_lover = ROOT
							}
							OR = {
								is_married = ROOT
								is_consort = ROOT
							}
						}
						
						preferred_limit = {
							trait = lustful
							OR = {
								trait = master_seducer
								trait = master_seductress
							}
							is_attractive_trigger = yes
							opinion = {
								who = ROOT
								value >= 50
							}
						}
						
						preferred_limit = {
							trait = lustful
							is_attractive_trigger = yes
							opinion = {
								who = ROOT
								value >= 50
							}
						}
						
						preferred_limit = {
							trait = lustful
							opinion = {
								who = ROOT
								value >= 50
							}
						}
						
						preferred_limit = {
							trait = lustful
							OR = {
								trait = master_seducer
								trait = master_seductress
							}
							is_attractive_trigger = yes
							opinion = {
								who = ROOT
								value >= 0
							}
						}
						
						preferred_limit = {
							trait = lustful
							is_attractive_trigger = yes
							opinion = {
								who = ROOT
								value >= 0
							}
						}
						
						preferred_limit = {
							trait = lustful
							opinion = {
								who = ROOT
								value >= 0
							}
						}
						
						preferred_limit = {
							trait = lustful
							OR = {
								trait = master_seducer
								trait = master_seductress
							}
							is_attractive_trigger = yes
						}
						
						preferred_limit = {
							trait = lustful
							is_attractive_trigger = yes
						}
						
						preferred_limit = {
							trait = lustful
						}
				
						character_event = { id = soh.11362 } # Possibly propositioned by spouse/consort
					}
				}
			}
			
			100 = {
				trigger = {
					check_variable = {
						which = alchemist_aphrodisiac_quality
						value >= 2
					}
					any_lover = {
						NOT = {
							trait = celibate
						}
						is_inaccessible_or_incapable_trigger = no
					}
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = alchemist_aphrodisiac_quality
						value >= 4
					}
				}
				
				mult_modifier = {
					factor = 0.5
					trait = shy
				}
				
				mult_modifier = {
					factor = 2
					is_attractive_trigger = yes
				}
				
				mult_modifier = {
					factor = 10
					trait = master_seducer
				}
				
				mult_modifier = {
					factor = 10
					trait = master_seductress
				}
				
				random_lover = {
					limit = {
						NOT = {
							trait = celibate
						}
						is_inaccessible_or_incapable_trigger = no
					}
					character_event = { id = soh.11366 } # Lover might suggest spending time together
				}
			}
			
			100 = {
				trigger = {
					check_variable = {
						which = alchemist_aphrodisiac_quality
						value >= 1
					}
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = alchemist_aphrodisiac_quality
						value >= 3
					}
				}
				
				mult_modifier = {
					factor = 0.5
					trait = shy
				}
				
				mult_modifier = {
					factor = 2
					is_attractive_trigger = yes
				}
				
				character_event = { id = soh.11370 } # People seem to be paying more attention to you
			}
			
			100 = {
				trigger = {
					check_variable = {
						which = alchemist_aphrodisiac_quality
						value >= 0
					}
				}
				
				mult_modifier = {
					factor = 2
					check_variable = {
						which = alchemist_aphrodisiac_quality
						value >= 2
					}
				}
				
				mult_modifier = {
					factor = 2
					is_attractive_trigger = yes
				}
				
				character_event = { id = soh.11371 } # Confidence boost
			}
			
			100 = {
				trigger = {
					NOT = {
						check_variable = {
							which = alchemist_aphrodisiac_quality
							value >= 3
						}
					}
					check_variable = {
						which = alchemist_aphrodisiac_quality
						value >= 0
					}
				}
				
				character_event = { id = soh.11372 } # No effect
			}
			
			50 = {
				trigger = {
					NOT = {
						check_variable = {
							which = alchemist_aphrodisiac_quality
							value >= 2
						}
					}
					check_variable = {
						which = alchemist_aphrodisiac_quality
						value >= -1
					}
				}
				
				mult_modifier = {
					factor = 0.5
					check_variable = {
						which = alchemist_aphrodisiac_quality
						value >= 0
					}
				}
				
				character_event = { id = soh.11373 } # Potion made you smell weird
			}
			
			100 = {
				trigger = {
					check_variable = {
						which = alchemist_aphrodisiac_quality
						value < 1
					}
				}
					
				mult_modifier = {
					factor = 2
					check_variable = {
						which = alchemist_aphrodisiac_quality
						value < -1
					}
				}
				
				mult_modifier = {
					factor = 2
					is_unattractive_trigger = yes
				}
				
				character_event = { id = soh.11374 } # People seem to be paying more attention to you, and not in a good way
			}
			
			100 = {
				trigger = {
					check_variable = {
						which = alchemist_aphrodisiac_quality
						value < 0
					}
				}
					
				mult_modifier = {
					factor = 2
					check_variable = {
						which = alchemist_aphrodisiac_quality
						value < -2
					}
				}
				
				mult_modifier = {
					factor = 2
					is_unattractive_trigger = yes
				}
				
				character_event = { id = soh.11375 } # People seem to be repulsed by your presence
			}
			
			100 = {
				trigger = {
					check_variable = {
						which = alchemist_aphrodisiac_quality
						value < -1
					}
					NOR = {
						trait = master_seducer
						trait = master_seductress
					}
					any_lover = {
						is_inaccessible_or_incapable_trigger = no
					}
				}
					
				mult_modifier = {
					factor = 2
					check_variable = {
						which = alchemist_aphrodisiac_quality
						value < -3
					}
				}
				
				mult_modifier = {
					factor = 2
					is_unattractive_trigger = yes
				}
				
				add_character_modifier = {
					name = alchemist_terrible_aphrodisiac
					months = 24
				}
				
				random_lover = {
					limit = {
						is_inaccessible_or_incapable_trigger = no
					}
				
					character_event = { id = soh.11376 } # Lover might break things off
				}
			}
		}
	}
}

# Potion seems to make people pay much attention to you - propositioned
character_event = {
	id = soh.11361
	desc = EVTDESC_SOH_11361
	picture = GFX_evt_dancing
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	immediate = {
		employer = {
			random_courtier = {
				limit = {
					is_adult = yes
					is_landed = no
					is_inaccessible_or_incapable_trigger = no
					root_attraction_trigger = yes
					attracted_to_root_trigger = yes
					OR = {
						NOT = {
							is_close_relative = ROOT
						}
						religion_has_incest = yes
					}
					NOR = {
						trait = celibate
						trait = chaste
					}
					OR = {
						trait = lustful
						NOT = {
							any_lover = {
								OR = {
									is_married = PREV
									is_consort = PREV
								}
							}
						}
					}
					NOR = {
						is_rival = ROOT
						is_lover = ROOT
						is_married = ROOT
						is_consort = ROOT
					}
				}
				
				preferred_limit = {
					trait = lustful
					OR = {
						trait = master_seducer
						trait = master_seductress
					}
					is_attractive_trigger = yes
					opinion = {
						who = ROOT
						value >= 50
					}
				}
				
				preferred_limit = {
					trait = lustful
					is_attractive_trigger = yes
					opinion = {
						who = ROOT
						value >= 50
					}
				}
				
				preferred_limit = {
					trait = lustful
					opinion = {
						who = ROOT
						value >= 50
					}
				}
				
				preferred_limit = {
					trait = lustful
					OR = {
						trait = master_seducer
						trait = master_seductress
					}
					is_attractive_trigger = yes
					opinion = {
						who = ROOT
						value >= 0
					}
				}
				
				preferred_limit = {
					trait = lustful
					is_attractive_trigger = yes
					opinion = {
						who = ROOT
						value >= 0
					}
				}
				
				preferred_limit = {
					trait = lustful
					opinion = {
						who = ROOT
						value >= 0
					}
				}
				
				preferred_limit = {
					trait = lustful
					OR = {
						trait = master_seducer
						trait = master_seductress
					}
					is_attractive_trigger = yes
				}
				
				preferred_limit = {
					trait = lustful
					is_attractive_trigger = yes
				}
				
				preferred_limit = {
					trait = lustful
				}
				
				save_event_target_as = possible_lover
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_11361 # Yes!
		
		add_character_modifier = {
			name = alchemist_great_aphrodisiac
			months = 24
		}
		
		if = {
			limit = {
				NOT = {
					character = event_target:brewing_potion
				}
			}
			opinion = {
				who = event_target:brewing_potion
				modifier = helpful_potion
			}
		}
		
		event_target:possible_lover = {
			save_event_target_as = sex_partner
			
			add_lover = ROOT
		}
		
		unprotected_sex_effect_event_target = yes
		
		piety = -10
		
		ai_chance = {
			trigger = {
				NOR = {
					trait = chaste
					trait = celibate
					AND = {
						is_ascetic_trigger = yes
						NOT = {
							trait = lustful
						}
					}
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				FROM = {
					is_unattractive_trigger = yes
				}
			}
			
			mult_modifier = {
				factor = 5
				FROM = {
					is_attractive_trigger = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11361 # I don't think so!
		
		add_character_modifier = {
			name = alchemist_great_aphrodisiac
			months = 24
		}
		
		if = {
			limit = {
				NOT = {
					character = event_target:brewing_potion
				}
			}
			opinion = {
				who = event_target:brewing_potion
				modifier = helpful_potion
			}
		}
		
		piety = 10
		
		ai_chance = {
			trigger = {
				NOR = {
					trait = lustful
					trait = master_seducer
					trait = master_seductress
				}
			}
			
			factor = 100
		}
	}
}

# Non-lover spouse/consort might proposition character
character_event = {
	id = soh.11362
	desc = EVTDESC_SOH_11362
	picture = GFX_evt_dancing
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11362 # Let's do it!
		
		FROM = {
			character_event = { id = soh.11363 } # Propositioned
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 2
				trait = lustful
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11362 # I think not!
		
		FROM = {
			character_event = { id = soh.11370 } # People seem to be paying more attention to you
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 2
				trait = chaste
			}
			
			mult_modifier = {
				factor = 10
				opinion = {
					who = FROM
					value < 0
				}
			}
		}
	}
}

# Non-lover spouse/consort propositions you
character_event = {
	id = soh.11363
	desc = EVTDESC_SOH_11363
	picture = GFX_evt_dancing
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11363 # Yes!
		
		add_character_modifier = {
			name = alchemist_great_aphrodisiac
			months = 24
		}
		
		if = {
			limit = {
				NOT = {
					character = event_target:brewing_potion
				}
			}
			opinion = {
				who = event_target:brewing_potion
				modifier = helpful_potion
			}
		}
		
		add_lover = FROM
		
		unprotected_sex_effect = yes
		
		FROM = {
			character_event = { id = soh.11364 } # Lovers
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				FROM = {
					is_unattractive_trigger = yes
				}
			}
			
			mult_modifier = {
				factor = 5
				FROM = {
					is_attractive_trigger = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11363 # I don't think so!
		
		add_character_modifier = {
			name = alchemist_great_aphrodisiac
			months = 24
		}
		
		if = {
			limit = {
				NOT = {
					character = event_target:brewing_potion
				}
			}
			opinion = {
				who = event_target:brewing_potion
				modifier = helpful_potion
			}
		}
		
		FROM = {
			character_event = { id = soh.11365 } # Not lovers
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = lustful
				}
			}
			
			factor = 100
		}
	}
}

# Became lovers
character_event = {
	id = soh.11364
	desc = EVTDESC_SOH_11364
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11364 # Great!
		
		add_lover = FROM
	}
}

# Turned down
character_event = {
	id = soh.11365
	desc = EVTDESC_SOH_11365
	picture = GFX_evt_dancing
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11365 # I see...
	}
}

# Lover might suggest spending time together
character_event = {
	id = soh.11366
	desc = EVTDESC_SOH_11366
	picture = GFX_evt_dancing
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11366 # Let's do it!
		
		FROM = {
			character_event = { id = soh.11367 } # Propositioned
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 2
				trait = lustful
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11366 # I think not!
		
		FROM = {
			character_event = { id = soh.11370 } # People seem to be paying more attention to you
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 2
				trait = chaste
			}
			
			mult_modifier = {
				factor = 10
				opinion = {
					who = FROM
					value < 0
				}
			}
		}
	}
}

# Lover suggests spending time together
character_event = {
	id = soh.11367
	desc = EVTDESC_SOH_11367
	picture = GFX_evt_dancing
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11367 # Yes!
		
		add_character_modifier = {
			name = alchemist_great_aphrodisiac
			months = 24
		}
		
		if = {
			limit = {
				NOT = {
					character = event_target:brewing_potion
				}
			}
			opinion = {
				who = event_target:brewing_potion
				modifier = helpful_potion
			}
		}
		
		unprotected_sex_effect = yes
		
		FROM = {
			character_event = { id = soh.11368 } # Accepted
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				FROM = {
					is_unattractive_trigger = yes
				}
			}
			
			mult_modifier = {
				factor = 5
				FROM = {
					is_attractive_trigger = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11367 # I don't think so!
		
		add_character_modifier = {
			name = alchemist_great_aphrodisiac
			months = 24
		}
		
		if = {
			limit = {
				NOT = {
					character = event_target:brewing_potion
				}
			}
			opinion = {
				who = event_target:brewing_potion
				modifier = helpful_potion
			}
		}
		
		FROM = {
			character_event = { id = soh.11369 } # Refused
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = lustful
				}
			}
			
			factor = 100
		}
	}
}

# Proposal accepted
character_event = {
	id = soh.11368
	desc = EVTDESC_SOH_11368
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11368 # Great!
	}
}

# Proposal refused
character_event = {
	id = soh.11369
	desc = EVTDESC_SOH_11369
	picture = GFX_evt_dancing
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11369 # I see...
	}
}

# Potion seems to make people pay more attention to you
character_event = {
	id = soh.11370
	desc = EVTDESC_SOH_11370
	picture = GFX_evt_dancing
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11370 # Great!
		
		add_character_modifier = {
			name = alchemist_good_aphrodisiac
			months = 24
		}
		
		if = {
			limit = {
				NOT = {
					character = event_target:brewing_potion
				}
			}
			opinion = {
				who = event_target:brewing_potion
				modifier = helpful_potion
			}
		}
	}
}

# Potion likely helped - confidence boost
character_event = {
	id = soh.11371
	desc = EVTDESC_SOH_11371
	picture = GFX_evt_dancing
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11371 # Great!
		
		random = {
			chance = 50
			add_trait_partially_gregarious_effect = yes
		}
		
		random = {
			chance = 25
			add_trait_partially_proud_effect = yes
		}
		
		if = {
			limit = {
				NOT = {
					character = event_target:brewing_potion
				}
			}
			opinion = {
				who = event_target:brewing_potion
				modifier = helpful_potion
			}
		}
	}
}

# Potion changed nothing
character_event = {
	id = soh.11372
	desc = EVTDESC_SOH_11372
	picture = GFX_evt_dancing
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11372 # I expected... something...
	}
}

# Potion made you smell weird
character_event = {
	id = soh.11373
	desc = EVTDESC_SOH_11373
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11373 # Is that me...?
		
		add_trait_partially_uncouth_effect = yes
		
		add_character_modifier = {
			name = smelly_courtier
			years = 2
		}
		
		if = {
			limit = {
				NOT = {
					character = event_target:brewing_potion
				}
			}
			opinion = {
				who = event_target:brewing_potion
				modifier = harmful_potion
			}
		}
	}
}

# Potion seems to make people pay more attention to you, and not in a good way
character_event = {
	id = soh.11374
	desc = EVTDESC_SOH_11374
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11374 # Oh no!
		
		add_character_modifier = {
			name = alchemist_bad_aphrodisiac
			months = 24
		}
		
		if = {
			limit = {
				NOT = {
					character = event_target:brewing_potion
				}
			}
			opinion = {
				who = event_target:brewing_potion
				modifier = harmful_potion
			}
		}
	}
}

# Potion seems to make people repulsed by your presence
character_event = {
	id = soh.11375
	desc = EVTDESC_SOH_11375
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11375 # Oh no!
		
		add_character_modifier = {
			name = alchemist_terrible_aphrodisiac
			months = 24
		}
		
		if = {
			limit = {
				NOT = {
					character = event_target:brewing_potion
				}
			}
			opinion = {
				who = event_target:brewing_potion
				modifier = harmful_potion
			}
		}
	}
}

# Lover might break things off
character_event = {
	id = soh.11376
	desc = EVTDESC_SOH_11376
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11376 # Yes!
		
		remove_lover = FROM
		
		FROM = {
			character_event = { id = soh.11377 } # Lover broke things off
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 10
				FROM = {
					is_unattractive_trigger = yes
				}
			}
			
			mult_modifier = {
				factor = 0.5
				FROM = {
					is_attractive_trigger = yes
				}
			}
			
			mult_modifier = {
				factor = 0.5
				FROM = {
					OR = {
						trait = master_seducer
						trait = master_seductress
					}
				}
			}
			
			mult_modifier = {
				factor = 0.1
				opinion = {
					who = FROM
					value >= 50
				}
			}
			
			mult_modifier = {
				factor = 0.2
				is_married = FROM
			}
			
			mult_modifier = {
				factor = 0.5
				is_consort = FROM
			}
			
			mult_modifier = {
				factor = 2
				trait = proud
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11376 # No!
		
		FROM = {
			character_event = { id = soh.11375 } # People seem repulsed
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 5
				trait = humble
			}
		}
	}
}

# Lover broke things off
character_event = {
	id = soh.11377
	desc = EVTDESC_SOH_11377
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11377 # Oh no!
		
		remove_lover = FROM
		
		add_character_modifier = {
			name = alchemist_terrible_aphrodisiac
			months = 24
		}
		
		if = {
			limit = {
				NOT = {
					character = event_target:brewing_potion
				}
			}
			opinion = {
				who = event_target:brewing_potion
				modifier = harmful_potion
			}
		}
	}
}

# Cleanup of potion brewing flag
character_event = {
	id = soh.11378
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		clr_character_flag = brewing_potion
	}
}



### Interview society member

# Target approached
character_event = {
	id = soh.11379
	desc = EVTDESC_SOH_11379
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes # interview_society_member targeted_decision
	
	option = {
		name = EVTOPTA_SOH_11379 # Very well...
		
		event_target:interviewer = {
			character_event = { id = soh.11381 days = 1 } # Inform interviewer
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = paranoid
			}
			
			mult_modifier = {
				factor = 0.5
				is_rival = event_target:interviewer
			}
			
			mult_modifier = {
				factor = 0.5
				trait = proud
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11379 # I think not!
		
		detract_society_currency_minor_effect = yes
		
		clr_character_flag = interview_ongoing
		
		event_target:interviewer = {
			character_event = { id = soh.11380 days = 1 } # Inform interviewer
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = trusting
					is_friend = event_target:interviewer
					is_lover = event_target:interviewer
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = humble
			}
		}
	}
}

# Target refused interview
character_event = {
	id = soh.11380
	desc = EVTDESC_SOH_11380
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11380 # How rude!
		
		clr_character_flag = interview_ongoing
		
		opinion = {
			who = FROM
			modifier = refused_interview
		}
	}
}

# Target accepted request - what are you interviewing them about?
character_event = {
	id = soh.11381
	desc = EVTDESC_SOH_11381
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11381 # Tell me about healing!
		
		set_character_flag = interview_healing
	}
	
	option = {
		name = EVTOPTB_SOH_11381 # Tell me about poisons!
		
		set_character_flag = interview_poison
	}
	
	after = {
		FROM = {
			character_event = { id = soh.11382 days = 1 } # Target told of topic
		}
		
		character_event = { id = soh.11391 days = 10 } # Flag cleanup
	}
}

# Target told of the topic at hand
character_event = {
	id = soh.11382
	desc = {
		text = EVTDESCA_SOH_11382
		trigger = {
			FROM = {
				has_character_flag = interview_healing
			}
		}
	}
	desc = {
		text = EVTDESCB_SOH_11382
		trigger = {
			FROM = {
				has_character_flag = interview_poison
			}
		}
	}
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		clear_flags_with_prefix = interview_interviewee_
	}
	
	option = {
		trigger = {
			NOR = {
				trait = paranoid
				is_rival = FROM
				trait = deceitful
			}
		}
		
		name = EVTOPTA_SOH_11382 # I will tell FROM everything!
		
		add_trait_partially_honest_effect = yes
		
		set_character_flag = interview_interviewee_tell_everything
		
		FROM = {
			character_event = { id = soh.11383 } # Told everything
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 10
				trait = honest
			}
			
			mult_modifier = {
				factor = 0.1
				trait = arbitrary
			}
			
			mult_modifier = {
				factor = 10
				trait = humble
			}
		}
	}
	
	option = {
		trigger = {
			OR = {
				trait = paranoid
				is_rival = FROM
				trait = deceitful
			}
		}
		
		name = EVTOPTB_SOH_11382 # I will lie about telling everything!
		
		add_trait_partially_deceitful_effect = yes
		
		set_character_flag = interview_interviewee_tell_everything_lie
		
		hidden_tooltip = {
			random_list = {
				50 = {
					trigger = {
						attribute_diff = {
							who = FROM
							attribute = intrigue
							value >= -5
						}
					}
					
					mult_modifier = {
						factor = 2
						attribute_diff = {
							who = FROM
							attribute = intrigue
							value >= 0
						}
					}
					
					mult_modifier = {
						factor = 2
						attribute_diff = {
							who = FROM
							attribute = intrigue
							value >= 5
						}
					}
					
					mult_modifier = {
						factor = 10
						FROM = {
							trait = trusting
						}
					}
					
					FROM = {
						character_event = { id = soh.11383 } # Told everything (or not)
					}
				}
				
				50 = {
					trigger = {
						NOT = {
							attribute_diff = {
								who = FROM
								attribute = intrigue
								value >= 10
							}
						}
					}
					
					mult_modifier = {
						factor = 10
						FROM = {
							trait = paranoid
						}
					}
					
					mult_modifier = {
						factor = 0.5
						NOR = {
							AND = {
								FROM = {
									has_character_flag = interview_healing
								}
								check_variable = {
									which = alchemist_healing_knowledge
									which = FROM
								}
							}
							AND = {
								FROM = {
									has_character_flag = interview_poison
								}
								check_variable = {
									which = alchemist_poison_knowledge
									which = FROM
								}
							}
						}
					}
					
					FROM = {
						character_event = { id = soh.11385 } # Unbelievable lies
					}
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = honest
					is_friend = FROM
					is_lover = FROM
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = just
			}
		}
	}
	
	option = {
		trigger = {
			NOT = {
				trait = paranoid
			}
		}
		
		name = EVTOPTC_SOH_11382 # I will tell some things...
		
		set_character_flag = interview_interviewee_tell_some_things
		
		FROM = {
			character_event = { id = soh.11387 } # Told some things
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				is_rival = FROM
			}
		}
	}
	
	option = {
		trigger = {
			OR = {
				trait = paranoid
				is_rival = FROM
			}
		}
		
		name = EVTOPTD_SOH_11382 # I will tell as little as possible!
		
		set_character_flag = interview_interviewee_tell_very_little
		
		FROM = {
			character_event = { id = soh.11388 } # Told very little
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 10
				trait = paranoid
			}
			
			mult_modifier = {
				factor = 10
				trait = proud
			}
			
			mult_modifier = {
				factor = 10
				trait = stubborn
			}
		}
	}
}

# Told everything the target knew (or at least that's what they claimed)
character_event = {
	id = soh.11383
	desc = EVTDESC_SOH_11383
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				has_character_flag = interview_healing
			}
			
			FROM = {
				trigger_switch = {
					on_trigger = has_character_flag
					
					interview_interviewee_tell_everything = {
						if = {
							limit = {
								check_variable = {
									which = alchemist_healing_knowledge
									value >= 100
								}
							}
							
							ROOT = {
								change_variable = {
									which = alchemist_healing_knowledge
									value = 10
								}
							}
						}
						
						else_if = {
							limit = {
								check_variable = {
									which = alchemist_healing_knowledge
									value >= 75
								}
							}
							
							ROOT = {
								change_variable = {
									which = alchemist_healing_knowledge
									value = 8
								}
							}
						}
						
						else_if = {
							limit = {
								check_variable = {
									which = alchemist_healing_knowledge
									value >= 50
								}
							}
							
							ROOT = {
								change_variable = {
									which = alchemist_healing_knowledge
									value = 6
								}
							}
						}
						
						else_if = {
							limit = {
								check_variable = {
									which = alchemist_healing_knowledge
									value >= 25
								}
							}
							
							ROOT = {
								change_variable = {
									which = alchemist_healing_knowledge
									value = 4
								}
							}
						}
						
						else = {
							ROOT = {
								change_variable = {
									which = alchemist_healing_knowledge
									value = 2
								}
							}
						}
					}
					
					interview_interviewee_tell_everything_lie = {
						if = {
							limit = {
								check_variable = {
									which = alchemist_healing_knowledge
									value >= 100
								}
							}
							
							ROOT = {
								change_variable = {
									which = alchemist_healing_knowledge
									value = 1
								}
							}
						}
						
						else_if = {
							limit = {
								check_variable = {
									which = alchemist_healing_knowledge
									value >= 75
								}
							}
							
							ROOT = {
								change_variable = {
									which = alchemist_healing_knowledge
									value = 0.75
								}
							}
						}
						
						else_if = {
							limit = {
								check_variable = {
									which = alchemist_healing_knowledge
									value >= 50
								}
							}
							
							ROOT = {
								change_variable = {
									which = alchemist_healing_knowledge
									value = 0.5
								}
							}
						}
						
						else_if = {
							limit = {
								check_variable = {
									which = alchemist_healing_knowledge
									value >= 25
								}
							}
							
							ROOT = {
								change_variable = {
									which = alchemist_healing_knowledge
									value = 0.25
								}
							}
						}
					}
				}
			}
		}
		
		else = {
			FROM = {
				trigger_switch = {
					on_trigger = has_character_flag
					
					interview_interviewee_tell_everything = {
						if = {
							limit = {
								check_variable = {
									which = alchemist_poison_knowledge
									value >= 100
								}
							}
							
							ROOT = {
								change_variable = {
									which = alchemist_poison_knowledge
									value = 10
								}
							}
						}
						
						else_if = {
							limit = {
								check_variable = {
									which = alchemist_poison_knowledge
									value >= 75
								}
							}
							
							ROOT = {
								change_variable = {
									which = alchemist_poison_knowledge
									value = 8
								}
							}
						}
						
						else_if = {
							limit = {
								check_variable = {
									which = alchemist_poison_knowledge
									value >= 50
								}
							}
							
							ROOT = {
								change_variable = {
									which = alchemist_poison_knowledge
									value = 6
								}
							}
						}
						
						else_if = {
							limit = {
								check_variable = {
									which = alchemist_poison_knowledge
									value >= 25
								}
							}
							
							ROOT = {
								change_variable = {
									which = alchemist_poison_knowledge
									value = 4
								}
							}
						}
						
						else = {
							ROOT = {
								change_variable = {
									which = alchemist_poison_knowledge
									value = 2
								}
							}
						}
					}
					
					interview_interviewee_tell_everything_lie = {
						if = {
							limit = {
								check_variable = {
									which = alchemist_poison_knowledge
									value >= 100
								}
							}
							
							ROOT = {
								change_variable = {
									which = alchemist_poison_knowledge
									value = 1
								}
							}
						}
						
						else_if = {
							limit = {
								check_variable = {
									which = alchemist_poison_knowledge
									value >= 75
								}
							}
							
							ROOT = {
								change_variable = {
									which = alchemist_poison_knowledge
									value = 0.75
								}
							}
						}
						
						else_if = {
							limit = {
								check_variable = {
									which = alchemist_poison_knowledge
									value >= 50
								}
							}
							
							ROOT = {
								change_variable = {
									which = alchemist_poison_knowledge
									value = 0.5
								}
							}
						}
						
						else_if = {
							limit = {
								check_variable = {
									which = alchemist_poison_knowledge
									value >= 25
								}
							}
							
							ROOT = {
								change_variable = {
									which = alchemist_poison_knowledge
									value = 0.25
								}
							}
						}
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_11383 # That's very useful!
		
		add_trait_partially_kind_effect = yes
		
		FROM = {
			character_event = { id = soh.11384 days = 1 }
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = envious
					trait = proud
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = shy
			}
			
			mult_modifier = {
				factor = 0.1
				trait = envious
			}
			
			mult_modifier = {
				factor = 0.1
				trait = proud
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11383 # That's all!
		
		prestige = -50
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = kind
					trait = humble
					NOT = {
						trait = shy
					}
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = kind
			}
			
			mult_modifier = {
				factor = 0.1
				trait = humble
			}
		}
	}
}

# Publicly praised by target
character_event = {
	id = soh.11384
	desc = EVTDESC_SOH_11384
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			has_character_flag = interview_interviewee_tell_everything
		}
		
		name = EVTOPTA_SOH_11384 # It's nice to be appreciated!
		
		prestige = 100
	}
	
	option = {
		trigger = {
			has_character_flag = interview_interviewee_tell_everything_lie
		}
		
		name = EVTOPTB_SOH_11384 # What a gullible fool!
		
		prestige = 250
	}
}

# Told a bunch of lies
character_event = {
	id = soh.11385
	desc = EVTDESC_SOH_11385
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11385 # You lie!
		
		if = {
			limit = {
				OR = {
					is_friend = FROM
					is_lover = FROM
				}
			}
			
			if = {
				limit = {
					is_friend = FROM
				}
				
				remove_friend = FROM
			}
			
			if = {
				limit = {
					is_lover = FROM
				}
				
				remove_lover = FROM
			}
		}
		
		else = {
			add_rival = FROM
		}
		
		opinion = {
			who = FROM
			modifier = lying_alchemist
		}
		
		reverse_opinion = {
			who = FROM
			modifier = revealed_my_lies
		}
		
		FROM = {
			character_event = { id = soh.11386 days = 1 } # Revealed lies to the world
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = shy
					trait = proud
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = shy
			}
			
			mult_modifier = {
				factor = 0.1
				trait = envious
			}
			
			mult_modifier = {
				factor = 0.1
				trait = proud
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_11385 # That's that...
		
		prestige = -100
		
		opinion = {
			who = FROM
			modifier = lying_alchemist
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = kind
					trait = humble
					NOT = {
						trait = shy
					}
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = kind
			}
			
			mult_modifier = {
				factor = 0.1
				trait = humble
			}
		}
	}
}

# Interviewer publicly reveals your lies
character_event = {
	id = soh.11386
	desc = EVTDESC_SOH_11386
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11386 # Damn!
		
		prestige = -100
		
		detract_society_currency_minor_effect = yes
		
		opinion = {
			who = FROM
			modifier = revealed_my_lies
		}
	}
}

# Told some useful things
character_event = {
	id = soh.11387
	desc = EVTDESC_SOH_11387
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				has_character_flag = interview_healing
			}
			
			FROM = {
				if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 100
						}
					}
					
					ROOT = {
						change_variable = {
							which = alchemist_healing_knowledge
							value = 5
						}
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 75
						}
					}
					
					ROOT = {
						change_variable = {
							which = alchemist_healing_knowledge
							value = 4
						}
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 50
						}
					}
					
					ROOT = {
						change_variable = {
							which = alchemist_healing_knowledge
							value = 3
						}
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 25
						}
					}
					
					ROOT = {
						change_variable = {
							which = alchemist_healing_knowledge
							value = 2
						}
					}
				}
				
				else = {
					ROOT = {
						change_variable = {
							which = alchemist_healing_knowledge
							value = 1
						}
					}
				}
			}
		}
		
		else = {
			FROM = {
				if = {
					limit = {
						check_variable = {
							which = alchemist_poison_knowledge
							value >= 100
						}
					}
					
					ROOT = {
						change_variable = {
							which = alchemist_poison_knowledge
							value = 5
						}
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_poison_knowledge
							value >= 75
						}
					}
					
					ROOT = {
						change_variable = {
							which = alchemist_poison_knowledge
							value = 4
						}
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_poison_knowledge
							value >= 50
						}
					}
					
					ROOT = {
						change_variable = {
							which = alchemist_poison_knowledge
							value = 3
						}
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_poison_knowledge
							value >= 25
						}
					}
					
					ROOT = {
						change_variable = {
							which = alchemist_poison_knowledge
							value = 2
						}
					}
				}
				
				else = {
					ROOT = {
						change_variable = {
							which = alchemist_poison_knowledge
							value = 1
						}
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_11387 # Thank you!
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = kind
					trait = humble
					NOT = {
						trait = shy
					}
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = kind
			}
			
			mult_modifier = {
				factor = 0.1
				trait = humble
			}
		}
	}
}

# Told very little of use
character_event = {
	id = soh.11388
	desc = EVTDESC_SOH_11388
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				has_character_flag = interview_healing
			}
			
			FROM = {
				if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 100
						}
					}
					
					ROOT = {
						change_variable = {
							which = alchemist_healing_knowledge
							value = 2.5
						}
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 75
						}
					}
					
					ROOT = {
						change_variable = {
							which = alchemist_healing_knowledge
							value = 2
						}
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 50
						}
					}
					
					ROOT = {
						change_variable = {
							which = alchemist_healing_knowledge
							value = 1.5
						}
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_healing_knowledge
							value >= 25
						}
					}
					
					ROOT = {
						change_variable = {
							which = alchemist_healing_knowledge
							value = 1
						}
					}
				}
				
				else = {
					ROOT = {
						change_variable = {
							which = alchemist_healing_knowledge
							value = 0.5
						}
					}
				}
			}
		}
		
		else = {
			FROM = {
				if = {
					limit = {
						check_variable = {
							which = alchemist_poison_knowledge
							value >= 100
						}
					}
					
					ROOT = {
						change_variable = {
							which = alchemist_poison_knowledge
							value = 2.5
						}
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_poison_knowledge
							value >= 75
						}
					}
					
					ROOT = {
						change_variable = {
							which = alchemist_poison_knowledge
							value = 2
						}
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_poison_knowledge
							value >= 50
						}
					}
					
					ROOT = {
						change_variable = {
							which = alchemist_poison_knowledge
							value = 1.5
						}
					}
				}
				
				else_if = {
					limit = {
						check_variable = {
							which = alchemist_poison_knowledge
							value >= 25
						}
					}
					
					ROOT = {
						change_variable = {
							which = alchemist_poison_knowledge
							value = 1
						}
					}
				}
				
				else = {
					ROOT = {
						change_variable = {
							which = alchemist_poison_knowledge
							value = 0.5
						}
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_11388 # I see...
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = cruel
					trait = paranoid
				}
			}
			
			mult_modifier = {
				factor = 10
				trait = trusting
			}
			
			mult_modifier = {
				factor = 10
				trait = kind
			}
		}
	}
	
	option = {
		trigger = {
			NOT = {
				trait = honest
			}
		}
		
		name = EVTOPTB_SOH_11388 # You must be holding back!
		
		opinion = {
			who = FROM
			modifier = secret_knowledge
		}
		
		random = {
			chance = 25
			add_trait_partially_paranoid_effect = yes
		}
		
		FROM = {
			character_event = { id = soh.11389 days = 1 } # Accused of holding back
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 10
				trait = paranoid
			}
		}
	}
	
	option = {
		trigger = {
			NOT = {
				trait = kind
			}
		}
		
		name = EVTOPTC_SOH_11388 # An embarrassing lack of knowledge...
		
		opinion = {
			who = FROM
			modifier = lacking_knowledge
		}
		
		random = {
			chance = 25
			add_trait_partially_cruel_effect = yes
		}
		
		FROM = {
			character_event = { id = soh.11390 days = 1 } # Accused of holding back
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 10
				trait = cruel
			}
		}
	}
}

# Interviewer accuses you of holding back
character_event = {
	id = soh.11389
	desc = EVTDESC_SOH_11389
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			is_rival = FROM
			NOT = {
				trait = paranoid
			}
		}
		
		name = EVTOPTA_SOH_11389 # You don't deserve my knowledge!
		
		reverse_opinion = {
			who = FROM
			modifier = secret_knowledge
		}
	}
	
	option = {
		trigger = {
			trait = paranoid
			NOT = {
				is_rival = FROM
			}
		}
		
		name = EVTOPTB_SOH_11389 # It must be kept secret!
		
		prestige = -50
		
		reverse_opinion = {
			who = FROM
			modifier = secret_knowledge
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				OR = {
					is_friend = FROM
					is_lover = FROM
					trait = kind
				}
			}
		}
	}
	
	option = {
		trigger = {
			trait = paranoid
			NOT = {
				is_rival = FROM
			}
		}
		
		name = EVTOPTC_SOH_11389 # You cannot be trusted!
		
		if = {
			limit = {
				OR = {
					is_friend = FROM
					is_lover = FROM
				}
			}
			
			if = {
				limit = {
					is_friend = FROM
				}
				
				remove_friend = FROM
			}
			
			if = {
				limit = {
					is_lover = FROM
				}
				
				remove_lover = FROM
			}
		}
		
		else = {
			add_rival = FROM
		}
		
		reverse_opinion = {
			who = FROM
			modifier = secret_knowledge
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				is_friend = FROM
			}
			
			mult_modifier = {
				factor = 0.1
				is_lover = FROM
			}
			
			mult_modifier = {
				factor = 0.1
				trait = kind
			}
		}
	}
	
	option = {
		trigger = {
			trait = paranoid
			is_rival = FROM
		}
		
		name = EVTOPTD_SOH_11389 # One day I will show them all!
		
		reverse_opinion = {
			who = FROM
			modifier = secret_knowledge
		}
	}
}

# Interviewer publicly reveals your lack of knowledge
character_event = {
	id = soh.11390
	desc = EVTDESC_SOH_11390
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_11390 # Oh no!
		
		detract_society_currency_minor_effect = yes
		
		reverse_opinion = {
			who = FROM
			modifier = lacking_knowledge
		}
	}
}

# Flag cleanup
character_event = {
	id = soh.11391
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		clr_character_flag = interview_ongoing
	}
}