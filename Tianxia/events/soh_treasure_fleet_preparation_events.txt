# Treasure Fleet preparation events
# by Silverswee(e)per

namespace = soh

# IDs 7801-8000 reserved

##### Start of the Treasure Fleet preparations

# I have decided to send forth a Treasure Fleet - block wars!
narrative_event = {
	id = soh.7801
	title = EVTTITLE_SOH_7801
	desc = EVTDESC_SOH_7801
	picture = GFX_evt_china_invades
	window = EventWindowOffmap
	background = GFX_event_window_news_from_china
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7801 # It will be auspicious!
		
		add_trait = treasure_fleet_preparation
		
		any_realm_lord = {
			limit = {
				ai = no
			}
			
			narrative_event = { id = soh.7802 } # Inform vassals
		}
		
		any_player = {
			limit = {
				NOT = {
					top_liege = {
						character = ROOT
					}
				}
			}
			
			narrative_event = { id = soh.7803 } # Inform the world
		}
	}
}

# Inform vassals
narrative_event = {
	id = soh.7802
	title = EVTTITLE_SOH_7802
	desc = EVTDESC_SOH_7802
	picture = GFX_evt_china_invades
	window = EventWindowOffmap
	background = GFX_event_window_news_from_china
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			is_feudal = yes
		}
		
		name = EVTOPTA_SOH_7802 # Maybe I'll join it...
	}
	
	option = {
		trigger = {
			is_feudal = no
		}
		
		name = EVTOPTB_SOH_7802 # I don't care!
	}
}

# Inform playable rulers that might care
narrative_event = {
	id = soh.7803
	title = EVTTITLE_SOH_7803
	desc = EVTDESC_SOH_7803
	picture = GFX_evt_china_invades
	window = EventWindowOffmap
	background = GFX_event_window_news_from_china
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOT = {
				top_liege = {
					government = chinese_imperial_government
				}
			}
			
			any_realm_province = {
				port = yes
				can_naval_path_to = c_hangzhou
			}
		}
		
		name = EVTOPTA_SOH_7803 # Interesting...
	}
	
	option = {
		trigger = {
			NAND = {
				top_liege = {
					government = chinese_imperial_government
				}
				
				any_realm_province = {
					port = yes
					can_naval_path_to = c_hangzhou
				}
			}
		}
		
		name = EVTOPTB_SOH_7803 # I don't care!
	}
	
	option = {
		trigger = {
			top_liege = {
				government = chinese_imperial_government
			}
		}
		
		name = EVTOPTC_SOH_7803 # Let's hope it fails!
	}
}



##### Event selection

# Event selection
province_event = {
	id = soh.7804
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		change_variable = {
			which = treasure_fleet_preparation
			value = 1
		}
		
		# Boost the TF somewhat
		persistent_event_target:treasure_fleet_sender = {
			trigger_switch = {
				on_trigger = has_character_modifier
				
				mandate_of_heaven_5 = {
					increase_random_treasure_fleet_attribute_large_effect = yes
				}
				
				mandate_of_heaven_4 = {
					increase_random_treasure_fleet_attribute_medium_effect = yes
				}
				
				mandate_of_heaven_3 = {
					increase_random_treasure_fleet_attribute_small_effect = yes
				}
			}
		}
		
		random_list = {
			10 = {
				trigger = {
					persistent_event_target:treasure_fleet_sender = {
						NOR = {
							has_character_modifier = mandate_of_heaven_2
							has_character_modifier = mandate_of_heaven_1
						}
					}
				}
				
				mult_modifier = {
					factor = 2
					persistent_event_target:treasure_fleet_sender = {
						has_character_modifier = mandate_of_heaven_4
					}
				}
				
				mult_modifier = {
					factor = 5
					persistent_event_target:treasure_fleet_sender = {
						has_character_modifier = mandate_of_heaven_5
					}
				}
				
				increase_random_treasure_fleet_attribute_random_effect = yes
			}
			
			90 = {
				# Nothing
			}
		}
		
		# Pick random events
		persistent_event_target:treasure_fleet_sender = {
			random_list = {
				1000 = {
					trigger = {
						is_inaccessible_or_incapable_trigger = no
					}
					
					character_event = { id = soh.7805 } # EoC makes preparations on his own
				}
				
				100 = {
					trigger = {
						any_independent_ruler = {
							NOT = {
								character = PREV
							}
							
							any_realm_province = {
								port = yes
								
								any_province_holding = {
									OR = {
										holding_type = castle
										holding_type = city
									}
								}
								
								can_naval_path_to = c_hangzhou
							}
						}
					}
					
					character_event = { id = soh.7845 } # Foreign shipwrights
				}
				
				100 = {
					trigger = {
						any_independent_ruler = {
							is_tributary = yes
							suzerain = {
								has_landed_title = e_china
							}
							
							NOR = {
								has_character_modifier = tributary_supported_tf
								government = chinese_imperial_government
							}
						}
					}
					
					random_independent_ruler = {
						limit = {
							is_tributary = yes
							suzerain = {
								has_landed_title = e_china
							}
							
							NOR = {
								has_character_modifier = tributary_supported_tf
								government = chinese_imperial_government
							}
						}
						
						preferred_limit = {
							any_realm_province = {
								port = yes
								can_naval_path_to = c_hangzhou
							}
						}
						
						character_event = { id = soh.7848 } # Tributary might support
					}
				}
				
				100 = {
					trigger = {
						any_voter = {
							has_minor_title = title_grand_chancellor
						}
					}
					
					mult_modifier = {
						factor = 0.1
						primary_title = {
							has_law = grand_chancellor_law_0
						}
					}
					
					any_voter = {
						limit = {
							has_minor_title = title_grand_chancellor
						}
						
						character_event = { id = soh.7855 } # GC might support
					}
				}
				
				100 = {
					trigger = {
						any_courtier_or_vassal = {
							is_council_eunuch_trigger = yes
						}
					}
					
					mult_modifier = {
						factor = 0.1
						primary_title = {
							OR = {
								has_law = eunuch_law_0
								has_law = eunuch_law_1
								has_law = eunuch_law_2
							}
						}
					}
					
					random_courtier_or_vassal = {
						limit = {
							is_council_eunuch_trigger = yes
						}
						
						character_event = { id = soh.7859 } # Council eunuch offers support
					}
				}
				
				100 = {
					trigger = {
						any_voter = {
							NOR = {
								has_minor_title = title_grand_chancellor
								is_council_eunuch_trigger = yes
							}
						}
					}
					
					random_courtier_or_vassal = {
						limit = {
							NOR = {
								has_minor_title = title_grand_chancellor
								is_council_eunuch_trigger = yes
							}
						}
						
						character_event = { id = soh.7863 } # Other councillor might help
					}
				}
				
				100 = {
					trigger = {
						any_courtier = {
							is_adult = yes
							prisoner = no
							is_council_eunuch_trigger = no
							NAND = {
								dynasty = PREV
								any_close_relative = {
									character = PREVPREV
								}
							}
							OR = {
								is_voter = yes
								any_spouse = {
									character = PREVPREV
								}
								any_consort = {
									character = PREVPREV
								}
								any_child = {
									character = PREVPREV
								}
								any_child_even_if_dead = {
									any_child = {
										character = PREVPREVPREV
									}
								}
							}
						}
					}
					
					mult_modifier = {
						factor = 0.1
						primary_title = {
							OR = {
								has_law = ci_courtier_law_0
								has_law = ci_courtier_law_1
								has_law = ci_courtier_law_2
							}
						}
					}
					
					random_courtier = {
						limit = {
							is_adult = yes
							prisoner = no
							is_council_eunuch_trigger = no
							NAND = {
								dynasty = PREV
								any_close_relative = {
									character = PREVPREV
								}
							}
							OR = {
								is_voter = yes
								any_spouse = {
									character = PREVPREV
								}
								any_consort = {
									character = PREVPREV
								}
								any_child = {
									character = PREVPREV
								}
								any_child_even_if_dead = {
									any_child = {
										character = PREVPREVPREV
									}
								}
							}
						}
						
						character_event = { id = soh.7867 } # Influential courtier might support
					}
				}
				
				100 = {
					trigger = {
						any_vassal = {
							is_adult = yes
							is_voter = no
							is_feudal = yes
							controls_religion = no
							is_inaccessible_or_incapable_trigger = no
							higher_real_tier_than = count
						}
					}
					
					mult_modifier = {
						factor = 0.1
						primary_title = {
							OR = {
								has_law = ci_vassal_law_0
								has_law = ci_vassal_law_1
								has_law = ci_vassal_law_2
							}
						}
					}
					
					random_vassal = {
						limit = {
							is_adult = yes
							is_voter = no
							is_feudal = yes
							controls_religion = no
							is_inaccessible_or_incapable_trigger = no
							higher_real_tier_than = count
							NOT = {
								trait = in_mourning
							}
						}
						
						character_event = { id = soh.7871 } # Vassal might help
					}
				}
				
				100 = {
					trigger = {
						any_realm_lord = {
							is_playable = yes
							society_member_of = the_mandate_defiers
						}
					}
					
					random_realm_lord = {
						limit = {
							is_playable = yes
							society_member_of = the_mandate_defiers
						}
						
						character_event = { id = soh.7912 } # Mandate Defiers sabotage
					}
				}
				
				100 = {
					trigger = {
						any_realm_lord = {
							is_playable = yes
							is_devil_worshiper_trigger = yes
							NOT = {
								society_member_of = the_mandate_defiers
							}
						}
					}
					
					random_realm_lord = {
						limit = {
							is_playable = yes
							is_devil_worshiper_trigger = yes
							NOT = {
								society_member_of = the_mandate_defiers
							}
						}
						
						character_event = { id = soh.7921 } # Other DW sabotage
					}
				}
				
				100 = {
					trigger = {
						any_realm_lord = {
							is_playable = yes
							society_member_of = the_assassins # TIANXIATODO: Or any other non-DW/-SR society interested in sabotage...
						}
					}
					
					random_realm_lord = {
						limit = {
							is_playable = yes
							is_devil_worshiper_trigger = yes
							society_member_of = the_assassins # TIANXIATODO: Or any other non-DW/-SR society interested in sabotage...
						}
						
						character_event = { id = soh.7930 } # Other sabotage
					}
				}
				
				500 = {
					# Nothing
				}
			}
			
			any_realm_lord = {
				limit = {
					is_playable = yes
					is_adult = yes
					is_feudal = yes
					ai = yes
					war = no
					NOR = {
						trait = treasure_fleet_preparation
						has_character_modifier = tf_join_request
						has_character_modifier = tf_joining_refused
						has_character_flag = do_not_disturb
						is_inaccessible_or_incapable_trigger = yes
						trait = in_mourning
					}
					has_epidemic = no
				}
				
				random = {
					chance = 2
					character_event = { id = soh.7939 days = 5 random = 5 } # Try to get the AI to join
				}
			}
		}
	}
}



##### Preparation events - EoC

# EoC gets to pick an approach (or none)
character_event = {
	id = soh.7805
	desc = EVTDESC_SOH_7805
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		# Clear flags for approaches used before
		clr_character_flag = treasure_fleet_invest_money
		clr_character_flag = treasure_fleet_grand_proclamation
		clr_character_flag = treasure_fleet_lean_on_temples
		clr_character_flag = treasure_fleet_grand_speech
		clr_character_flag = treasure_fleet_military_preparations
		clr_character_flag = treasure_fleet_investigate_trade
		clr_character_flag = treasure_fleet_consult_spies
		clr_character_flag = treasure_fleet_consult_books
		clr_character_flag = treasure_fleet_gather_ships
		clr_character_flag = treasure_fleet_gather_soldiers
		clr_character_flag = treasure_fleet_amass_supplies
		clr_character_flag = treasure_fleet_gather_artifacts
		clr_character_flag = treasure_fleet_recruit_travellers
		
		# Pick up to three approaches
		random_list = {
			10 = {
				set_character_flag = treasure_fleet_invest_money
			}
			
			10 = {
				set_character_flag = treasure_fleet_grand_proclamation
			}
			
			10 = {
				set_character_flag = treasure_fleet_lean_on_temples
			}
			
			10 = {
				mult_modifier = {
					factor = 2
					has_education_diplomacy_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_lifestyle_diplomacy_trigger = yes
				}
				
				set_character_flag = treasure_fleet_grand_speech
			}
			
			10 = {
				mult_modifier = {
					factor = 2
					has_education_martial_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_lifestyle_martial_trigger = yes
				}
				
				set_character_flag = treasure_fleet_military_preparations
			}
			
			10 = {
				mult_modifier = {
					factor = 2
					has_education_stewardship_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_lifestyle_stewardship_trigger = yes
				}
				
				set_character_flag = treasure_fleet_investigate_trade
			}
			
			10 = {
				mult_modifier = {
					factor = 2
					has_education_intrigue_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_lifestyle_intrigue_trigger = yes
				}
				
				set_character_flag = treasure_fleet_consult_spies
			}
			
			10 = {
				mult_modifier = {
					factor = 2
					has_education_learning_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_lifestyle_learning_trigger = yes
				}
				
				set_character_flag = treasure_fleet_consult_books
			}
			
			10 = {
				set_character_flag = treasure_fleet_gather_ships
			}
			
			10 = {
				set_character_flag = treasure_fleet_gather_soldiers
			}
			
			10 = {
				set_character_flag = treasure_fleet_amass_supplies
			}
			
			10 = {
				set_character_flag = treasure_fleet_gather_artifacts
			}
			
			10 = {
				set_character_flag = treasure_fleet_recruit_travellers
			}
		}
		
		random_list = {
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_invest_money
					}
				}
				
				set_character_flag = treasure_fleet_invest_money
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_grand_proclamation
					}
				}
				
				set_character_flag = treasure_fleet_grand_proclamation
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_lean_on_temples
					}
				}
				
				set_character_flag = treasure_fleet_lean_on_temples
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_grand_speech
					}
				}
				
				mult_modifier = {
					factor = 2
					has_education_diplomacy_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_lifestyle_diplomacy_trigger = yes
				}
				
				set_character_flag = treasure_fleet_grand_speech
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_military_preparations
					}
				}
				
				mult_modifier = {
					factor = 2
					has_education_martial_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_lifestyle_martial_trigger = yes
				}
				
				set_character_flag = treasure_fleet_military_preparations
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_investigate_trade
					}
				}
				
				mult_modifier = {
					factor = 2
					has_education_stewardship_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_lifestyle_stewardship_trigger = yes
				}
				
				set_character_flag = treasure_fleet_investigate_trade
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_consult_spies
					}
				}
				
				mult_modifier = {
					factor = 2
					has_education_intrigue_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_lifestyle_intrigue_trigger = yes
				}
				
				set_character_flag = treasure_fleet_consult_spies
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_consult_books
					}
				}
				
				mult_modifier = {
					factor = 2
					has_education_learning_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_lifestyle_learning_trigger = yes
				}
				
				set_character_flag = treasure_fleet_consult_books
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_gather_ships
					}
				}
				
				set_character_flag = treasure_fleet_gather_ships
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_gather_soldiers
					}
				}
				set_character_flag = treasure_fleet_gather_soldiers
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_amass_supplies
					}
				}
				
				set_character_flag = treasure_fleet_amass_supplies
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_gather_artifacts
					}
				}
				
				set_character_flag = treasure_fleet_gather_artifacts
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_recruit_travellers
					}
				}
				
				set_character_flag = treasure_fleet_recruit_travellers
			}
			
			10 = {}
		}
		
		random_list = {
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_invest_money
					}
				}
				
				set_character_flag = treasure_fleet_invest_money
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_grand_proclamation
					}
				}
				
				set_character_flag = treasure_fleet_grand_proclamation
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_lean_on_temples
					}
				}
				
				set_character_flag = treasure_fleet_lean_on_temples
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_grand_speech
					}
				}
				
				mult_modifier = {
					factor = 2
					has_education_diplomacy_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_lifestyle_diplomacy_trigger = yes
				}
				
				set_character_flag = treasure_fleet_grand_speech
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_military_preparations
					}
				}
				
				mult_modifier = {
					factor = 2
					has_education_martial_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_lifestyle_martial_trigger = yes
				}
				
				set_character_flag = treasure_fleet_military_preparations
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_investigate_trade
					}
				}
				
				mult_modifier = {
					factor = 2
					has_education_stewardship_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_lifestyle_stewardship_trigger = yes
				}
				
				set_character_flag = treasure_fleet_investigate_trade
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_consult_spies
					}
				}
				
				mult_modifier = {
					factor = 2
					has_education_intrigue_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_lifestyle_intrigue_trigger = yes
				}
				
				set_character_flag = treasure_fleet_consult_spies
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_consult_books
					}
				}
				
				mult_modifier = {
					factor = 2
					has_education_learning_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_lifestyle_learning_trigger = yes
				}
				
				set_character_flag = treasure_fleet_consult_books
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_gather_ships
					}
				}
				
				set_character_flag = treasure_fleet_gather_ships
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_gather_soldiers
					}
				}
				set_character_flag = treasure_fleet_gather_soldiers
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_amass_supplies
					}
				}
				
				set_character_flag = treasure_fleet_amass_supplies
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_gather_artifacts
					}
				}
				
				set_character_flag = treasure_fleet_gather_artifacts
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_recruit_travellers
					}
				}
				
				set_character_flag = treasure_fleet_recruit_travellers
			}
			
			100 = {}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = treasure_fleet_invest_money
		}
		
		name = EVTOPTA_SOH_7805 # I will invest money!
		
		wealth = -500
		
		hidden_tooltip = {
			random_list = {
				33 = {
					mult_modifier = {
						factor = 2
						stewardship >= 20
					}
					
					mult_modifier = {
						factor = 2
						stewardship >= 24
					}
					
					mult_modifier = {
						factor = 2
						trait = diligent
					}
					
					character_event = { id = soh.7806 days = 2 random = 5 } # It goes well
				}
				
				34 = {
					mult_modifier = {
						factor = 2
						trait = charitable
					}
					
					mult_modifier = {
						factor = 2
						trait = paranoid
					}
					
					character_event = { id = soh.7807 days = 2 random = 5 } # It goes okay
				}
				
				33 = {
					mult_modifier = {
						factor = 2
						stewardship < 8
					}
					
					mult_modifier = {
						factor = 2
						stewardship < 4
					}
					
					mult_modifier = {
						factor = 2
						trait = slothful
					}
					
					mult_modifier = {
						factor = 2
						trait = greedy
					}
					
					mult_modifier = {
						factor = 2
						trait = trusting
					}
					
					character_event = { id = soh.7808 days = 2 random = 5 } # It goes poorly
				}
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = greedy
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				wealth < 1000
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = treasure_fleet_grand_proclamation
		}
		
		name = EVTOPTB_SOH_7805 # I will make a grand proclamation!
		
		prestige = -500
		
		hidden_tooltip = {
			random_list = {
				33 = {
					mult_modifier = {
						factor = 2
						diplomacy >= 20
					}
					
					mult_modifier = {
						factor = 2
						diplomacy >= 24
					}
					
					mult_modifier = {
						factor = 2
						trait = ambitious
					}
					
					mult_modifier = {
						factor = 2
						trait = gregarious
					}
					
					character_event = { id = soh.7809 days = 2 random = 5 } # It goes well
				}
				
				34 = {
					mult_modifier = {
						factor = 2
						trait = content
					}
					
					mult_modifier = {
						factor = 2
						trait = humble
					}
					
					character_event = { id = soh.7810 days = 2 random = 5 } # It goes okay
				}
				
				33 = {
					mult_modifier = {
						factor = 2
						diplomacy < 8
					}
					
					mult_modifier = {
						factor = 2
						diplomacy < 4
					}
					
					mult_modifier = {
						factor = 2
						trait = shy
					}
					
					mult_modifier = {
						factor = 2
						trait = proud
					}
					
					character_event = { id = soh.7811 days = 2 random = 5 } # It goes poorly
				}
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = humble
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				prestige < 1000
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = treasure_fleet_lean_on_temples
		}
		
		name = EVTOPTC_SOH_7805 # I will lean on temples!
		
		piety = -500
		
		hidden_tooltip = {
			random_list = {
				33 = {
					mult_modifier = {
						factor = 2
						diplomacy >= 20
					}
					
					mult_modifier = {
						factor = 2
						diplomacy >= 24
					}
					
					mult_modifier = {
						factor = 2
						trait = ambitious
					}
					
					mult_modifier = {
						factor = 2
						trait = gregarious
					}
					
					character_event = { id = soh.7812 days = 2 random = 5 } # It goes well
				}
				
				34 = {
					mult_modifier = {
						factor = 2
						trait = content
					}
					
					mult_modifier = {
						factor = 2
						trait = cynical
					}
					
					character_event = { id = soh.7813 days = 2 random = 5 } # It goes okay
				}
				
				33 = {
					mult_modifier = {
						factor = 2
						diplomacy < 8
					}
					
					mult_modifier = {
						factor = 2
						diplomacy < 4
					}
					
					mult_modifier = {
						factor = 2
						trait = shy
					}
					
					mult_modifier = {
						factor = 2
						trait = zealous
					}
					
					character_event = { id = soh.7814 days = 2 random = 5 } # It goes poorly
				}
			}
		}
		
		ai_chance = {
			trigger = {
				OR = {
					NOT = {
						trait = zealous
					}
					has_secret_religion = yes
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				piety < 1000
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = treasure_fleet_grand_speech
		}
		
		name = EVTOPTD_SOH_7805 # I will make a grand speech!
		
		prestige = -500
		
		hidden_tooltip = {
			random_list = {
				33 = {
					mult_modifier = {
						factor = 2
						diplomacy >= 20
					}
					
					mult_modifier = {
						factor = 2
						diplomacy >= 24
					}
					
					mult_modifier = {
						factor = 2
						trait = ambitious
					}
					
					mult_modifier = {
						factor = 2
						trait = gregarious
					}
					
					character_event = { id = soh.7815 days = 2 random = 5 } # It goes well
				}
				
				34 = {
					mult_modifier = {
						factor = 2
						trait = content
					}
					
					mult_modifier = {
						factor = 2
						trait = humble
					}
					
					character_event = { id = soh.7816 days = 2 random = 5 } # It goes okay
				}
				
				33 = {
					mult_modifier = {
						factor = 2
						diplomacy < 8
					}
					
					mult_modifier = {
						factor = 2
						diplomacy < 4
					}
					
					mult_modifier = {
						factor = 2
						trait = shy
					}
					
					mult_modifier = {
						factor = 2
						trait = proud
					}
					
					character_event = { id = soh.7817 days = 2 random = 5 } # It goes poorly
				}
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = shy
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				prestige < 1000
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = treasure_fleet_military_preparations
		}
		
		name = EVTOPTE_SOH_7805 # I will make military preparations!
		
		prestige = -500
		
		hidden_tooltip = {
			random_list = {
				33 = {
					mult_modifier = {
						factor = 2
						martial >= 20
					}
					
					mult_modifier = {
						factor = 2
						martial >= 24
					}
					
					mult_modifier = {
						factor = 2
						trait = ambitious
					}
					
					mult_modifier = {
						factor = 2
						trait = paranoid
					}
					
					character_event = { id = soh.7818 days = 2 random = 5 } # It goes well
				}
				
				34 = {
					mult_modifier = {
						factor = 2
						trait = content
					}
					
					mult_modifier = {
						factor = 2
						trait = humble
					}
					
					mult_modifier = {
						factor = 2
						trait = brave
					}
					
					character_event = { id = soh.7819 days = 2 random = 5 } # It goes okay
				}
				
				33 = {
					mult_modifier = {
						factor = 2
						martial < 8
					}
					
					mult_modifier = {
						factor = 2
						martial < 4
					}
					
					mult_modifier = {
						factor = 2
						trait = trusting
					}
					
					mult_modifier = {
						factor = 2
						trait = proud
					}
					
					mult_modifier = {
						factor = 2
						trait = craven
					}
					
					character_event = { id = soh.7820 days = 2 random = 5 } # It goes poorly
				}
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = craven
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				prestige < 1000
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = treasure_fleet_investigate_trade
		}
		
		name = EVTOPTF_SOH_7805 # I will investigate trade!
		
		wealth = -500
		
		hidden_tooltip = {
			random_list = {
				33 = {
					mult_modifier = {
						factor = 2
						stewardship >= 20
					}
					
					mult_modifier = {
						factor = 2
						stewardship >= 24
					}
					
					mult_modifier = {
						factor = 2
						trait = ambitious
					}
					
					character_event = { id = soh.7821 days = 2 random = 5 } # It goes well
				}
				
				34 = {
					mult_modifier = {
						factor = 2
						trait = content
					}
					
					mult_modifier = {
						factor = 2
						trait = greedy
					}
					
					mult_modifier = {
						factor = 2
						trait = paranoid
					}
					
					character_event = { id = soh.7822 days = 2 random = 5 } # It goes okay
				}
				
				33 = {
					mult_modifier = {
						factor = 2
						stewardship < 8
					}
					
					mult_modifier = {
						factor = 2
						stewardship < 4
					}
					
					mult_modifier = {
						factor = 2
						trait = trusting
					}
					
					mult_modifier = {
						factor = 2
						trait = charitable
					}
					
					character_event = { id = soh.7823 days = 2 random = 5 } # It goes poorly
				}
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = charitable
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				wealth < 1000
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = treasure_fleet_consult_spies
		}
		
		name = EVTOPTG_SOH_7805 # I will consult my spies!
		
		wealth = -500
		
		hidden_tooltip = {
			random_list = {
				33 = {
					mult_modifier = {
						factor = 2
						intrigue >= 20
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 24
					}
					
					mult_modifier = {
						factor = 2
						trait = paranoid
					}
					
					mult_modifier = {
						factor = 2
						trait = humble
					}
					
					character_event = { id = soh.7824 days = 2 random = 5 } # It goes well
				}
				
				34 = {
					character_event = { id = soh.7825 days = 2 random = 5 } # It goes okay
				}
				
				33 = {
					mult_modifier = {
						factor = 2
						intrigue < 8
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 4
					}
					
					mult_modifier = {
						factor = 2
						trait = trusting
					}
					
					mult_modifier = {
						factor = 2
						trait = proud
					}
					
					character_event = { id = soh.7826 days = 2 random = 5 } # It goes poorly
				}
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = trusting
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				wealth < 1000
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = treasure_fleet_consult_books
		}
		
		name = EVTOPTH_SOH_7805 # I will consult my books!
		
		prestige = -500
		
		hidden_tooltip = {
			random_list = {
				33 = {
					mult_modifier = {
						factor = 2
						learning >= 20
					}
					
					mult_modifier = {
						factor = 2
						learning >= 24
					}
					
					mult_modifier = {
						factor = 2
						trait = diligent
					}
					
					mult_modifier = {
						factor = 2
						trait = erudite
					}
					
					mult_modifier = {
						factor = 2
						trait = humble
					}
					
					character_event = { id = soh.7827 days = 2 random = 5 } # It goes well
				}
				
				34 = {
					mult_modifier = {
						factor = 2
						trait = paranoid
					}
					
					character_event = { id = soh.7828 days = 2 random = 5 } # It goes okay
				}
				
				33 = {
					mult_modifier = {
						factor = 2
						learning < 8
					}
					
					mult_modifier = {
						factor = 2
						learning < 4
					}
					
					mult_modifier = {
						factor = 2
						trait = slothful
					}
					
					mult_modifier = {
						factor = 2
						trait = trusting
					}
					
					mult_modifier = {
						factor = 2
						trait = proud
					}
					
					character_event = { id = soh.7829 days = 2 random = 5 } # It goes poorly
				}
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = slothful
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				prestige < 1000
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = treasure_fleet_gather_ships
		}
		
		name = EVTOPTI_SOH_7805 # I will gather ships!
		
		wealth = -500
		
		hidden_tooltip = {
			random_list = {
				33 = {
					mult_modifier = {
						factor = 2
						martial >= 20
					}
					
					mult_modifier = {
						factor = 2
						martial >= 24
					}
					
					mult_modifier = {
						factor = 2
						trait = diligent
					}
					
					mult_modifier = {
						factor = 2
						trait = ambitious
					}
					
					mult_modifier = {
						factor = 2
						trait = proud
					}
					
					character_event = { id = soh.7830 days = 2 random = 5 } # It goes well
				}
				
				34 = {
					mult_modifier = {
						factor = 2
						trait = humble
					}
					
					mult_modifier = {
						factor = 2
						trait = content
					}
					
					character_event = { id = soh.7831 days = 2 random = 5 } # It goes okay
				}
				
				33 = {
					mult_modifier = {
						factor = 2
						martial < 8
					}
					
					mult_modifier = {
						factor = 2
						martial < 4
					}
					
					mult_modifier = {
						factor = 2
						trait = slothful
					}
					
					mult_modifier = {
						factor = 2
						trait = humble
					}
					
					character_event = { id = soh.7832 days = 2 random = 5 } # It goes poorly
				}
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = content
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				wealth < 1000
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = treasure_fleet_gather_soldiers
		}
		
		name = EVTOPTJ_SOH_7805 # I will gather soldiers!
		
		prestige = -500
		
		hidden_tooltip = {
			random_list = {
				33 = {
					mult_modifier = {
						factor = 2
						martial >= 20
					}
					
					mult_modifier = {
						factor = 2
						martial >= 24
					}
					
					mult_modifier = {
						factor = 2
						trait = diligent
					}
					
					mult_modifier = {
						factor = 2
						trait = ambitious
					}
					
					mult_modifier = {
						factor = 2
						trait = proud
					}
					
					character_event = { id = soh.7833 days = 2 random = 5 } # It goes well
				}
				
				34 = {
					mult_modifier = {
						factor = 2
						trait = humble
					}
					
					mult_modifier = {
						factor = 2
						trait = content
					}
					
					character_event = { id = soh.7834 days = 2 random = 5 } # It goes okay
				}
				
				33 = {
					mult_modifier = {
						factor = 2
						martial < 8
					}
					
					mult_modifier = {
						factor = 2
						martial < 4
					}
					
					mult_modifier = {
						factor = 2
						trait = slothful
					}
					
					mult_modifier = {
						factor = 2
						trait = humble
					}
					
					character_event = { id = soh.7835 days = 2 random = 5 } # It goes poorly
				}
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = content
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				prestige < 1000
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = treasure_fleet_amass_supplies
		}
		
		name = EVTOPTK_SOH_7805 # I will amass supplies!
		
		wealth = -500
		
		hidden_tooltip = {
			random_list = {
				33 = {
					mult_modifier = {
						factor = 2
						stewardship >= 20
					}
					
					mult_modifier = {
						factor = 2
						stewardship >= 24
					}
					
					mult_modifier = {
						factor = 2
						trait = diligent
					}
					
					mult_modifier = {
						factor = 2
						trait = ambitious
					}
					
					character_event = { id = soh.7836 days = 2 random = 5 } # It goes well
				}
				
				34 = {
					mult_modifier = {
						factor = 2
						trait = content
					}
					
					mult_modifier = {
						factor = 2
						trait = gluttonous
					}
					
					character_event = { id = soh.7837 days = 2 random = 5 } # It goes okay
				}
				
				33 = {
					mult_modifier = {
						factor = 2
						martial < 8
					}
					
					mult_modifier = {
						factor = 2
						martial < 4
					}
					
					mult_modifier = {
						factor = 2
						trait = temperate
					}
					
					mult_modifier = {
						factor = 2
						trait = slothful
					}
					
					character_event = { id = soh.7838 days = 2 random = 5 } # It goes poorly
				}
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = temperate
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				wealth < 1000
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = treasure_fleet_gather_artifacts
		}
		
		name = EVTOPTL_SOH_7805 # I will gather artifacts!
		
		wealth = -500
		
		hidden_tooltip = {
			random_list = {
				33 = {
					mult_modifier = {
						factor = 2
						stewardship >= 20
					}
					
					mult_modifier = {
						factor = 2
						stewardship >= 24
					}
					
					mult_modifier = {
						factor = 2
						trait = diligent
					}
					
					mult_modifier = {
						factor = 2
						trait = ambitious
					}
					
					mult_modifier = {
						factor = 2
						trait = kind
					}
					
					character_event = { id = soh.7839 days = 2 random = 5 } # It goes well
				}
				
				34 = {
					mult_modifier = {
						factor = 2
						trait = content
					}
					
					mult_modifier = {
						factor = 2
						trait = charitable
					}
					
					mult_modifier = {
						factor = 2
						trait = humble
					}
					
					character_event = { id = soh.7840 days = 2 random = 5 } # It goes okay
				}
				
				33 = {
					mult_modifier = {
						factor = 2
						martial < 8
					}
					
					mult_modifier = {
						factor = 2
						martial < 4
					}
					
					mult_modifier = {
						factor = 2
						trait = greedy
					}
					
					mult_modifier = {
						factor = 2
						trait = slothful
					}
					
					mult_modifier = {
						factor = 2
						trait = envious
					}
					
					mult_modifier = {
						factor = 2
						trait = proud
					}
					
					character_event = { id = soh.7841 days = 2 random = 5 } # It goes poorly
				}
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = envious
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				wealth < 1000
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = treasure_fleet_recruit_travellers
		}
		
		name = EVTOPTM_SOH_7805 # I will recruit travellers!
		
		prestige = -500
		
		hidden_tooltip = {
			random_list = {
				33 = {
					mult_modifier = {
						factor = 2
						diplomacy >= 20
					}
					
					mult_modifier = {
						factor = 2
						diplomacy >= 24
					}
					
					mult_modifier = {
						factor = 2
						trait = diligent
					}
					
					mult_modifier = {
						factor = 2
						trait = ambitious
					}
					
					mult_modifier = {
						factor = 2
						trait = gregarious
					}
					
					character_event = { id = soh.7842 days = 2 random = 5 } # It goes well
				}
				
				34 = {
					mult_modifier = {
						factor = 2
						trait = content
					}
					
					mult_modifier = {
						factor = 2
						trait = humble
					}
					character_event = { id = soh.7843 days = 2 random = 5 } # It goes okay
				}
				
				33 = {
					mult_modifier = {
						factor = 2
						diplomacy < 8
					}
					
					mult_modifier = {
						factor = 2
						diplomacy < 4
					}
					
					mult_modifier = {
						factor = 2
						trait = slothful
					}
					
					mult_modifier = {
						factor = 2
						trait = shy
					}
					
					mult_modifier = {
						factor = 2
						trait = proud
					}
					
					character_event = { id = soh.7844 days = 2 random = 5 } # It goes poorly
				}
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = envious
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				wealth < 1000
			}
		}
	}
	
	option = {
		name = EVTOPTN_SOH_7805 # I will do... nothing!
		
		prestige = -100
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = diligent
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				NOT = {
					trait = slothful
				}
			}
		}
	}
}

### Invest money

# EoC invested money - it went well
character_event = {
	id = soh.7806
	desc = EVTDESC_SOH_7806
	picture = GFX_evt_china_golden_age
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7806 # Great!
		
		prestige = 200
		
		increase_treasure_fleet_wealth_large_effect = yes
	}
}

# EoC invested money - it went okay
character_event = {
	id = soh.7807
	desc = EVTDESC_SOH_7807
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7807 # That's okay, I guess...
		
		increase_treasure_fleet_wealth_small_effect = yes
	}
}

# EoC invested money - it went poorly
character_event = {
	id = soh.7808
	desc = EVTDESC_SOH_7808
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7808 # That went... poorly...
		
		prestige = -200
		
		decrease_treasure_fleet_wealth_large_effect = yes
	}
}

### Grand proclamation

# EoC made a grand proclamation - it went well
character_event = {
	id = soh.7809
	desc = EVTDESC_SOH_7809
	picture = GFX_evt_china_golden_age
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7809 # Great!
		
		prestige = 200
		
		increase_random_treasure_fleet_attribute_large_effect = yes
	}
}

# EoC made a grand proclamation - it went okay
character_event = {
	id = soh.7810
	desc = EVTDESC_SOH_7810
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7810 # That's okay, I guess...
		
		increase_random_treasure_fleet_attribute_small_effect = yes
	}
}

# EoC made a grand proclamation - it went poorly
character_event = {
	id = soh.7811
	desc = EVTDESC_SOH_7811
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7811 # That went... poorly...
		
		prestige = -200
		
		decrease_random_treasure_fleet_attribute_large_effect = yes
	}
}

### Lean on temples

# EoC leaned on temples - it went well
character_event = {
	id = soh.7812
	desc = EVTDESC_SOH_7812
	picture = GFX_evt_china_golden_age
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7812 # Great!
		
		prestige = 200
		
		increase_random_treasure_fleet_attribute_large_effect = yes
	}
}

# EoC leaned on temples - it went okay
character_event = {
	id = soh.7813
	desc = EVTDESC_SOH_7813
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7813 # That's okay, I guess...
		
		increase_random_treasure_fleet_attribute_small_effect = yes
	}
}

# EoC leaned on temples - it went poorly
character_event = {
	id = soh.7814
	desc = EVTDESC_SOH_7814
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7814 # That went... poorly...
		
		prestige = -200
		
		decrease_random_treasure_fleet_attribute_large_effect = yes
	}
}

### Grand speech

# EoC made a grand speech - it went well
character_event = {
	id = soh.7815
	desc = EVTDESC_SOH_7815
	picture = GFX_evt_china_golden_age
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7815 # Great!
		
		prestige = 200
		
		increase_random_treasure_fleet_attribute_large_effect = yes
	}
}

# EoC made a grand speech - it went okay
character_event = {
	id = soh.7816
	desc = EVTDESC_SOH_7816
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7816 # That's okay, I guess...
		
		increase_random_treasure_fleet_attribute_small_effect = yes
	}
}

# EoC made a grand speech - it went poorly
character_event = {
	id = soh.7817
	desc = EVTDESC_SOH_7817
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7817 # That went... poorly...
		
		prestige = -200
		
		decrease_random_treasure_fleet_attribute_large_effect = yes
	}
}

### Military preparation

# EoC made military preparations - it went well
character_event = {
	id = soh.7818
	desc = EVTDESC_SOH_7818
	picture = GFX_evt_china_golden_age
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7818 # Great!
		
		prestige = 200
		
		increase_treasure_fleet_army_strength_large_effect = yes
	}
}

# EoC made military preparations - it went okay
character_event = {
	id = soh.7819
	desc = EVTDESC_SOH_7819
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7819 # That's okay, I guess...
		
		increase_treasure_fleet_army_strength_small_effect = yes
	}
}

# EoC made military preparations - it went poorly
character_event = {
	id = soh.7820
	desc = EVTDESC_SOH_7820
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7820 # That went... poorly...
		
		prestige = -200
		
		decrease_treasure_fleet_army_strength_large_effect = yes
	}
}

### Investigate trade opportunities

# EoC investigated trade opportunities - it went well
character_event = {
	id = soh.7821
	desc = EVTDESC_SOH_7821
	picture = GFX_evt_china_golden_age
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7821 # Great!
		
		prestige = 200
		
		increase_treasure_fleet_artifacts_large_effect = yes
	}
}

# EoC investigated trade opportunities - it went okay
character_event = {
	id = soh.7822
	desc = EVTDESC_SOH_7822
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7822 # That's okay, I guess...
		
		increase_treasure_fleet_artifacts_small_effect = yes
	}
}

# EoC investigated trade opportunities - it went poorly
character_event = {
	id = soh.7823
	desc = EVTDESC_SOH_7823
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7823 # That went... poorly...
		
		prestige = -200
		
		decrease_treasure_fleet_artifacts_large_effect = yes
	}
}

### Consult spies

# EoC consulted spies - it went well
character_event = {
	id = soh.7824
	desc = EVTDESC_SOH_7824
	picture = GFX_evt_china_golden_age
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7824 # Great!
		
		prestige = 200
		
		increase_random_treasure_fleet_attribute_large_effect = yes
	}
}

# EoC consulted spies - it went okay
character_event = {
	id = soh.7825
	desc = EVTDESC_SOH_7825
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7825 # That's okay, I guess...
		
		increase_random_treasure_fleet_attribute_small_effect = yes
	}
}

# EoC consulted spies - it went poorly
character_event = {
	id = soh.7826
	desc = EVTDESC_SOH_7826
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7826 # That went... poorly...
		
		prestige = -200
		
		decrease_random_treasure_fleet_attribute_large_effect = yes
	}
}

### Consult books

# EoC consulted books - it went well
character_event = {
	id = soh.7827
	desc = EVTDESC_SOH_7827
	picture = GFX_evt_china_golden_age
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7827 # Great!
		
		prestige = 200
		
		increase_random_treasure_fleet_attribute_large_effect = yes
	}
}

# EoC consulted books - it went okay
character_event = {
	id = soh.7828
	desc = EVTDESC_SOH_7828
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7828 # That's okay, I guess...
		
		increase_random_treasure_fleet_attribute_small_effect = yes
	}
}

# EoC consulted books - it went poorly
character_event = {
	id = soh.7829
	desc = EVTDESC_SOH_7829
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7829 # That went... poorly...
		
		prestige = -200
		
		decrease_random_treasure_fleet_attribute_large_effect = yes
	}
}

### Gather ships

# EoC gathered ships - it went well
character_event = {
	id = soh.7830
	desc = EVTDESC_SOH_7830
	picture = GFX_evt_china_golden_age
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7830 # Great!
		
		prestige = 200
		
		increase_treasure_fleet_ship_strength_large_effect = yes
	}
}

# EoC gathered ships - it went okay
character_event = {
	id = soh.7831
	desc = EVTDESC_SOH_7831
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7831 # That's okay, I guess...
		
		increase_treasure_fleet_ship_strength_small_effect = yes
	}
}

# EoC gathered ships - it went poorly
character_event = {
	id = soh.7832
	desc = EVTDESC_SOH_7832
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7832 # That went... poorly...
		
		prestige = -200
		
		decrease_treasure_fleet_ship_strength_large_effect = yes
	}
}

### Gather soldiers

# EoC gathered soldiers - it went well
character_event = {
	id = soh.7833
	desc = EVTDESC_SOH_7833
	picture = GFX_evt_china_golden_age
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7833 # Great!
		
		prestige = 200
		
		increase_treasure_fleet_army_strength_large_effect = yes
	}
}

# EoC gathered soldiers - it went okay
character_event = {
	id = soh.7834
	desc = EVTDESC_SOH_7834
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7834 # That's okay, I guess...
		
		increase_treasure_fleet_army_strength_small_effect = yes
	}
}

# EoC gathered soldiers - it went poorly
character_event = {
	id = soh.7835
	desc = EVTDESC_SOH_7835
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7835 # That went... poorly...
		
		prestige = -200
		
		decrease_treasure_fleet_army_strength_large_effect = yes
	}
}

### Amass supplies

# EoC amassed supplies - it went well
character_event = {
	id = soh.7836
	desc = EVTDESC_SOH_7836
	picture = GFX_evt_china_golden_age
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7836 # Great!
		
		prestige = 200
		
		increase_treasure_fleet_supplies_large_effect = yes
	}
}

# EoC amassed supplies - it went okay
character_event = {
	id = soh.7837
	desc = EVTDESC_SOH_7837
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7837 # That's okay, I guess...
		
		increase_treasure_fleet_supplies_small_effect = yes
	}
}

# EoC amassed supplies - it went poorly
character_event = {
	id = soh.7838
	desc = EVTDESC_SOH_7838
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7838 # That went... poorly...
		
		prestige = -200
		
		decrease_treasure_fleet_supplies_large_effect = yes
	}
}

### Gather artifacts

# EoC gathered artifacts - it went well
character_event = {
	id = soh.7839
	desc = EVTDESC_SOH_7839
	picture = GFX_evt_china_golden_age
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7839 # Great!
		
		prestige = 200
		
		increase_treasure_fleet_artifacts_large_effect = yes
	}
}

# EoC gathered artifacts - it went okay
character_event = {
	id = soh.7840
	desc = EVTDESC_SOH_7840
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7840 # That's okay, I guess...
		
		increase_treasure_fleet_artifacts_small_effect = yes
	}
}

# EoC gathered artifacts - it went poorly
character_event = {
	id = soh.7841
	desc = EVTDESC_SOH_7841
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7841 # That went... poorly...
		
		prestige = -200
		
		decrease_treasure_fleet_artifacts_large_effect = yes
	}
}

### Recruit travellers

# EoC recruited travellers - it went well
character_event = {
	id = soh.7842
	desc = EVTDESC_SOH_7842
	picture = GFX_evt_china_golden_age
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7842 # Great!
		
		prestige = 200
		
		increase_treasure_fleet_courtiers_large_effect = yes
	}
}

# EoC recruited travellers - it went okay
character_event = {
	id = soh.7843
	desc = EVTDESC_SOH_7843
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7843 # That's okay, I guess...
		
		increase_treasure_fleet_courtiers_small_effect = yes
	}
}

# EoC recruited travellers - it went poorly
character_event = {
	id = soh.7844
	desc = EVTDESC_SOH_7844
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7844 # That went... poorly...
		
		prestige = -200
		
		decrease_treasure_fleet_courtiers_large_effect = yes
	}
}



##### Foreign assistance

### Foreign shipwrights

# Foreign shipwrights offer to help
character_event = {
	id = soh.7845
	desc = EVTDESC_SOH_7845
	picture = GFX_evt_treasure_fleet
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7845 # Do so!
		
		wealth = -250
		
		hidden_tooltip = {
			random_list = {
				50 = {
					character_event = { id = soh.7846 days = 5 random = 5 } # It goes well
				}
				
				50 = {
					character_event = { id = soh.7847 days = 5 random = 5 } # It goes poorly
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = greedy
			}
			
			mult_modifier = {
				factor = 0.1
				wealth < 1000
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_7845 # Nah
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = charitable
			}
		}
	}
}

# They were helpful
character_event = {
	id = soh.7846
	desc = EVTDESC_SOH_7846
	picture = GFX_evt_china_diplomatic_success
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7846 # Great!
		
		prestige = 100
		
		increase_treasure_fleet_ship_strength_large_effect = yes
	}
}

# They were unhelpful
character_event = {
	id = soh.7847
	desc = EVTDESC_SOH_7847
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7847 # Curses!
		
		prestige = -500
		
		decrease_treasure_fleet_ship_strength_large_effect = yes
	}
}

### Tributary assistance

# Tributary gets the opportunity to make an offer
character_event = {
	id = soh.7848
	desc = EVTDESC_SOH_7848
	picture = GFX_evt_treasure_fleet
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			has_dlc = "Jade Dragon"
		}
		
		name = EVTOPTA_SOH_7848 # I want Grace!
		
		e_china = {
			holder_scope = {
				character_event = { id = soh.7849 days = 2 random = 5 } # Inform the EoC
			}
		}
		
		ai_chance = {
			factor = 100
		}
	}
	
	option = {
		name = EVTOPTB_SOH_7848 # I want a looser relationship!
		
		e_china = {
			holder_scope = {
				character_event = { id = soh.7852 days = 2 random = 5 } # Inform the EoC
			}
		}
		
		ai_chance = {
			factor = 100
		}
	}
	
	option = {
		name = EVTOPTC_SOH_7848 # I don't want to support the Treasure Fleet!
		
		ai_chance = {
			factor = 100
		}
	}
}

# Offer made - wants Grace
character_event = {
	id = soh.7849
	desc = EVTDESC_SOH_7849
	picture = GFX_evt_china_golden_age
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7849 # Very well...
		
		FROM = {
			letter_event = { id = soh.7850 } # Inform FROM
		}
		
		increase_random_treasure_fleet_attribute_medium_effect = yes
	}
	
	option = {
		name = EVTOPTB_SOH_7849 # I think not!
		
		prestige = -100
		
		FROM = {
			letter_event = { id = soh.7851 } # Inform FROM
		}
	}
}

# Offer accepted
letter_event = {
	id = soh.7850
	desc = EVTDESC_SOH_7850
	border = GFX_event_letter_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7850 # Great!
		
		scaled_wealth = {
			value = -0.5
			min = 250
		}
		
		add_grace_massive_effect = yes
	}
}

# Offer refused
letter_event = {
	id = soh.7851
	desc = EVTDESC_SOH_7851
	border = GFX_event_letter_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7851 # I see...
	}
}

# Offer made - wants a looser relationship
character_event = {
	id = soh.7852
	desc = EVTDESC_SOH_7852
	picture = GFX_evt_china_golden_age
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7852 # Very well...
		
		FROM = {
			letter_event = { id = soh.7853 } # Inform FROM
		}
		
		increase_random_treasure_fleet_attribute_medium_effect = yes
		
		ai_chance = {
			trigger = {
				OR = {
					is_tributary = {
						type = chinese_client_state
					}
					is_tributary = {
						type = chinese_protectorate
					}
					is_tributary = {
						type = chinese_imperial_tributary
					}
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				is_tributary = {
					type = chinese_protectorate
				}
			}
			
			mult_modifier = {
				factor = 0.01
				is_tributary = {
					type = chinese_imperial_tributary
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_7850 # I think not!
		
		prestige = -100
		
		FROM = {
			letter_event = { id = soh.7854 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
		}
	}
}

# Offer accepted
letter_event = {
	id = soh.7853
	desc = EVTDESC_SOH_7853
	border = GFX_event_letter_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7853 # Great!
		
		wealth = -100
		
		decrease_tributary_tier_or_release_effect = yes
	}
}

# Offer refused
letter_event = {
	id = soh.7854
	desc = EVTDESC_SOH_7854
	border = GFX_event_letter_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7854 # I see...
	}
}



##### Public support/sabotage from inside the realm

### GC support/sabotage - start

# GC can offer to support (or "support")
character_event = {
	id = soh.7855
	desc = EVTDESC_SOH_7855
	picture = GFX_evt_treasure_fleet
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		clr_character_flag = subject_support_treasure_fleet
		clr_character_flag = subject_sabotage_treasure_fleet
	}
	
	option = {
		name = EVTOPTA_SOH_7855 # I will offer my support!
		
		set_character_flag = subject_support_treasure_fleet
		
		e_china = {
			holder_scope = {
				character_event = { id = soh.7856 days = 2 random = 5 } # EoC gets offer
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					e_china = {
						holder_scope = {
							is_rival = ROOT
						}
					}
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 10
				has_position = loyalist
			}
			
			mult_modifier = {
				factor = 2
				trait = treasure_fleet_preparation
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_7855 # I will offer my "support"!
		
		set_character_flag = subject_sabotage_treasure_fleet
		
		e_china = {
			holder_scope = {
				character_event = { id = soh.7856 days = 2 random = 5 } # EoC gets offer
			}
		}
		
		ai_chance = {
			trigger = {
				e_china = {
					holder_scope = {
						NOR = {
							is_friend = ROOT
							is_lover = ROOT
						}
					}
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 10
				has_position = malcontent
			}
			
			mult_modifier = {
				factor = 0.1
				trait = treasure_fleet_preparation
				NOR = {
					is_dumb_trigger = yes
					trait = lunatic
					trait = possessed
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_SOH_7855 # I have no interest in this...
		
		prestige = -50
		
		ai_chance = {
			trigger = {
				e_china = {
					holder_scope = {
						NOR = {
							is_rival = ROOT
							is_friend = ROOT
							is_lover = ROOT
						}
					}
				}
			}
			
			factor = 100
		}
	}
}

# EoC gets offer
character_event = {
	id = soh.7856
	desc = EVTDESC_SOH_7856
	picture = GFX_evt_treasure_fleet
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7856 # Sure!
		
		FROM = {
			letter_event = { id = soh.7857 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				is_rival = FROM
			}
			
			mult_modifier = {
				factor = 0.01
				trait = paranoid
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_7856 # No thanks!
		
		FROM = {
			letter_event = { id = soh.7858 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				OR = {
					is_friend = FROM
					is_lover = FROM
				}
			}
			
			mult_modifier = {
				factor = 0.01
				trait = trusting
			}
		}
	}
}

# Offer accepted
letter_event = {
	id = soh.7857
	desc = EVTDESC_SOH_7857
	border = GFX_event_letter_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7857 # Now to select an approach...
		
		if = {
			limit = {
				has_dlc = "Jade Dragon"
			}
			
			add_grace_minor_effect = yes
		}
		
		character_event = { id = soh.7875 days = 1 }
	}
}

# Offer refused
letter_event = {
	id = soh.7858
	desc = EVTDESC_SOH_7858
	border = GFX_event_letter_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7858 # I see...
	}
}

### Council Eunuch support/sabotage - start

# Council Eunuch can offer to support (or "support")
character_event = {
	id = soh.7859
	desc = EVTDESC_SOH_7859
	picture = GFX_evt_treasure_fleet
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		clr_character_flag = subject_support_treasure_fleet
		clr_character_flag = subject_sabotage_treasure_fleet
	}
	
	option = {
		name = EVTOPTA_SOH_7859 # I will offer my support!
		
		set_character_flag = subject_support_treasure_fleet
		
		e_china = {
			holder_scope = {
				character_event = { id = soh.7860 days = 2 random = 5 } # EoC gets offer
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					e_china = {
						holder_scope = {
							is_rival = ROOT
						}
					}
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 10
				has_position = loyalist
			}
			
			mult_modifier = {
				factor = 2
				trait = treasure_fleet_preparation
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_7859 # I will offer my "support"!
		
		set_character_flag = subject_sabotage_treasure_fleet
		
		e_china = {
			holder_scope = {
				character_event = { id = soh.7860 days = 2 random = 5 } # EoC gets offer
			}
		}
		
		ai_chance = {
			trigger = {
				e_china = {
					holder_scope = {
						NOR = {
							is_friend = ROOT
							is_lover = ROOT
						}
					}
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 10
				has_position = malcontent
			}
			
			mult_modifier = {
				factor = 0.1
				trait = treasure_fleet_preparation
				NOR = {
					is_dumb_trigger = yes
					trait = lunatic
					trait = possessed
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_SOH_7859 # I have no interest in this...
		
		prestige = -50
		
		ai_chance = {
			trigger = {
				e_china = {
					holder_scope = {
						NOR = {
							is_rival = ROOT
							is_friend = ROOT
							is_lover = ROOT
						}
					}
				}
			}
			
			factor = 100
		}
	}
}

# EoC gets offer
character_event = {
	id = soh.7860
	desc = EVTDESC_SOH_7860
	picture = GFX_evt_treasure_fleet
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7860 # Sure!
		
		FROM = {
			letter_event = { id = soh.7861 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				is_rival = FROM
			}
			
			mult_modifier = {
				factor = 0.01
				trait = paranoid
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_7860 # No thanks!
		
		FROM = {
			letter_event = { id = soh.7862 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				OR = {
					is_friend = FROM
					is_lover = FROM
				}
			}
			
			mult_modifier = {
				factor = 0.01
				trait = trusting
			}
		}
	}
}

# Offer accepted
letter_event = {
	id = soh.7861
	desc = EVTDESC_SOH_7861
	border = GFX_event_letter_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7861 # Now to select an approach...
		
		if = {
			limit = {
				has_dlc = "Jade Dragon"
			}
			
			add_grace_minor_effect = yes
		}
		
		character_event = { id = soh.7875 days = 1 }
	}
}

# Offer refused
letter_event = {
	id = soh.7862
	desc = EVTDESC_SOH_7862
	border = GFX_event_letter_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7862 # I see...
	}
}

### Other voter support/sabotage - start

# Voter can offer to support (or "support")
character_event = {
	id = soh.7863
	desc = EVTDESC_SOH_7863
	picture = GFX_evt_treasure_fleet
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		clr_character_flag = subject_support_treasure_fleet
		clr_character_flag = subject_sabotage_treasure_fleet
	}
	
	option = {
		name = EVTOPTA_SOH_7863 # I will offer my support!
		
		set_character_flag = subject_support_treasure_fleet
		
		e_china = {
			holder_scope = {
				character_event = { id = soh.7864 days = 2 random = 5 } # EoC gets offer
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					e_china = {
						holder_scope = {
							is_rival = ROOT
						}
					}
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 10
				has_position = loyalist
			}
			
			mult_modifier = {
				factor = 2
				trait = treasure_fleet_preparation
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_7863 # I will offer my "support"!
		
		set_character_flag = subject_sabotage_treasure_fleet
		
		e_china = {
			holder_scope = {
				character_event = { id = soh.7864 days = 2 random = 5 } # EoC gets offer
			}
		}
		
		ai_chance = {
			trigger = {
				e_china = {
					holder_scope = {
						NOR = {
							is_friend = ROOT
							is_lover = ROOT
						}
					}
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 10
				has_position = malcontent
			}
			
			mult_modifier = {
				factor = 0.1
				trait = treasure_fleet_preparation
				NOR = {
					is_dumb_trigger = yes
					trait = lunatic
					trait = possessed
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_SOH_7863 # I have no interest in this...
		
		prestige = -50
		
		ai_chance = {
			trigger = {
				e_china = {
					holder_scope = {
						NOR = {
							is_rival = ROOT
							is_friend = ROOT
							is_lover = ROOT
						}
					}
				}
			}
			
			factor = 100
		}
	}
}

# EoC gets offer
character_event = {
	id = soh.7864
	desc = EVTDESC_SOH_7864
	picture = GFX_evt_treasure_fleet
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7864 # Sure!
		
		FROM = {
			letter_event = { id = soh.7865 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				is_rival = FROM
			}
			
			mult_modifier = {
				factor = 0.01
				trait = paranoid
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_7864 # No thanks!
		
		FROM = {
			letter_event = { id = soh.7866 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				OR = {
					is_friend = FROM
					is_lover = FROM
				}
			}
			
			mult_modifier = {
				factor = 0.01
				trait = trusting
			}
		}
	}
}

# Offer accepted
letter_event = {
	id = soh.7865
	desc = EVTDESC_SOH_7865
	border = GFX_event_letter_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7865 # Now to select an approach...
		
		if = {
			limit = {
				has_dlc = "Jade Dragon"
			}
			
			add_grace_minor_effect = yes
		}
		
		character_event = { id = soh.7875 days = 1 }
	}
}

# Offer refused
letter_event = {
	id = soh.7866
	desc = EVTDESC_SOH_7866
	border = GFX_event_letter_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7866 # I see...
	}
}

### Influential courtier support/sabotage - start

# Courtier can offer to support (or "support")
character_event = {
	id = soh.7867
	desc = EVTDESC_SOH_7867
	picture = GFX_evt_treasure_fleet
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		clr_character_flag = subject_support_treasure_fleet
		clr_character_flag = subject_sabotage_treasure_fleet
	}
	
	option = {
		name = EVTOPTA_SOH_7867 # I will offer my support!
		
		set_character_flag = subject_support_treasure_fleet
		
		e_china = {
			holder_scope = {
				character_event = { id = soh.7868 days = 2 random = 5 } # EoC gets offer
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					e_china = {
						holder_scope = {
							is_rival = ROOT
						}
					}
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 10
				has_position = loyalist
			}
			
			mult_modifier = {
				factor = 2
				trait = treasure_fleet_preparation
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_7867 # I will offer my "support"!
		
		set_character_flag = subject_sabotage_treasure_fleet
		
		e_china = {
			holder_scope = {
				character_event = { id = soh.7868 days = 2 random = 5 } # EoC gets offer
			}
		}
		
		ai_chance = {
			trigger = {
				e_china = {
					holder_scope = {
						NOR = {
							is_friend = ROOT
							is_lover = ROOT
						}
					}
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 10
				has_position = malcontent
			}
			
			mult_modifier = {
				factor = 0.1
				trait = treasure_fleet_preparation
				NOR = {
					is_dumb_trigger = yes
					trait = lunatic
					trait = possessed
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_SOH_7867 # I have no interest in this...
		
		prestige = -50
		
		ai_chance = {
			trigger = {
				e_china = {
					holder_scope = {
						NOR = {
							is_rival = ROOT
							is_friend = ROOT
							is_lover = ROOT
						}
					}
				}
			}
			
			factor = 100
		}
	}
}

# EoC gets offer
character_event = {
	id = soh.7868
	desc = EVTDESC_SOH_7868
	picture = GFX_evt_treasure_fleet
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7868 # Sure!
		
		FROM = {
			letter_event = { id = soh.7869 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				is_rival = FROM
			}
			
			mult_modifier = {
				factor = 0.01
				trait = paranoid
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_7868 # No thanks!
		
		FROM = {
			letter_event = { id = soh.7870 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				OR = {
					is_friend = FROM
					is_lover = FROM
				}
			}
			
			mult_modifier = {
				factor = 0.01
				trait = trusting
			}
		}
	}
}

# Offer accepted
letter_event = {
	id = soh.7869
	desc = EVTDESC_SOH_7869
	border = GFX_event_letter_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7869 # Now to select an approach...
		
		if = {
			limit = {
				has_dlc = "Jade Dragon"
			}
			
			add_grace_minor_effect = yes
		}
		
		character_event = { id = soh.7875 days = 1 }
	}
}

# Offer refused
letter_event = {
	id = soh.7870
	desc = EVTDESC_SOH_7870
	border = GFX_event_letter_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7870 # I see...
	}
}

### Vassal support/sabotage - start

# Vassal can offer to support (or "support")
character_event = {
	id = soh.7871
	desc = EVTDESC_SOH_7871
	picture = GFX_evt_treasure_fleet
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		clr_character_flag = subject_support_treasure_fleet
		clr_character_flag = subject_sabotage_treasure_fleet
	}
	
	option = {
		name = EVTOPTA_SOH_7871 # I will offer my support!
		
		set_character_flag = subject_support_treasure_fleet
		
		e_china = {
			holder_scope = {
				character_event = { id = soh.7872 days = 2 random = 5 } # EoC gets offer
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					e_china = {
						holder_scope = {
							is_rival = ROOT
						}
					}
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 10
				has_position = loyalist
			}
			
			mult_modifier = {
				factor = 2
				trait = treasure_fleet_preparation
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_7871 # I will offer my "support"!
		
		set_character_flag = subject_sabotage_treasure_fleet
		
		e_china = {
			holder_scope = {
				character_event = { id = soh.7872 days = 2 random = 5 } # EoC gets offer
			}
		}
		
		ai_chance = {
			trigger = {
				e_china = {
					holder_scope = {
						NOR = {
							is_friend = ROOT
							is_lover = ROOT
						}
					}
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 10
				has_position = malcontent
			}
			
			mult_modifier = {
				factor = 0.1
				trait = treasure_fleet_preparation
				NOR = {
					is_dumb_trigger = yes
					trait = lunatic
					trait = possessed
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_SOH_7871 # I have no interest in this...
		
		prestige = -50
		
		ai_chance = {
			trigger = {
				e_china = {
					holder_scope = {
						NOR = {
							is_rival = ROOT
							is_friend = ROOT
							is_lover = ROOT
						}
					}
				}
			}
			
			factor = 100
		}
	}
}

# EoC gets offer
character_event = {
	id = soh.7872
	desc = EVTDESC_SOH_7872
	picture = GFX_evt_treasure_fleet
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7872 # Sure!
		
		FROM = {
			letter_event = { id = soh.7873 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				is_rival = FROM
			}
			
			mult_modifier = {
				factor = 0.01
				trait = paranoid
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_7872 # No thanks!
		
		FROM = {
			letter_event = { id = soh.7874 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				OR = {
					is_friend = FROM
					is_lover = FROM
				}
			}
			
			mult_modifier = {
				factor = 0.01
				trait = trusting
			}
		}
	}
}

# Offer accepted
letter_event = {
	id = soh.7873
	desc = EVTDESC_SOH_7873
	border = GFX_event_letter_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7873 # Now to select an approach...
		
		if = {
			limit = {
				has_dlc = "Jade Dragon"
			}
			
			add_grace_minor_effect = yes
		}
		
		character_event = { id = soh.7875 days = 1 }
	}
}

# Offer refused
letter_event = {
	id = soh.7874
	desc = EVTDESC_SOH_7874
	border = GFX_event_letter_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7874 # I see...
	}
}

### Main support/sabotage selection

# Subject gets to pick an approach
character_event = {
	id = soh.7875
	desc = EVTDESC_SOH_7875
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		# Clear flags for approaches used before
		clr_character_flag = treasure_fleet_invest_money
		clr_character_flag = treasure_fleet_grand_proclamation
		clr_character_flag = treasure_fleet_lean_on_temples
		clr_character_flag = treasure_fleet_grand_speech
		clr_character_flag = treasure_fleet_military_preparations
		clr_character_flag = treasure_fleet_investigate_trade
		clr_character_flag = treasure_fleet_consult_spies
		clr_character_flag = treasure_fleet_consult_books
		clr_character_flag = treasure_fleet_gather_ships
		clr_character_flag = treasure_fleet_gather_soldiers
		clr_character_flag = treasure_fleet_amass_supplies
		clr_character_flag = treasure_fleet_gather_artifacts
		clr_character_flag = treasure_fleet_recruit_travellers
		
		random_list = {
			10 = {
				mult_modifier = {
					factor = 2
					has_education_diplomacy_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_lifestyle_diplomacy_trigger = yes
				}
				
				set_character_flag = treasure_fleet_grand_speech
			}
			
			10 = {
				mult_modifier = {
					factor = 2
					has_education_martial_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_lifestyle_martial_trigger = yes
				}
				
				set_character_flag = treasure_fleet_military_preparations
			}
			
			10 = {
				mult_modifier = {
					factor = 2
					has_education_stewardship_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_lifestyle_stewardship_trigger = yes
				}
				
				set_character_flag = treasure_fleet_investigate_trade
			}
			
			10 = {
				mult_modifier = {
					factor = 2
					has_education_intrigue_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_lifestyle_intrigue_trigger = yes
				}
				
				set_character_flag = treasure_fleet_consult_spies
			}
			
			10 = {
				mult_modifier = {
					factor = 2
					has_education_learning_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_lifestyle_learning_trigger = yes
				}
				
				set_character_flag = treasure_fleet_consult_books
			}
			
			10 = {
				set_character_flag = treasure_fleet_gather_ships
			}
			
			10 = {
				set_character_flag = treasure_fleet_gather_soldiers
			}
			
			10 = {
				set_character_flag = treasure_fleet_amass_supplies
			}
			
			10 = {
				set_character_flag = treasure_fleet_gather_artifacts
			}
			
			10 = {
				set_character_flag = treasure_fleet_recruit_travellers
			}
		}
		
		random_list = {
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_grand_speech
					}
				}
				
				mult_modifier = {
					factor = 2
					has_education_diplomacy_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_lifestyle_diplomacy_trigger = yes
				}
				
				set_character_flag = treasure_fleet_grand_speech
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_military_preparations
					}
				}
				
				mult_modifier = {
					factor = 2
					has_education_martial_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_lifestyle_martial_trigger = yes
				}
				
				set_character_flag = treasure_fleet_military_preparations
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_investigate_trade
					}
				}
				
				mult_modifier = {
					factor = 2
					has_education_stewardship_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_lifestyle_stewardship_trigger = yes
				}
				
				set_character_flag = treasure_fleet_investigate_trade
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_consult_spies
					}
				}
				
				mult_modifier = {
					factor = 2
					has_education_intrigue_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_lifestyle_intrigue_trigger = yes
				}
				
				set_character_flag = treasure_fleet_consult_spies
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_consult_books
					}
				}
				
				mult_modifier = {
					factor = 2
					has_education_learning_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_lifestyle_learning_trigger = yes
				}
				
				set_character_flag = treasure_fleet_consult_books
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_gather_ships
					}
				}
				
				set_character_flag = treasure_fleet_gather_ships
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_gather_soldiers
					}
				}
				set_character_flag = treasure_fleet_gather_soldiers
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_amass_supplies
					}
				}
				
				set_character_flag = treasure_fleet_amass_supplies
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_gather_artifacts
					}
				}
				
				set_character_flag = treasure_fleet_gather_artifacts
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_recruit_travellers
					}
				}
				
				set_character_flag = treasure_fleet_recruit_travellers
			}
			
			25 = {}
		}
		
		random_list = {
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_grand_speech
					}
				}
				
				mult_modifier = {
					factor = 2
					has_education_diplomacy_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_lifestyle_diplomacy_trigger = yes
				}
				
				set_character_flag = treasure_fleet_grand_speech
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_military_preparations
					}
				}
				
				mult_modifier = {
					factor = 2
					has_education_martial_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_lifestyle_martial_trigger = yes
				}
				
				set_character_flag = treasure_fleet_military_preparations
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_investigate_trade
					}
				}
				
				mult_modifier = {
					factor = 2
					has_education_stewardship_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_lifestyle_stewardship_trigger = yes
				}
				
				set_character_flag = treasure_fleet_investigate_trade
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_consult_spies
					}
				}
				
				mult_modifier = {
					factor = 2
					has_education_intrigue_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_lifestyle_intrigue_trigger = yes
				}
				
				set_character_flag = treasure_fleet_consult_spies
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_consult_books
					}
				}
				
				mult_modifier = {
					factor = 2
					has_education_learning_trigger = yes
				}
				
				mult_modifier = {
					factor = 2
					has_lifestyle_learning_trigger = yes
				}
				
				set_character_flag = treasure_fleet_consult_books
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_gather_ships
					}
				}
				
				set_character_flag = treasure_fleet_gather_ships
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_gather_soldiers
					}
				}
				set_character_flag = treasure_fleet_gather_soldiers
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_amass_supplies
					}
				}
				
				set_character_flag = treasure_fleet_amass_supplies
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_gather_artifacts
					}
				}
				
				set_character_flag = treasure_fleet_gather_artifacts
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_recruit_travellers
					}
				}
				
				set_character_flag = treasure_fleet_recruit_travellers
			}
			
			100 = {}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = treasure_fleet_grand_speech
		}
		
		name = EVTOPTA_SOH_7875 # I will make a grand speech!
		
		prestige = -250
		
		hidden_tooltip = {
			random_list = {
				100 = {
					mult_modifier = {
						factor = 2
						diplomacy >= 20
					}
					
					mult_modifier = {
						factor = 2
						diplomacy >= 24
					}
					
					mult_modifier = {
						factor = 2
						trait = ambitious
					}
					
					mult_modifier = {
						factor = 2
						trait = gregarious
					}
					
					if = {
						limit = {
							has_character_flag = subject_support_treasure_fleet
						}
						
						character_event = { id = soh.7876 days = 2 random = 5 } # It goes well
					}
					
					else = {
						character_event = { id = soh.7878 days = 2 random = 5 } # It goes poorly
					}
				}
				
				300 = {
					mult_modifier = {
						factor = 2
						trait = content
					}
					
					mult_modifier = {
						factor = 2
						trait = humble
					}
					
					character_event = { id = soh.7877 days = 2 random = 5 } # It goes okay
				}
				
				100 = {
					mult_modifier = {
						factor = 2
						diplomacy < 8
					}
					
					mult_modifier = {
						factor = 2
						diplomacy < 4
					}
					
					mult_modifier = {
						factor = 2
						trait = shy
					}
					
					mult_modifier = {
						factor = 2
						trait = proud
					}
					
					if = {
						limit = {
							has_character_flag = subject_sabotage_treasure_fleet
						}
						
						character_event = { id = soh.7876 days = 2 random = 5 } # It goes well
					}
					
					else = {
						character_event = { id = soh.7878 days = 2 random = 5 } # It goes poorly
					}
				}
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = shy
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				prestige < 1000
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = treasure_fleet_military_preparations
		}
		
		name = EVTOPTB_SOH_7875 # I will make military preparations!
		
		prestige = -250
		
		hidden_tooltip = {
			random_list = {
				100 = {
					mult_modifier = {
						factor = 2
						martial >= 20
					}
					
					mult_modifier = {
						factor = 2
						martial >= 24
					}
					
					mult_modifier = {
						factor = 2
						trait = ambitious
					}
					
					mult_modifier = {
						factor = 2
						trait = paranoid
					}
					
					if = {
						limit = {
							has_character_flag = subject_support_treasure_fleet
						}
						
						character_event = { id = soh.7879 days = 2 random = 5 } # It goes well
					}
					
					else = {
						character_event = { id = soh.7881 days = 2 random = 5 } # It goes poorly
					}
				}
				
				300 = {
					mult_modifier = {
						factor = 2
						trait = content
					}
					
					mult_modifier = {
						factor = 2
						trait = humble
					}
					
					mult_modifier = {
						factor = 2
						trait = brave
					}
					
					character_event = { id = soh.7880 days = 2 random = 5 } # It goes okay
				}
				
				100 = {
					mult_modifier = {
						factor = 2
						martial < 8
					}
					
					mult_modifier = {
						factor = 2
						martial < 4
					}
					
					mult_modifier = {
						factor = 2
						trait = trusting
					}
					
					mult_modifier = {
						factor = 2
						trait = proud
					}
					
					mult_modifier = {
						factor = 2
						trait = craven
					}
					
					if = {
						limit = {
							has_character_flag = subject_sabotage_treasure_fleet
						}
						
						character_event = { id = soh.7879 days = 2 random = 5 } # It goes well
					}
					
					else = {
						character_event = { id = soh.7881 days = 2 random = 5 } # It goes poorly
					}
				}
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = craven
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				prestige < 1000
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = treasure_fleet_investigate_trade
		}
		
		name = EVTOPTC_SOH_7875 # I will investigate trade!
		
		wealth = -250
		
		hidden_tooltip = {
			random_list = {
				100 = {
					mult_modifier = {
						factor = 2
						stewardship >= 20
					}
					
					mult_modifier = {
						factor = 2
						stewardship >= 24
					}
					
					mult_modifier = {
						factor = 2
						trait = ambitious
					}
					
					if = {
						limit = {
							has_character_flag = subject_support_treasure_fleet
						}
						
						character_event = { id = soh.7882 days = 2 random = 5 } # It goes well
					}
					
					else = {
						character_event = { id = soh.7884 days = 2 random = 5 } # It goes poorly
					}
				}
				
				300 = {
					mult_modifier = {
						factor = 2
						trait = content
					}
					
					mult_modifier = {
						factor = 2
						trait = greedy
					}
					
					mult_modifier = {
						factor = 2
						trait = paranoid
					}
					
					character_event = { id = soh.7883 days = 2 random = 5 } # It goes okay
				}
				
				100 = {
					mult_modifier = {
						factor = 2
						stewardship < 8
					}
					
					mult_modifier = {
						factor = 2
						stewardship < 4
					}
					
					mult_modifier = {
						factor = 2
						trait = trusting
					}
					
					mult_modifier = {
						factor = 2
						trait = charitable
					}
					
					if = {
						limit = {
							has_character_flag = subject_sabotage_treasure_fleet
						}
						
						character_event = { id = soh.7882 days = 2 random = 5 } # It goes well
					}
					
					else = {
						character_event = { id = soh.7884 days = 2 random = 5 } # It goes poorly
					}
				}
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = charitable
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				wealth < 1000
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = treasure_fleet_consult_spies
		}
		
		name = EVTOPTD_SOH_7875 # I will consult my spies!
		
		wealth = -250
		
		hidden_tooltip = {
			random_list = {
				100 = {
					mult_modifier = {
						factor = 2
						intrigue >= 20
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 24
					}
					
					mult_modifier = {
						factor = 2
						trait = paranoid
					}
					
					mult_modifier = {
						factor = 2
						trait = humble
					}
					
					if = {
						limit = {
							has_character_flag = subject_support_treasure_fleet
						}
						
						character_event = { id = soh.7885 days = 2 random = 5 } # It goes well
					}
					
					else = {
						character_event = { id = soh.7887 days = 2 random = 5 } # It goes poorly
					}
				}
				
				300 = {
					character_event = { id = soh.7886 days = 2 random = 5 } # It goes okay
				}
				
				100 = {
					mult_modifier = {
						factor = 2
						stewardship < 8
					}
					
					mult_modifier = {
						factor = 2
						stewardship < 4
					}
					
					mult_modifier = {
						factor = 2
						trait = trusting
					}
					
					mult_modifier = {
						factor = 2
						trait = proud
					}
					
					if = {
						limit = {
							has_character_flag = subject_sabotage_treasure_fleet
						}
						
						character_event = { id = soh.7885 days = 2 random = 5 } # It goes well
					}
					
					else = {
						character_event = { id = soh.7887 days = 2 random = 5 } # It goes poorly
					}
				}
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = trusting
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				wealth < 1000
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = treasure_fleet_consult_books
		}
		
		name = EVTOPTE_SOH_7875 # I will consult my books!
		
		prestige = -250
		
		hidden_tooltip = {
			random_list = {
				100 = {
					mult_modifier = {
						factor = 2
						learning >= 20
					}
					
					mult_modifier = {
						factor = 2
						learning >= 24
					}
					
					mult_modifier = {
						factor = 2
						trait = diligent
					}
					
					mult_modifier = {
						factor = 2
						trait = erudite
					}
					
					mult_modifier = {
						factor = 2
						trait = humble
					}
					
					if = {
						limit = {
							has_character_flag = subject_support_treasure_fleet
						}
						
						character_event = { id = soh.7888 days = 2 random = 5 } # It goes well
					}
					
					else = {
						character_event = { id = soh.7890 days = 2 random = 5 } # It goes poorly
					}
				}
				
				300 = {
					mult_modifier = {
						factor = 2
						trait = paranoid
					}
					
					character_event = { id = soh.7889 days = 2 random = 5 } # It goes okay
				}
				
				100 = {
					mult_modifier = {
						factor = 2
						learning < 8
					}
					
					mult_modifier = {
						factor = 2
						learning < 4
					}
					
					mult_modifier = {
						factor = 2
						trait = slothful
					}
					
					mult_modifier = {
						factor = 2
						trait = trusting
					}
					
					mult_modifier = {
						factor = 2
						trait = proud
					}
					
					if = {
						limit = {
							has_character_flag = subject_sabotage_treasure_fleet
						}
						
						character_event = { id = soh.7888 days = 2 random = 5 } # It goes well
					}
					
					else = {
						character_event = { id = soh.7890 days = 2 random = 5 } # It goes poorly
					}
				}
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = slothful
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				prestige < 1000
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = treasure_fleet_gather_ships
		}
		
		name = EVTOPTF_SOH_7875 # I will gather ships!
		
		wealth = -250
		
		hidden_tooltip = {
			random_list = {
				100 = {
					mult_modifier = {
						factor = 2
						martial >= 20
					}
					
					mult_modifier = {
						factor = 2
						martial >= 24
					}
					
					mult_modifier = {
						factor = 2
						trait = diligent
					}
					
					mult_modifier = {
						factor = 2
						trait = ambitious
					}
					
					mult_modifier = {
						factor = 2
						trait = proud
					}
					
					if = {
						limit = {
							has_character_flag = subject_support_treasure_fleet
						}
						
						character_event = { id = soh.7891 days = 2 random = 5 } # It goes well
					}
					
					else = {
						character_event = { id = soh.7893 days = 2 random = 5 } # It goes poorly
					}
				}
				
				300 = {
					mult_modifier = {
						factor = 2
						trait = humble
					}
					
					mult_modifier = {
						factor = 2
						trait = content
					}
					
					character_event = { id = soh.7892 days = 2 random = 5 } # It goes okay
				}
				
				100 = {
					mult_modifier = {
						factor = 2
						martial < 8
					}
					
					mult_modifier = {
						factor = 2
						martial < 4
					}
					
					mult_modifier = {
						factor = 2
						trait = slothful
					}
					
					mult_modifier = {
						factor = 2
						trait = humble
					}
					
					if = {
						limit = {
							has_character_flag = subject_sabotage_treasure_fleet
						}
						
						character_event = { id = soh.7891 days = 2 random = 5 } # It goes well
					}
					
					else = {
						character_event = { id = soh.7893 days = 2 random = 5 } # It goes poorly
					}
				}
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = content
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				wealth < 1000
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = treasure_fleet_gather_soldiers
		}
		
		name = EVTOPTG_SOH_7875 # I will gather soldiers!
		
		prestige = -250
		
		hidden_tooltip = {
			random_list = {
				100 = {
					mult_modifier = {
						factor = 2
						martial >= 20
					}
					
					mult_modifier = {
						factor = 2
						martial >= 24
					}
					
					mult_modifier = {
						factor = 2
						trait = diligent
					}
					
					mult_modifier = {
						factor = 2
						trait = ambitious
					}
					
					mult_modifier = {
						factor = 2
						trait = proud
					}
					
					if = {
						limit = {
							has_character_flag = subject_support_treasure_fleet
						}
						
						character_event = { id = soh.7894 days = 2 random = 5 } # It goes well
					}
					
					else = {
						character_event = { id = soh.7896 days = 2 random = 5 } # It goes poorly
					}
				}
				
				300 = {
					mult_modifier = {
						factor = 2
						trait = humble
					}
					
					mult_modifier = {
						factor = 2
						trait = content
					}
					
					character_event = { id = soh.7895 days = 2 random = 5 } # It goes okay
				}
				
				100 = {
					mult_modifier = {
						factor = 2
						martial < 8
					}
					
					mult_modifier = {
						factor = 2
						martial < 4
					}
					
					mult_modifier = {
						factor = 2
						trait = slothful
					}
					
					mult_modifier = {
						factor = 2
						trait = humble
					}
					
					if = {
						limit = {
							has_character_flag = subject_sabotage_treasure_fleet
						}
						
						character_event = { id = soh.7894 days = 2 random = 5 } # It goes well
					}
					
					else = {
						character_event = { id = soh.7896 days = 2 random = 5 } # It goes poorly
					}
				}
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = content
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				prestige < 1000
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = treasure_fleet_amass_supplies
		}
		
		name = EVTOPTH_SOH_7875 # I will amass supplies!
		
		wealth = -250
		
		hidden_tooltip = {
			random_list = {
				100 = {
					mult_modifier = {
						factor = 2
						stewardship >= 20
					}
					
					mult_modifier = {
						factor = 2
						stewardship >= 24
					}
					
					mult_modifier = {
						factor = 2
						trait = diligent
					}
					
					mult_modifier = {
						factor = 2
						trait = ambitious
					}
					
					if = {
						limit = {
							has_character_flag = subject_support_treasure_fleet
						}
						
						character_event = { id = soh.7897 days = 2 random = 5 } # It goes well
					}
					
					else = {
						character_event = { id = soh.7899 days = 2 random = 5 } # It goes poorly
					}
				}
				
				300 = {
					mult_modifier = {
						factor = 2
						trait = content
					}
					
					mult_modifier = {
						factor = 2
						trait = gluttonous
					}
					
					character_event = { id = soh.7898 days = 2 random = 5 } # It goes okay
				}
				
				100 = {
					mult_modifier = {
						factor = 2
						martial < 8
					}
					
					mult_modifier = {
						factor = 2
						martial < 4
					}
					
					mult_modifier = {
						factor = 2
						trait = temperate
					}
					
					mult_modifier = {
						factor = 2
						trait = slothful
					}
					
					if = {
						limit = {
							has_character_flag = subject_sabotage_treasure_fleet
						}
						
						character_event = { id = soh.7897 days = 2 random = 5 } # It goes well
					}
					
					else = {
						character_event = { id = soh.7899 days = 2 random = 5 } # It goes poorly
					}
				}
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = temperate
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				wealth < 1000
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = treasure_fleet_gather_artifacts
		}
		
		name = EVTOPTI_SOH_7875 # I will gather artifacts!
		
		wealth = -250
		
		hidden_tooltip = {
			random_list = {
				100 = {
					mult_modifier = {
						factor = 2
						stewardship >= 20
					}
					
					mult_modifier = {
						factor = 2
						stewardship >= 24
					}
					
					mult_modifier = {
						factor = 2
						trait = diligent
					}
					
					mult_modifier = {
						factor = 2
						trait = ambitious
					}
					
					mult_modifier = {
						factor = 2
						trait = kind
					}
					
					if = {
						limit = {
							has_character_flag = subject_support_treasure_fleet
						}
						
						character_event = { id = soh.7900 days = 2 random = 5 } # It goes well
					}
					
					else = {
						character_event = { id = soh.7902 days = 2 random = 5 } # It goes poorly
					}
				}
				
				300 = {
					mult_modifier = {
						factor = 2
						trait = content
					}
					
					mult_modifier = {
						factor = 2
						trait = charitable
					}
					
					mult_modifier = {
						factor = 2
						trait = humble
					}
					
					character_event = { id = soh.7901 days = 2 random = 5 } # It goes okay
				}
				
				100 = {
					mult_modifier = {
						factor = 2
						martial < 8
					}
					
					mult_modifier = {
						factor = 2
						martial < 4
					}
					
					mult_modifier = {
						factor = 2
						trait = greedy
					}
					
					mult_modifier = {
						factor = 2
						trait = slothful
					}
					
					mult_modifier = {
						factor = 2
						trait = envious
					}
					
					mult_modifier = {
						factor = 2
						trait = proud
					}
					
					if = {
						limit = {
							has_character_flag = subject_sabotage_treasure_fleet
						}
						
						character_event = { id = soh.7900 days = 2 random = 5 } # It goes well
					}
					
					else = {
						character_event = { id = soh.7902 days = 2 random = 5 } # It goes poorly
					}
				}
			}
		}
			
		ai_chance = {
			trigger = {
				NOT = {
					trait = envious
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				wealth < 1000
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = treasure_fleet_recruit_travellers
		}
		
		name = EVTOPTJ_SOH_7875 # I will recruit travellers!
		
		prestige = -250
		
		hidden_tooltip = {
			random_list = {
				100 = {
					mult_modifier = {
						factor = 2
						diplomacy >= 20
					}
					
					mult_modifier = {
						factor = 2
						diplomacy >= 24
					}
					
					mult_modifier = {
						factor = 2
						trait = diligent
					}
					
					mult_modifier = {
						factor = 2
						trait = ambitious
					}
					
					mult_modifier = {
						factor = 2
						trait = gregarious
					}
					
					if = {
						limit = {
							has_character_flag = subject_support_treasure_fleet
						}
						
						character_event = { id = soh.7903 days = 2 random = 5 } # It goes well
					}
					
					else = {
						character_event = { id = soh.7905 days = 2 random = 5 } # It goes poorly
					}
				}
				
				300 = {
					mult_modifier = {
						factor = 2
						trait = content
					}
					
					mult_modifier = {
						factor = 2
						trait = humble
					}
					
					character_event = { id = soh.7904 days = 2 random = 5 } # It goes okay
				}
				
				100 = {
					mult_modifier = {
						factor = 2
						diplomacy < 8
					}
					
					mult_modifier = {
						factor = 2
						diplomacy < 4
					}
					
					mult_modifier = {
						factor = 2
						trait = slothful
					}
					
					mult_modifier = {
						factor = 2
						trait = shy
					}
					
					mult_modifier = {
						factor = 2
						trait = proud
					}
					
					if = {
						limit = {
							has_character_flag = subject_sabotage_treasure_fleet
						}
						
						character_event = { id = soh.7903 days = 2 random = 5 } # It goes well
					}
					
					else = {
						character_event = { id = soh.7905 days = 2 random = 5 } # It goes poorly
					}
				}
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = envious
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				wealth < 1000
			}
		}
	}
}

### Grand speech

# Subject made a grand speech - it went well
character_event = {
	id = soh.7876
	desc = EVTDESC_SOH_7876
	picture = GFX_evt_china_diplomatic_success
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			has_character_flag = subject_support_treasure_fleet
		}
		
		name = EVTOPTA_SOH_7876 # Great!
		
		prestige = 200
		
		increase_random_treasure_fleet_attribute_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7906 } # Inform EoC
		}
	}
	
	option = {
		trigger = {
			has_character_flag = subject_sabotage_treasure_fleet
		}
		
		name = EVTOPTB_SOH_7876 # How did I manage that?
		
		prestige = -200
		
		increase_random_treasure_fleet_attribute_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7907 } # Inform EoC
		}
	}
}

# Subject made a grand speech - it went okay
character_event = {
	id = soh.7877
	desc = EVTDESC_SOH_7877
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7877 # That's okay, I guess...
		
		if = {
			limit = {
				has_character_flag = subject_support_treasure_fleet
			}
			
			increase_random_treasure_fleet_attribute_small_effect = yes
			
			FROMFROM = {
				character_event = { id = soh.7908 } # Inform EoC
			}
		}
		
		else = {
			decrease_random_treasure_fleet_attribute_small_effect = yes
			
			FROMFROM = {
				character_event = { id = soh.7909 } # Inform EoC
			}
		}
	}
}

# Subject made a grand speech - it went poorly
character_event = {
	id = soh.7878
	desc = EVTDESC_SOH_7878
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			has_character_flag = subject_support_treasure_fleet
		}
		
		name = EVTOPTA_SOH_7878 # That went... poorly...
		
		prestige = -200
		
		decrease_random_treasure_fleet_attribute_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7910 } # Inform EoC
		}
	}
	
	option = {
		trigger = {
			has_character_flag = subject_sabotage_treasure_fleet
		}
		
		name = EVTOPTB_SOH_7878 # Just as planned!
		
		prestige = 200
		
		decrease_random_treasure_fleet_attribute_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7911 } # Inform EoC
		}
	}
}

### Military preparation

# Subject made military preparations - it went well
character_event = {
	id = soh.7879
	desc = EVTDESC_SOH_7879
	picture = GFX_evt_china_diplomatic_success
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			has_character_flag = subject_support_treasure_fleet
		}
		
		name = EVTOPTA_SOH_7879 # Great!
		
		prestige = 200
		
		increase_treasure_fleet_army_strength_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7906 } # Inform EoC
		}
	}
	
	option = {
		trigger = {
			has_character_flag = subject_sabotage_treasure_fleet
		}
		
		name = EVTOPTB_SOH_7879 # How did I manage that?
		
		prestige = -200
		
		increase_treasure_fleet_army_strength_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7907 } # Inform EoC
		}
	}
}

# Subject made military preparations - it went okay
character_event = {
	id = soh.7880
	desc = EVTDESC_SOH_7880
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7880 # That's okay, I guess...
		
		if = {
			limit = {
				has_character_flag = subject_support_treasure_fleet
			}
			
			increase_treasure_fleet_army_strength_small_effect = yes
			
			FROMFROM = {
				character_event = { id = soh.7908 } # Inform EoC
			}
		}
		
		else = {
			decrease_treasure_fleet_army_strength_small_effect = yes
			
			FROMFROM = {
				character_event = { id = soh.7909 } # Inform EoC
			}
		}
	}
}

# Subject made military preparations - it went poorly
character_event = {
	id = soh.7881
	desc = EVTDESC_SOH_7881
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			has_character_flag = subject_support_treasure_fleet
		}
		
		name = EVTOPTA_SOH_7881 # That went... poorly...
		
		prestige = -200
		
		decrease_treasure_fleet_army_strength_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7910 } # Inform EoC
		}
	}
	
	option = {
		trigger = {
			has_character_flag = subject_sabotage_treasure_fleet
		}
		
		name = EVTOPTB_SOH_7881 # Just as planned!
		
		prestige = 200
		
		decrease_treasure_fleet_army_strength_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7911 } # Inform EoC
		}
	}
}

### Investigate trade opportunities

# Subject investigated trade opportunities - it went well
character_event = {
	id = soh.7882
	desc = EVTDESC_SOH_7882
	picture = GFX_evt_china_diplomatic_success
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			has_character_flag = subject_support_treasure_fleet
		}
		
		name = EVTOPTA_SOH_7882 # Great!
		
		prestige = 200
		
		increase_treasure_fleet_artifacts_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7906 } # Inform EoC
		}
	}
	
	option = {
		trigger = {
			has_character_flag = subject_sabotage_treasure_fleet
		}
		
		name = EVTOPTB_SOH_7882 # How did I manage that?
		
		prestige = -200
		
		increase_treasure_fleet_artifacts_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7907 } # Inform EoC
		}
	}
}

# Subject investigated trade opportunities - it went okay
character_event = {
	id = soh.7883
	desc = EVTDESC_SOH_7883
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7883 # That's okay, I guess...
		
		if = {
			limit = {
				has_character_flag = subject_support_treasure_fleet
			}
			
			increase_treasure_fleet_artifacts_small_effect = yes
			
			FROMFROM = {
				character_event = { id = soh.7908 } # Inform EoC
			}
		}
		
		else = {
			decrease_treasure_fleet_artifacts_small_effect = yes
			
			FROMFROM = {
				character_event = { id = soh.7909 } # Inform EoC
			}
		}
	}
}

# Subject investigated trade opportunities - it went poorly
character_event = {
	id = soh.7884
	desc = EVTDESC_SOH_7884
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			has_character_flag = subject_support_treasure_fleet
		}
		
		name = EVTOPTA_SOH_7884 # That went... poorly...
		
		prestige = -200
		
		decrease_treasure_fleet_artifacts_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7910 } # Inform EoC
		}
	}
	
	option = {
		trigger = {
			has_character_flag = subject_sabotage_treasure_fleet
		}
		
		name = EVTOPTB_SOH_7884 # Just as planned!
		
		prestige = 200
		
		decrease_treasure_fleet_artifacts_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7911 } # Inform EoC
		}
	}
}

### Consult spies

# Subject consulted spies - it went well
character_event = {
	id = soh.7885
	desc = EVTDESC_SOH_7885
	picture = GFX_evt_china_diplomatic_success
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			has_character_flag = subject_support_treasure_fleet
		}
		
		name = EVTOPTA_SOH_7885 # Great!
		
		prestige = 200
		
		increase_random_treasure_fleet_attribute_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7906 } # Inform EoC
		}
	}
	
	option = {
		trigger = {
			has_character_flag = subject_sabotage_treasure_fleet
		}
		
		name = EVTOPTB_SOH_7885 # How did I manage that?
		
		prestige = -200
		
		increase_random_treasure_fleet_attribute_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7907 } # Inform EoC
		}
	}
}

# Subject consulted spies - it went okay
character_event = {
	id = soh.7886
	desc = EVTDESC_SOH_7886
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7886 # That's okay, I guess...
		
		if = {
			limit = {
				has_character_flag = subject_support_treasure_fleet
			}
			
			increase_random_treasure_fleet_attribute_small_effect = yes
			
			FROMFROM = {
				character_event = { id = soh.7908 } # Inform EoC
			}
		}
		
		else = {
			decrease_random_treasure_fleet_attribute_small_effect = yes
			
			FROMFROM = {
				character_event = { id = soh.7909 } # Inform EoC
			}
		}
	}
}

# Subject consulted spies - it went poorly
character_event = {
	id = soh.7887
	desc = EVTDESC_SOH_7887
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			has_character_flag = subject_support_treasure_fleet
		}
		
		name = EVTOPTA_SOH_7887 # That went... poorly...
		
		prestige = -200
		
		decrease_random_treasure_fleet_attribute_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7910 } # Inform EoC
		}
	}
	
	option = {
		trigger = {
			has_character_flag = subject_sabotage_treasure_fleet
		}
		
		name = EVTOPTB_SOH_7887 # Just as planned!
		
		prestige = 200
		
		decrease_random_treasure_fleet_attribute_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7911 } # Inform EoC
		}
	}
}

### Consult books

# Subject consulted books - it went well
character_event = {
	id = soh.7888
	desc = EVTDESC_SOH_7888
	picture = GFX_evt_china_diplomatic_success
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			has_character_flag = subject_support_treasure_fleet
		}
		
		name = EVTOPTA_SOH_7888 # Great!
		
		prestige = 200
		
		increase_random_treasure_fleet_attribute_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7906 } # Inform EoC
		}
	}
	
	option = {
		trigger = {
			has_character_flag = subject_sabotage_treasure_fleet
		}
		
		name = EVTOPTB_SOH_7888 # How did I manage that?
		
		prestige = -200
		
		increase_random_treasure_fleet_attribute_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7907 } # Inform EoC
		}
	}
}

# Subject consulted books - it went okay
character_event = {
	id = soh.7889
	desc = EVTDESC_SOH_7889
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7889 # That's okay, I guess...
		
		if = {
			limit = {
				has_character_flag = subject_support_treasure_fleet
			}
			
			increase_random_treasure_fleet_attribute_small_effect = yes
			
			FROMFROM = {
				character_event = { id = soh.7908 } # Inform EoC
			}
		}
		
		else = {
			decrease_random_treasure_fleet_attribute_small_effect = yes
			
			FROMFROM = {
				character_event = { id = soh.7909 } # Inform EoC
			}
		}
	}
}

# Subject consulted books - it went poorly
character_event = {
	id = soh.7890
	desc = EVTDESC_SOH_7890
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			has_character_flag = subject_support_treasure_fleet
		}
		
		name = EVTOPTA_SOH_7890 # That went... poorly...
		
		prestige = -200
		
		decrease_random_treasure_fleet_attribute_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7910 } # Inform EoC
		}
	}
	
	option = {
		trigger = {
			has_character_flag = subject_sabotage_treasure_fleet
		}
		
		name = EVTOPTB_SOH_7890 # Just as planned!
		
		prestige = 200
		
		decrease_random_treasure_fleet_attribute_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7911 } # Inform EoC
		}
	}
}

### Gather ships

# Subject gathered ships - it went well
character_event = {
	id = soh.7891
	desc = EVTDESC_SOH_7891
	picture = GFX_evt_china_diplomatic_success
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			has_character_flag = subject_support_treasure_fleet
		}
		
		name = EVTOPTA_SOH_7891 # Great!
		
		prestige = 200
		
		increase_treasure_fleet_ship_strength_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7906 } # Inform EoC
		}
	}
	
	option = {
		trigger = {
			has_character_flag = subject_sabotage_treasure_fleet
		}
		
		name = EVTOPTB_SOH_7891 # How did I manage that?
		
		prestige = -200
		
		increase_treasure_fleet_ship_strength_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7907 } # Inform EoC
		}
	}
}

# Subject gathered ships - it went okay
character_event = {
	id = soh.7892
	desc = EVTDESC_SOH_7892
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7892 # That's okay, I guess...
		
		if = {
			limit = {
				has_character_flag = subject_support_treasure_fleet
			}
			
			increase_treasure_fleet_ship_strength_small_effect = yes
			
			FROMFROM = {
				character_event = { id = soh.7908 } # Inform EoC
			}
		}
		
		else = {
			decrease_treasure_fleet_ship_strength_small_effect = yes
			
			FROMFROM = {
				character_event = { id = soh.7909 } # Inform EoC
			}
		}
	}
}

# Subject gathered ships - it went poorly
character_event = {
	id = soh.7893
	desc = EVTDESC_SOH_7893
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			has_character_flag = subject_support_treasure_fleet
		}
		
		name = EVTOPTA_SOH_7893 # That went... poorly...
		
		prestige = -200
		
		decrease_treasure_fleet_ship_strength_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7910 } # Inform EoC
		}
	}
	
	option = {
		trigger = {
			has_character_flag = subject_sabotage_treasure_fleet
		}
		
		name = EVTOPTB_SOH_7893 # Just as planned!
		
		prestige = 200
		
		decrease_treasure_fleet_ship_strength_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7911 } # Inform EoC
		}
	}
}

### Gather soldiers

# Subject gathered soldiers - it went well
character_event = {
	id = soh.7894
	desc = EVTDESC_SOH_7894
	picture = GFX_evt_china_diplomatic_success
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			has_character_flag = subject_support_treasure_fleet
		}
		
		name = EVTOPTA_SOH_7894 # Great!
		
		prestige = 200
		
		increase_treasure_fleet_army_strength_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7906 } # Inform EoC
		}
	}
	
	option = {
		trigger = {
			has_character_flag = subject_sabotage_treasure_fleet
		}
		
		name = EVTOPTB_SOH_7894 # How did I manage that?
		
		prestige = -200
		
		increase_treasure_fleet_army_strength_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7907 } # Inform EoC
		}
	}
}

# Subject gathered soldiers - it went okay
character_event = {
	id = soh.7895
	desc = EVTDESC_SOH_7895
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7895 # That's okay, I guess...
		
		if = {
			limit = {
				has_character_flag = subject_support_treasure_fleet
			}
			
			increase_treasure_fleet_army_strength_small_effect = yes
			
			FROMFROM = {
				character_event = { id = soh.7908 } # Inform EoC
			}
		}
		
		else = {
			decrease_treasure_fleet_army_strength_small_effect = yes
			
			FROMFROM = {
				character_event = { id = soh.7909 } # Inform EoC
			}
		}
	}
}

# Subject gathered soldiers - it went poorly
character_event = {
	id = soh.7896
	desc = EVTDESC_SOH_7896
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			has_character_flag = subject_support_treasure_fleet
		}
		
		name = EVTOPTA_SOH_7896 # That went... poorly...
		
		prestige = -200
		
		decrease_treasure_fleet_army_strength_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7910 } # Inform EoC
		}
	}
	
	option = {
		trigger = {
			has_character_flag = subject_sabotage_treasure_fleet
		}
		
		name = EVTOPTB_SOH_7896 # Just as planned!
		
		prestige = 200
		
		decrease_treasure_fleet_army_strength_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7911 } # Inform EoC
		}
	}
}

### Amass supplies

# Subject amassed supplies - it went well
character_event = {
	id = soh.7897
	desc = EVTDESC_SOH_7897
	picture = GFX_evt_china_diplomatic_success
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			has_character_flag = subject_support_treasure_fleet
		}
		
		name = EVTOPTA_SOH_7897 # Great!
		
		prestige = 200
		
		increase_treasure_fleet_supplies_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7906 } # Inform EoC
		}
	}
	
	option = {
		trigger = {
			has_character_flag = subject_sabotage_treasure_fleet
		}
		
		name = EVTOPTB_SOH_7897 # How did I manage that?
		
		prestige = -200
		
		increase_treasure_fleet_supplies_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7907 } # Inform EoC
		}
	}
}

# Subject amassed supplies - it went okay
character_event = {
	id = soh.7898
	desc = EVTDESC_SOH_7898
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7898 # That's okay, I guess...
		
		if = {
			limit = {
				has_character_flag = subject_support_treasure_fleet
			}
			
			increase_treasure_fleet_supplies_small_effect = yes
			
			FROMFROM = {
				character_event = { id = soh.7908 } # Inform EoC
			}
		}
		
		else = {
			decrease_treasure_fleet_supplies_small_effect = yes
			
			FROMFROM = {
				character_event = { id = soh.7909 } # Inform EoC
			}
		}
	}
}

# Subject amassed supplies - it went poorly
character_event = {
	id = soh.7899
	desc = EVTDESC_SOH_7899
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			has_character_flag = subject_support_treasure_fleet
		}
		
		name = EVTOPTA_SOH_7899 # That went... poorly...
		
		prestige = -200
		
		decrease_treasure_fleet_supplies_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7910 } # Inform EoC
		}
	}
	
	option = {
		trigger = {
			has_character_flag = subject_sabotage_treasure_fleet
		}
		
		name = EVTOPTB_SOH_7899 # Just as planned!
		
		prestige = 200
		
		decrease_treasure_fleet_supplies_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7911 } # Inform EoC
		}
	}
}

### Gather artifacts

# Subject gathered artifacts - it went well
character_event = {
	id = soh.7900
	desc = EVTDESC_SOH_7900
	picture = GFX_evt_china_diplomatic_success
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			has_character_flag = subject_support_treasure_fleet
		}
		
		name = EVTOPTA_SOH_7900 # Great!
		
		prestige = 200
		
		increase_treasure_fleet_artifacts_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7906 } # Inform EoC
		}
	}
	
	option = {
		trigger = {
			has_character_flag = subject_sabotage_treasure_fleet
		}
		
		name = EVTOPTB_SOH_7900 # How did I manage that?
		
		prestige = -200
		
		increase_treasure_fleet_artifacts_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7907 } # Inform EoC
		}
	}
}

# Subject gathered artifacts - it went okay
character_event = {
	id = soh.7901
	desc = EVTDESC_SOH_7901
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7901 # That's okay, I guess...
		
		if = {
			limit = {
				has_character_flag = subject_support_treasure_fleet
			}
			
			increase_treasure_fleet_artifacts_small_effect = yes
			
			FROMFROM = {
				character_event = { id = soh.7908 } # Inform EoC
			}
		}
		
		else = {
			decrease_treasure_fleet_artifacts_small_effect = yes
			
			FROMFROM = {
				character_event = { id = soh.7909 } # Inform EoC
			}
		}
	}
}

# Subject gathered artifacts - it went poorly
character_event = {
	id = soh.7902
	desc = EVTDESC_SOH_7902
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			has_character_flag = subject_support_treasure_fleet
		}
		
		name = EVTOPTA_SOH_7902 # That went... poorly...
		
		prestige = -200
		
		decrease_treasure_fleet_artifacts_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7910 } # Inform EoC
		}
	}
	
	option = {
		trigger = {
			has_character_flag = subject_sabotage_treasure_fleet
		}
		
		name = EVTOPTB_SOH_7902 # Just as planned!
		
		prestige = 200
		
		decrease_treasure_fleet_artifacts_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7911 } # Inform EoC
		}
	}
}

### Recruit travellers

# Subject recruited travellers - it went well
character_event = {
	id = soh.7903
	desc = EVTDESC_SOH_7903
	picture = GFX_evt_china_diplomatic_success
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			has_character_flag = subject_support_treasure_fleet
		}
		
		name = EVTOPTA_SOH_7903 # Great!
		
		prestige = 200
		
		increase_treasure_fleet_courtiers_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7906 } # Inform EoC
		}
	}
	
	option = {
		trigger = {
			has_character_flag = subject_sabotage_treasure_fleet
		}
		
		name = EVTOPTB_SOH_7903 # How did I manage that?
		
		prestige = -200
		
		increase_treasure_fleet_courtiers_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7907 } # Inform EoC
		}
	}
}

# Subject recruited travellers - it went okay
character_event = {
	id = soh.7904
	desc = EVTDESC_SOH_7904
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7904 # That's okay, I guess...
		
		if = {
			limit = {
				has_character_flag = subject_support_treasure_fleet
			}
			
			increase_treasure_fleet_courtiers_small_effect = yes
			
			FROMFROM = {
				character_event = { id = soh.7908 } # Inform EoC
			}
		}
		
		else = {
			decrease_treasure_fleet_courtiers_small_effect = yes
			
			FROMFROM = {
				character_event = { id = soh.7909 } # Inform EoC
			}
		}
	}
}

# Subject recruited travellers - it went poorly
character_event = {
	id = soh.7905
	desc = EVTDESC_SOH_7905
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			has_character_flag = subject_support_treasure_fleet
		}
		
		name = EVTOPTA_SOH_7905 # That went... poorly...
		
		prestige = -200
		
		decrease_treasure_fleet_courtiers_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7910 } # Inform EoC
		}
	}
	
	option = {
		trigger = {
			has_character_flag = subject_sabotage_treasure_fleet
		}
		
		name = EVTOPTB_SOH_7905 # Just as planned!
		
		prestige = 200
		
		decrease_treasure_fleet_courtiers_medium_effect = yes
		
		FROMFROM = {
			character_event = { id = soh.7911 } # Inform EoC
		}
	}
}

### Inform EoC - good outcome

# Good outcme - subject actually supported
character_event = {
	id = soh.7906
	desc = EVTDESC_SOH_7906
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7906 # Great!
		
		prestige = 100
		
		random = {
			chance = 10
			add_trait_partially_trusting_effect = yes
		}
	}
}

# Good outcome - subject actually sabotaged
character_event = {
	id = soh.7907
	desc = EVTDESC_SOH_7907
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7907 # Why isn't FROM happy?
		
		prestige = 100
		
		random = {
			chance = 10
			add_trait_partially_paranoid_effect = yes
		}
	}
}

### Inform EoC - okay outcome

# Okay outcme - subject actually supported
character_event = {
	id = soh.7908
	desc = EVTDESC_SOH_7908
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7908 # Good enough...
	}
}

# Okay outcome - subject actually sabotaged
character_event = {
	id = soh.7909
	desc = EVTDESC_SOH_7909
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7909 # Could have been worse...
	}
}

### Inform EoC - poor outcome

# Poor outcme - subject actually supported
character_event = {
	id = soh.7910
	desc = EVTDESC_SOH_7910
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7910 # Curses!
		
		prestige = -100
		
		random = {
			chance = 10
			add_trait_partially_paranoid_effect = yes
		}
	}
}

# Poor outcome - subject actually sabotaged
character_event = {
	id = soh.7911
	desc = EVTDESC_SOH_7911
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7911 # Why is FROM not more upset?
		
		prestige = -100
		
		random = {
			chance = 10
			add_trait_partially_trusting_effect = yes
		}
	}
}



##### Secret sabotage from inside the realm

### Mandate Defier sabotage

# Cultist gets the opportunity to try
character_event = {
	id = soh.7912
	desc = EVTDESC_SOH_7912
	picture = GFX_evt_treasure_fleet
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7912 # Yes!
		
		detract_society_currency_major_effect = yes
		
		pacifists_lose_piety_effect = yes
		
		random = {
			chance = 25
			increase_visibility_effect = yes
		}
		
		hidden_tooltip = {
			random_list = {
				25 = {
					trigger = {
						NOT = {
							has_character_modifier = known_satanist
						}
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 50
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 45
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 40
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 35
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 30
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 25
					}
					
					character_event = { id = soh.7913 days = 2 random = 5 } # Success
				}
				
				25 = {
					trigger = {
						has_character_modifier = known_satanist
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 50
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 45
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 40
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 35
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 30
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 25
					}
					
					character_event = { id = soh.7915 days = 2 random = 5 } # Success, but got caught
				}
				
				25 = {
					trigger = {
						NOT = {
							has_character_modifier = known_satanist
						}
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 20
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 16
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 12
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 8
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 4
					}
					
					character_event = { id = soh.7917 days = 2 random = 5 } # Failure
				}
				
				25 = {
					trigger = {
						has_character_modifier = known_satanist
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 20
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 16
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 12
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 8
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 4
					}
					
					character_event = { id = soh.7919 days = 1 } # Failure, and got caught
				}
			}
		}
		
		ai_chance = {
			factor = 1
		}
	}
	
	option = {
		name = EVTOPTB_SOH_7912 # No!
		
		prestige = -100
		
		ai_chance = {
			trigger = {
				trait = treasure_fleet_preparation
			}
				
			factor = 1
		}
	}
}

# Sabotage successful
character_event = {
	id = soh.7913
	desc = EVTDESC_SOH_7913
	picture = GFX_evt_magic_ritual
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7913 # Down with the dynasty!
		
		e_china = {
			holder_scope = {
				character_event = { id = soh.7914 } # Inform the EoC
			}
		}
	}
}

# Inform the EoC
character_event = {
	id = soh.7914
	desc = EVTDESC_SOH_7914
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_SOH_7914 # Who could have done this?
		
		decrease_all_treasure_fleet_attributes_random_effect = yes
		
		mandate_penalty_medium_effect = yes
	}
}

# Sabotage successful, but got caught
character_event = {
	id = soh.7915
	desc = EVTDESC_SOH_7915
	picture = GFX_evt_catching_heretic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7915 # Worth it? Maybe...
		
		detract_grace_super_huge_effect = yes
		
		e_china = {
			holder_scope = {
				FROM = {
					imprison = PREV
				}
				
				character_event = { id = soh.7916 } # Inform the EoC
			}
		}
	}
}

# Inform the EoC
character_event = {
	id = soh.7916
	desc = EVTDESC_SOH_7916
	picture = GFX_evt_catching_heretic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7916 # At least we caught the perpetrator!
		
		decrease_all_treasure_fleet_attributes_random_effect = yes
		
		mandate_penalty_medium_effect = yes
	}
}

# Sabotage fails
character_event = {
	id = soh.7917
	desc = EVTDESC_SOH_7917
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7917 # At least I got away...
		
		e_china = {
			holder_scope = {
				character_event = { id = soh.7918 } # Inform the EoC
			}
		}
	}
}

# Inform the EoC
character_event = {
	id = soh.7918
	desc = EVTDESC_SOH_7918
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_SOH_7918 # Who could have done this?
	}
}

# Sabotage fails, and got caught
character_event = {
	id = soh.7919
	desc = EVTDESC_SOH_7919
	picture = GFX_evt_catching_heretic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7919 # That went poorly...
		
		detract_grace_super_huge_effect = yes
		
		e_china = {
			holder_scope = {
				FROM = {
					imprison = PREV
				}
				
				character_event = { id = soh.7920 } # Inform the EoC
			}
		}
	}
}

# Inform the EoC
character_event = {
	id = soh.7920
	desc = EVTDESC_SOH_7920
	picture = GFX_evt_catching_heretic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7920 # That could have been bad...
	}
}

### Other DW sabotage

# Cultist gets the opportunity to try
character_event = {
	id = soh.7921
	desc = EVTDESC_SOH_7921
	picture = GFX_evt_treasure_fleet
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7921 # Yes!
		
		detract_society_currency_major_effect = yes
		
		pacifists_lose_piety_effect = yes
		
		random = {
			chance = 25
			increase_visibility_effect = yes
		}
		
		hidden_tooltip = {
			random_list = {
				25 = {
					trigger = {
						NOT = {
							has_character_modifier = known_satanist
						}
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 50
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 45
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 40
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 35
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 30
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 25
					}
					
					character_event = { id = soh.7922 days = 2 random = 5 } # Success
				}
				
				25 = {
					trigger = {
						has_character_modifier = known_satanist
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 50
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 45
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 40
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 35
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 30
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 25
					}
					
					character_event = { id = soh.7924 days = 2 random = 5 } # Success, but got caught
				}
				
				25 = {
					trigger = {
						NOT = {
							has_character_modifier = known_satanist
						}
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 20
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 16
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 12
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 8
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 4
					}
					
					character_event = { id = soh.7926 days = 2 random = 5 } # Failure
				}
				
				25 = {
					trigger = {
						has_character_modifier = known_satanist
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 20
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 16
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 12
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 8
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 4
					}
					
					character_event = { id = soh.7928 days = 1 } # Failure, and got caught
				}
			}
		}
		
		ai_chance = {
			factor = 1
		}
	}
	
	option = {
		name = EVTOPTB_SOH_7921 # No!
		
		prestige = -100
		
		ai_chance = {
			trigger = {
				trait = treasure_fleet_preparation
			}
				
			factor = 1
		}
	}
}

# Sabotage successful
character_event = {
	id = soh.7922
	desc = EVTDESC_SOH_7922
	picture = GFX_evt_magic_ritual
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7922 # Down with the dynasty!
		
		e_china = {
			holder_scope = {
				character_event = { id = soh.7923 } # Inform the EoC
			}
		}
	}
}

# Inform the EoC
character_event = {
	id = soh.7923
	desc = EVTDESC_SOH_7923
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_SOH_7923 # Who could have done this?
		
		decrease_all_treasure_fleet_attributes_random_effect = yes
		
		mandate_penalty_medium_effect = yes
	}
}

# Sabotage successful, but got caught
character_event = {
	id = soh.7924
	desc = EVTDESC_SOH_7924
	picture = GFX_evt_catching_heretic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7924 # Worth it? Maybe...
		
		detract_grace_super_huge_effect = yes
		
		e_china = {
			holder_scope = {
				FROM = {
					imprison = PREV
				}
				
				character_event = { id = soh.7925 } # Inform the EoC
			}
		}
	}
}

# Inform the EoC
character_event = {
	id = soh.7925
	desc = EVTDESC_SOH_7925
	picture = GFX_evt_catching_heretic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7925 # At least we caught the perpetrator!
		
		decrease_all_treasure_fleet_attributes_random_effect = yes
		
		mandate_penalty_medium_effect = yes
	}
}

# Sabotage fails
character_event = {
	id = soh.7926
	desc = EVTDESC_SOH_7926
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_SOH_7926 # At least I got away...
		
		e_china = {
			holder_scope = {
				character_event = { id = soh.7927 } # Inform the EoC
			}
		}
	}
}

# Inform the EoC
character_event = {
	id = soh.7927
	desc = EVTDESC_SOH_7927
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7927 # Who could have done this?
	}
}

# Sabotage fails, and got caught
character_event = {
	id = soh.7928
	desc = EVTDESC_SOH_7928
	picture = GFX_evt_catching_heretic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7928 # That went poorly...
		
		detract_grace_super_huge_effect = yes
		
		e_china = {
			holder_scope = {
				FROM = {
					imprison = PREV
				}
				
				character_event = { id = soh.7929 } # Inform the EoC
			}
		}
	}
}

# Inform the EoC
character_event = {
	id = soh.7929
	desc = EVTDESC_SOH_7929
	picture = GFX_evt_catching_heretic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7929 # That could have been bad...
	}
}

### Non-DW/-SR secret society sabotage

# Sabotager gets the opportunity to try
character_event = {
	id = soh.7930
	desc = EVTDESC_SOH_7930
	picture = GFX_evt_treasure_fleet
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7930 # Yes!
		
		detract_society_currency_major_effect = yes
		
		pacifists_lose_piety_effect = yes
		
		random = {
			chance = 25
			increase_visibility_effect = yes
		}
		
		hidden_tooltip = {
			random_list = {
				25 = {
					trigger = {
						NOT = {
							has_character_modifier = known_secret_society_member
						}
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 50
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 45
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 40
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 35
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 30
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 25
					}
					
					character_event = { id = soh.7931 days = 2 random = 5 } # Success
				}
				
				25 = {
					trigger = {
						has_character_modifier = known_secret_society_member
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 50
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 45
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 40
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 35
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 30
					}
					
					mult_modifier = {
						factor = 2
						intrigue >= 25
					}
					
					character_event = { id = soh.7933 days = 2 random = 5 } # Success, but got caught
				}
				
				25 = {
					trigger = {
						NOT = {
							has_character_modifier = known_secret_society_member
						}
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 20
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 16
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 12
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 8
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 4
					}
					
					character_event = { id = soh.7935 days = 2 random = 5 } # Failure
				}
				
				25 = {
					trigger = {
						has_character_modifier = known_secret_society_member
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 20
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 16
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 12
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 8
					}
					
					mult_modifier = {
						factor = 2
						intrigue < 4
					}
					
					character_event = { id = soh.7937 days = 1 } # Failure, and got caught
				}
			}
		}
		
		ai_chance = {
			factor = 1
		}
	}
	
	option = {
		name = EVTOPTB_SOH_7930 # No!
		
		prestige = -100
		
		ai_chance = {
			trigger = {
				trait = treasure_fleet_preparation
			}
				
			factor = 1
		}
	}
}

# Sabotage successful
character_event = {
	id = soh.7931
	desc = EVTDESC_SOH_7931
	picture = GFX_evt_shadow
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7931 # Down with the dynasty!
		
		e_china = {
			holder_scope = {
				character_event = { id = soh.7932 } # Inform the EoC
			}
		}
	}
}

# Inform the EoC
character_event = {
	id = soh.7932
	desc = EVTDESC_SOH_7932
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_SOH_7932 # Who could have done this?
		
		decrease_all_treasure_fleet_attributes_random_effect = yes
		
		mandate_penalty_medium_effect = yes
	}
}

# Sabotage successful, but got caught
character_event = {
	id = soh.7933
	desc = EVTDESC_SOH_7933
	picture = GFX_evt_catching_heretic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7933 # Worth it? Maybe...
		
		detract_grace_super_huge_effect = yes
		
		e_china = {
			holder_scope = {
				FROM = {
					imprison = PREV
				}
				
				character_event = { id = soh.7934 } # Inform the EoC
			}
		}
	}
}

# Inform the EoC
character_event = {
	id = soh.7934
	desc = EVTDESC_SOH_7934
	picture = GFX_evt_catching_heretic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7934 # At least we caught the perpetrator!
		
		decrease_all_treasure_fleet_attributes_random_effect = yes
		
		mandate_penalty_medium_effect = yes
	}
}

# Sabotage fails
character_event = {
	id = soh.7935
	desc = EVTDESC_SOH_7935
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7935 # At least I got away...
		
		e_china = {
			holder_scope = {
				character_event = { id = soh.7936 } # Inform the EoC
			}
		}
	}
}

# Inform the EoC
character_event = {
	id = soh.7936
	desc = EVTDESC_SOH_7936
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_SOH_7936 # Who could have done this?
	}
}

# Sabotage fails, and got caught
character_event = {
	id = soh.7937
	desc = EVTDESC_SOH_7937
	picture = GFX_evt_catching_heretic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7937 # That went poorly...
		
		detract_grace_super_huge_effect = yes
		
		e_china = {
			holder_scope = {
				FROM = {
					imprison = PREV
				}
				
				character_event = { id = soh.7938 } # Inform the EoC
			}
		}
	}
}

# Inform the EoC
character_event = {
	id = soh.7938
	desc = EVTDESC_SOH_7938
	picture = GFX_evt_catching_heretic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7938 # That could have been bad...
	}
}



##### Offer to join Treasure Fleet

### Try to make AI subjects join

# Vassal/sub-vassal might ask to join
character_event = {
	id = soh.7939
	desc = EVTDESC_SOH_7939
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	trigger = {
		NOR = {
			trait = treasure_fleet_preparation
			has_character_modifier = tf_join_request
			has_character_modifier = tf_joining_refused
		}
	}
	
	option = {
		name = EVTOPTA_SOH_7939 # I'll join!
		
		add_character_modifier = {
			modifier = tf_join_request
			months = 1
		}
		
		if = {
			limit = {
				e_china = {
					holder_scope = {
						owes_favor_to = ROOT
					}
				}
			}
			
			character_event = { id = soh.7940 } # Call in Favor?
		}
		
		else = {
			e_china = {
				holder_scope = {
					letter_event = { id = soh.7942 } # EoC gets the request
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				in_faction = yes
			}
			
			mult_modifier = {
				factor = 0.01
				leads_faction = yes
			}
			
			mult_modifier = {
				factor = 0.5
				is_voter = yes
			}
			
			mult_modifier = {
				factor = 0.5
				has_minor_title = title_grand_chancellor
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_7939 # Nah
		
		ai_chance = {
			factor = 100
		}
	}
}

# Asking to join from decision or event - use Favor or not?
character_event = {
	id = soh.7940
	desc = EVTDESC_SOH_7940
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7940 # Call in Favor!
		
		remove_character_modifier = tf_join_request
		
		add_trait = treasure_fleet_preparation
		
		e_china = {
			holder_scope = {
				reverse_remove_favor = ROOT
				
				letter_event = { id = soh.7941 } # Notify EoC
			}
		}
	}
	
	option = {
		trigger = {
			ai = no
		}
		
		name = EVTOPTB_SOH_7940 # I'd rather just ask...
		
		e_china = {
			holder_scope = {
				letter_event = { id = soh.7942 } # EoC gets non-Favor request
			}
		}
	}
}

### Vassal calls in Favor to join

# EoC notified
letter_event = {
	id = soh.7941
	desc = EVTDESC_SOH_7941
	border = GFX_event_letter_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7941 # Very well...
	}
}

### Vassal asks to join - normal

# EoC gets to accept, refuse, or offer a deal
letter_event = {
	id = soh.7942
	desc = EVTDESC_SOH_7942
	border = GFX_event_letter_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7942 # Very well...
		
		FROM = {
			letter_event = { id = soh.7943 days = 1 } # Inform FROM
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					is_rival = FROM
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.01
				NOR = {
					dynasty = FROM
					is_close_relative = FROM
					is_friend = FROM
					is_lover = FROM
				}
			}
		}
		
		increase_random_treasure_fleet_attribute_small_effect = yes
	}
	
	option = {
		name = EVTOPTB_SOH_7942 # You'll have to pay me!
		
		FROM = {
			letter_event = { id = soh.7944 days = 1 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				has_dlc = "Conclave"
			}
			
			mult_modifier = {
				factor = 0.1
				trait = charitable
			}
		}
	}
	
	option = {
		trigger = {
			has_dlc = "Conclave"
			owes_favor_to = FROM
		}
		
		name = EVTOPTC_SOH_7942 # If we call it a Favor...
		
		FROM = {
			letter_event = { id = soh.7947 days = 1 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
		}
	}
	
	option = {
		trigger = {
			has_dlc = "Conclave"
			NOR = {
				owes_favor_to = FROM
				FROM = {
					owes_favor_to = ROOT
				}
			}
		}
		
		name = EVTOPTD_SOH_7942 # If we call it a Favor...
		
		FROM = {
			letter_event = { id = soh.7950 days = 1 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
		}
	}
	
	option = {
		trigger = {
			has_dlc = "Conclave"
			NOR = {
				owes_favor_to = FROM
				FROM = {
					owes_favor_to = ROOT
				}
			}
		}
		
		name = EVTOPTE_SOH_7942 # I don't think so!
		
		FROM = {
			letter_event = { id = soh.7953 days = 1 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.01
				NOT = {
					is_rival = FROM
				}
			}
			
			mult_modifier = {
				factor = 10
				any_rival = {
					character = FROM
				}
			}
			
			mult_modifier = {
				factor = 0.01
				OR = {
					dynasty = FROM
					is_close_relative = FROM
					is_friend = FROM
					is_lover = FROM
				}
			}
		}
	}
}

# Request approved
letter_event = {
	id = soh.7943
	desc = EVTDESC_SOH_7943
	border = GFX_event_letter_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7943 # Great!
		
		if = {
			limit = {
				d_treasure_fleet = {
					has_holder = no
				}
			}
			
			add_trait = treasure_fleet_preparation
		}
		
		else = { # The fleet left just as the request arrived
			if = {
				limit = {
					has_epidemic = no
				}
			}
			
			add_trait = treasure_fleet_voyage
		}
		
		remove_character_modifier = tf_join_request
	}
}

# Deal - pay the EoC?
letter_event = {
	id = soh.7944
	desc = EVTDESC_SOH_7944
	border = GFX_event_letter_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7944 # Sure!
		
		if = {
			limit = {
				d_treasure_fleet = {
					has_holder = no
				}
			}
			
			add_trait = treasure_fleet_preparation
		}
		else = { # The fleet left just as the request arrived
			add_trait = treasure_fleet_voyage
		}
		
		remove_character_modifier = tf_join_request
		
		wealth = -100
		
		FROM = {
			wealth = 100
			
			letter_event = { id = soh.7945 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = greedy
			}
			
			mult_modifier = {
				factor = 0.1
				wealth < 100
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_7944 # No!
		
		remove_character_modifier = tf_join_request
		
		FROM = {
			letter_event = { id = soh.7946 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = charitable
			}
		}
	}
}

# Offer accepted
letter_event = {
	id = soh.7945
	desc = EVTDESC_SOH_7945
	border = GFX_event_letter_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7945 # Great!
	}
}

# Offer refused
letter_event = {
	id = soh.7946
	desc = EVTDESC_SOH_7946
	border = GFX_event_letter_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7946 # I see...
	}
}

# Deal - I'll consider it a Favor (calls in Favor owed *by* the EoC)
letter_event = {
	id = soh.7947
	desc = EVTDESC_SOH_7947
	border = GFX_event_letter_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7947 # Sure!
		
		if = {
			limit = {
				d_treasure_fleet = {
					has_holder = no
				}
			}
			
			add_trait = treasure_fleet_preparation
		}
		
		else = { # The fleet left just as the request arrived
			add_trait = treasure_fleet_voyage
		}
		
		remove_character_modifier = tf_join_request
		
		FROM = {
			reverse_remove_favor  = ROOT
			
			letter_event = { id = soh.7948 } # Inform FROM
		}
	}
	
	option = {
		name = EVTOPTB_SOH_7947 # No!
		
		remove_character_modifier = tf_join_request
		
		FROM = {
			letter_event = { id = soh.7949 } # Inform FROM
		}
	}
}

# Offer accepted
letter_event = {
	id = soh.7948
	desc = EVTDESC_SOH_7948
	border = GFX_event_letter_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7948 # Great!
	}
}

# Offer refused
letter_event = {
	id = soh.7949
	desc = EVTDESC_SOH_7949
	border = GFX_event_letter_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7949 # I see...
	}
}

# Deal - EoC demands a Favor
letter_event = {
	id = soh.7950
	desc = EVTDESC_SOH_7950
	border = GFX_event_letter_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7950 # Sure!
		
		if = {
			limit = {
				d_treasure_fleet = {
					has_holder = no
				}
			}
			
			add_trait = treasure_fleet_preparation
		}
		
		else = { # The fleet left just as the request arrived
			add_trait = treasure_fleet_voyage
		}
		
		remove_character_modifier = tf_join_request
		
		FROM = {
			add_favor = ROOT
			
			letter_event = { id = soh.7951 } # Inform FROM
		}
	}
	
	option = {
		name = EVTOPTB_SOH_7950 # No!
		
		remove_character_modifier = tf_join_request
		
		FROM = {
			letter_event = { id = soh.7952 } # Inform FROM
		}
	}
}

# Offer accepted
letter_event = {
	id = soh.7951
	desc = EVTDESC_SOH_7951
	border = GFX_event_letter_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7951 # Great!
	}
}

# Offer refused
letter_event = {
	id = soh.7952
	desc = EVTDESC_SOH_7952
	border = GFX_event_letter_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7952 # I see...
	}
}

# Request denied
letter_event = {
	id = soh.7953
	desc = EVTDESC_SOH_7953
	border = GFX_event_letter_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_7953 # I see...
		
		remove_character_modifier = tf_join_request
		
		add_character_modifier = {
			modifier = tf_joining_refused
			months = 12
		}
		
		prestige = -25
	}
}