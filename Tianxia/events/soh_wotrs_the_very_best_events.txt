# WotRS The Very Best events
# by Silverswee(e)per

namespace = soh

# soh.2901-3200 reserved

##### The Very Best

### Start and travel progress

# Check how far we've progressed - six + one victories are needed
character_event = {
	id = soh.2901
	hide_window = yes
	
	is_triggered_only = yes # The Very Best questline start, as well as the loop in this event and at the end of the substeps
	
	has_dlc = "Holy Fury"
	is_in_society = yes
	
	trigger = {
		society_member_of = warriors_of_the_rising_sun # If someone leaves the society, stop the quest
		has_quest = quest_the_very_best # If the quester has abandoned the quest, stop the quest
	}
	
	immediate = {
		if = {
			limit = {
				is_inaccessible_or_incapable_trigger = no
				is_landed = yes
				war = no
				
				NOT = {
					trait = treasure_fleet_preparation
				}
			}
			
			random_society_member = {
				limit = {
					OR = {
						AND = {
							is_society_grandmaster = yes
							NOT = {
								character = ROOT
							}
						}
						AND = {
							society_rank == 3
							ROOT = {
								is_society_grandmaster = yes
							}
						}
					}
					
					same_society_as = ROOT
				}
				
				preferred_limit = {
					NOT = {
						any_rival = {
							character = ROOT
						}
					}
				}
				
				save_event_target_as = rising_sun_leader
			}
			
			random_list = {
				1 = {
					trigger = {
						NOT = {
							has_character_flag = defeated_the_sword_of_the_shifting_sands
						}
					}
					
					set_character_flag = rising_sun_sword_of_the_shifting_sands
					
					society_quest_event = { id = soh.2903 }
				}
				
				1 = {
					trigger = {
						NOT = {
							has_character_flag = defeated_the_sword_of_christ
						}
					}
					
					set_character_flag = rising_sun_sword_of_christ
					
					society_quest_event = { id = soh.2903 }
				}
				
				1 = {
					trigger = {
						NOT = {
							has_character_flag = defeated_the_sword_of_winter
						}
					}
					
					set_character_flag = rising_sun_sword_of_winter
					
					society_quest_event = { id = soh.2903 }
				}
				
				1 = {
					trigger = {
						NOT = {
							has_character_flag = defeated_the_sword_of_the_steppes
						}
					}
					
					set_character_flag = rising_sun_sword_of_the_steppes
					
					society_quest_event = { id = soh.2903 }
				}
				
				1 = {
					trigger = {
						NOT = {
							has_character_flag = defeated_the_sword_of_the_dragon
						}
					}
					
					set_character_flag = rising_sun_sword_of_the_dragon
					
					society_quest_event = { id = soh.2903 }
				}
				
				1 = {
					trigger = {
						NOT = {
							has_character_flag = defeated_the_sword_of_serpents
						}
					}
					
					set_character_flag = rising_sun_sword_of_serpents
					
					society_quest_event = { id = soh.2903 }
				}
				
				1 = {
					trigger = {
						has_character_flag = defeated_the_sword_of_the_shifting_sands
						has_character_flag = defeated_the_sword_of_christ
						has_character_flag = defeated_the_sword_of_winter
						has_character_flag = defeated_the_sword_of_the_steppes
						has_character_flag = defeated_the_sword_of_the_dragon
						has_character_flag = defeated_the_sword_of_serpents
					}
					
					narrative_event = { id = soh.3140 } # Face the Unknown Master
				}
			}
		}
		
		else = {
			repeat_event = { id = soh.2901 days = 180 random = 180 } # Try again later
		}
	}
}

# You hear of a great swords(wo)man in a (hopefully) faraway land - prepare for a journey!
society_quest_event = {
	id = soh.2903
	desc = EVTDESC_SOH_2903
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2903 # Time to leave, then!
		
		#log = "[Root.GetBestName] is going off to face one of the Six!"
		
		add_trait = travelling
		set_character_flag = do_not_disturb
		
		hidden_tooltip = {
			set_variable = {
				which = wotrs_travel_progress
				value = 0
			}
			
			if = {
				limit = {
					has_character_flag = rising_sun_sword_of_the_shifting_sands
				}
				
				1711 = { # Gao
					save_event_target_as = champion_province
				}
			}
			
			else_if = {
				limit = {
					has_character_flag = rising_sun_sword_of_christ
				}
				
				457 = { # Firenze
					save_event_target_as = champion_province
				}
			}
			
			else_if = {
				limit = {
					has_character_flag = rising_sun_sword_of_winter
				}
				
				141 = { # Jarnbaraland
					save_event_target_as = champion_province
				}
			}
			
			else_if = {
				limit = {
					has_character_flag = rising_sun_sword_of_the_steppes
				}
				
				1013 = { # Kara Khorum
					save_event_target_as = champion_province
				}
			}
			
			else_if = {
				limit = {
					has_character_flag = rising_sun_sword_of_the_dragon
				}
				
				2882 = { # Bianjing
					save_event_target_as = champion_province
				}
			}
			
			else_if = {
				limit = {
					has_character_flag = rising_sun_sword_of_serpents
				}
				
				1335 = { # Delhi
					save_event_target_as = target_province
				}
			}
			
			if = {
				limit = {
					capital_scope = {
						distance = {
							where = event_target:champion_province
							value < 150
						}
					}
				}
				
				set_variable = {
					which = wotrs_travel_distance
					value = 1
				}
			}
			
			else_if = {
				limit = {
					capital_scope = {
						distance = {
							where = event_target:champion_province
							value < 300
						}
					}
				}
				
				set_variable = {
					which = wotrs_travel_distance
					value = 2
				}
			}
			
			else_if = {
				limit = {
					capital_scope = {
						distance = {
							where = event_target:champion_province
							value < 450
						}
					}
				}
				
				set_variable = {
					which = wotrs_travel_distance
					value = 3
				}
			}
			
			else_if = {
				limit = {
					capital_scope = {
						distance = {
							where = event_target:champion_province
							value < 600
						}
					}
				}
				
				set_variable = {
					which = wotrs_travel_distance
					value = 4
				}
			}
			
			else_if = {
				limit = {
					capital_scope = {
						distance = {
							where = event_target:champion_province
							value < 750
						}
					}
				}
				
				set_variable = {
					which = wotrs_travel_distance
					value = 5
				}
			}
			
			else_if = {
				limit = {
					capital_scope = {
						distance = {
							where = event_target:champion_province
							value < 900
						}
					}
				}
				
				set_variable = {
					which = wotrs_travel_distance
					value = 6
				}
			}
			
			else_if = {
				limit = {
					capital_scope = {
						distance = {
							where = event_target:champion_province
							value < 1050
						}
					}
				}
				
				set_variable = {
					which = wotrs_travel_distance
					value = 7
				}
			}
			
			else_if = {
				limit = {
					capital_scope = {
						distance = {
							where = event_target:champion_province
							value < 1200
						}
					}
				}
				
				set_variable = {
					which = wotrs_travel_distance
					value = 8
				}
			}
			
			else_if = {
				limit = {
					capital_scope = {
						distance = {
							where = event_target:champion_province
							value < 1350
						}
					}
				}
				
				set_variable = {
					which = wotrs_travel_distance
					value = 9
				}
			}
			
			else = {
				set_variable = {
					which = wotrs_travel_distance
					value = 10
				}
			}
			
			character_event = { id = soh.2904 days = 60 random = 30 } # Travel event selection
		}
	}
}

# Travel progress and event selection
character_event = {
	id = soh.2904
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				is_actually_incapable_trigger = no
				is_landed = yes
				
				society_member_of = warriors_of_the_rising_sun # If someone leaves the society, stop the quest
				has_quest = quest_the_very_best # If the quester has abandoned the quest, stop the quest
			}
			
			if = {
				limit = {
					is_variable_equal = {
						which = wotrs_travel_progress
						which = wotrs_travel_distance
					}
				}
				
				if = {
					limit = {
						has_character_flag = rising_sun_sword_of_the_shifting_sands
					}
					
					narrative_event = { id = soh.3031 } # Arrival
				}
				
				else_if = {
					limit = {
						has_character_flag = rising_sun_sword_of_christ
					}
					
					narrative_event = { id = soh.3064 } # Arrival
				}
				
				else_if = {
					limit = {
						has_character_flag = rising_sun_sword_of_winter
					}
					
					narrative_event = { id = soh.3085 } # Arrival
				}
				
				else_if = {
					limit = {
						has_character_flag = rising_sun_sword_of_the_steppes
					}
					
					narrative_event = { id = soh.3098 } # Arrival
				}
				
				else_if = {
					limit = {
						has_character_flag = rising_sun_sword_of_the_dragon
					}
					narrative_event = { id = soh.3106 } # Arrival
				}
				
				else_if = {
					limit = {
						has_character_flag = rising_sun_sword_of_serpents
					}
					narrative_event = { id = soh.3122 } # Arrival
				}
			}
			
			else = {
				change_variable = {
					which = wotrs_travel_progress
					value = 1
				}
				
				random_list = {
					10 = {
						character_event = { id = soh.2905 } # Foreign commoner insults you
					}
					
					1 = {
						character_event = { id = soh.2912 } # You come across people bathing
					}
					
					2 = {
						trigger = {
							any_independent_ruler = {
								any_realm_province = {
									distance = {
										where = event_target:champion_province
										value < 500
									}
									NOT = {
										religion_group = ROOT
									}
								}
							}
						}
						
						character_event = { id = soh.2922 } # Preacher
					}
					
					2 = {
						character_event = { id = soh.2923 } # Low food
					}
					
					2 = {
						character_event = { id = soh.2924 } # Difficult trek
					}
					
					10 = {
						character_event = { id = soh.2925 } # Bandit ambush
					}
					
					5 = {
						character_event = { id = soh.2934 } # Peasant children
					}
					
					10 = {
						character_event = { id = soh.2939 } # Archery contest
					}
					
					2 = {
						character_event = { id = soh.2944 } # Local cuisine
					}
					
					5 = {
						character_event = { id = soh.2947 } # Challenged by youngling
					}
					
					2 = {
						character_event = { id = soh.2949 } # Horse loses shoe
					}
					
					5 = {
						character_event = { id = soh.2950 } # Local military technology
					}
					
					5 = {
						character_event = { id = soh.2951 } # Asked to serve as a judge
					}
					
					2 = {
						trigger = {
							# Only if you have the proper DLC!
							OR = {
								has_dlc = "Mystics"
								has_dlc = "Jade Dragon"
							}
						}
						
						character_event = { id = soh.2974 } # Buy artifact?
					}
					
					10 = {
						character_event = { id = soh.2976 } # Tips from a local warrior
					}
					
					2 = {
						trigger = {
							NOR = {
								trait = pneumonic
								trait = flu
								trait = ill
							}
						}
						
						character_event = { id = soh.2977 } # Rain
					}
					
					2 = {
						character_event = { id = soh.2980 } # Rock slide
					}
					
					5 = {
						trigger = {
							NOR = {
								has_character_flag = wotrs_adventuring_party
								has_artifact = the_plus_one_ring # The hobbitses don't have it if you do...
								has_game_rule = {
									name = supernatural_events
									value = off
								}
							}
						}
						
						mult_modifier = {
							factor = 10
							has_character_flag = wotrs_black_riders
						}
						
						character_event = { id = soh.2983 } # Adventuring party
					}
					
					5 = {
						character_event = { id = soh.2984 } # Shadowy figure
					}
					
					10 = {
						character_event = { id = soh.2985 } # Hard to stay clean
					}
					
					5 = {
						character_event = { id = soh.2986 } # Poetry
					}
					
					5 = {
						trigger = {
							NOT = {
								trait = ambitious
							}
						}
						
						character_event = { id = soh.2989 } # Become more ambitious
					}
					
					1 = {
						trigger = {
							NOT = {
								trait = content
							}
						}
						
						character_event = { id = soh.2990 } # Become more content
					}
					
					10 = {
						trigger = {
							check_variable = {
								which = wotrs_travel_progress
								value >= 3
							}
						}
						
						mult_modifier = {
							factor = 0.1
							check_variable = {
								which = wotrs_travel_progress
								value < 5
							}
						}
						
						mult_modifier = {
							factor = 2
							check_variable = {
								which = wotrs_travel_progress
								value >= 7
							}
						}
						
						character_event = { id = soh.2991 } # Are we there yet?
					}
					
					1 = {
						trigger = {
							NOT = {
								trait = slothful
							}
						}
						
						character_event = { id = soh.2992 } # Become more slothful
					}
					
					2 = {
						trigger = {
							NOT = {
								trait = gregarious
							}
						}
						
						character_event = { id = soh.2993 } # Gregarious
					}
					
					5 = {
						trigger = {
							NOR = {
								trait = humble
								trait = proud
							}
						}
						
						character_event = { id = soh.2994 } # Local festival
					}
					
					10 = {
						trigger = {
							NOT = {
								has_game_rule = {
									name = supernatural_events
									value = off
								}
							}
						}
						
						character_event = { id = soh.2995 } # Eastern dragon
					}
					
					1 = {
						trigger = {
							NOT = {
								has_game_rule = {
									name = supernatural_events
									value = off
								}
							}
						}
						
						character_event = { id = soh.2996 } # Western dragon
					}
					
					1 = {
						trigger = {
							NOR = {
								has_character_flag = wotrs_black_riders
								has_artifact = the_plus_one_ring # Such a meeting would go... poorly...
								has_game_rule = {
									name = supernatural_events
									value = off
								}
							}
						}
						
						mult_modifier = {
							factor = 10
							has_character_flag = wotrs_adventuring_party
						}
						
						character_event = { id = soh.2997 } # Black Riders
					}
					
					5 = {
						character_event = { id = soh.2998 } # Prophet
					}
					
					2 = {
						trigger = {
							NOR = {
								has_character_flag = the_very_best_conversion_event
								religion = shinto
								controls_religion = yes
							}
							
							OR = {
								has_japanese_religion_trigger = yes
								religion = buddhist
							}
						}
						
						set_character_flag = the_very_best_conversion_event
						
						character_event = { id = soh.2999 } # Become Shinto?
					}
					
					5 = {
						trigger = {
							NOR = {
								has_character_flag = the_very_best_conversion_event
								religion = buddhist
								controls_religion = yes
							}
							
							OR = {
								has_japanese_religion_trigger = yes
								has_dharmic_religion_trigger = yes
								has_chinese_eastern_religion_trigger = yes
							}
							
							OR = {
								culture_group = japonic
								NOT = {
									has_japanese_religion_trigger = yes
								}
							}
						}
						
						set_character_flag = the_very_best_conversion_event
						
						character_event = { id = soh.3000 } # Become Buddhist?
					}
					
					5 = {
						trigger = {
							NOR = {
								has_character_flag = the_very_best_conversion_event
								religion = shugendo
								controls_religion = yes
							}
							
							OR = {
								has_japanese_religion_trigger = yes
								religion = buddhist
							}
						}
						
						set_character_flag = the_very_best_conversion_event
						
						character_event = { id = soh.3149 } # Become Shugendo?
					}
					
					2 = {
						trigger = {
							NOR = {
								has_character_flag = the_very_best_conversion_event
								religion = koshin
								controls_religion = yes
							}
							
							OR = {
								has_japanese_religion_trigger = yes
								religion = buddhist
							}
						}
						
						set_character_flag = the_very_best_conversion_event
						
						character_event = { id = soh.3150 } # Become Koshin?
					}
					
					2 = {
						trigger = {
							could_have_japanese_government_trigger = yes
							NOT = {
								culture = japanese
							}
							OR = { # Japanese culture flipping has started
								year >= 850
								has_global_flag = established_heian_kyo
							}
						}
						
						character_event = { id = soh.3001 } # Become Japanese?
					}
					
					2 = {
						trigger = {
							NOT = {
								trait = zealous
							}
						}
						
						character_event = { id = soh.3002 } # Become more Zealous
					}
					
					2 = {
						trigger = {
							trait = depressed
						}
						
						character_event = { id = soh.3003 } # Lose Depressed
					}
					
					2 = {
						character_event = { id = soh.3004 } # Scholar offers insights
					}
					
					2 = {
						character_event = { id = soh.3005 } # Shortcut didn't pan out
					}
					
					2 = {
						trigger = { # We don't want to overshoot...
							NOT = {
								is_variable_equal = {
									which = wotrs_travel_progress
									which = wotrs_travel_distance
								}
							}
						}
						
						character_event = { id = soh.3006 } # Found a shortcut
					}
					
					5 = {
						character_event = { id = soh.3007 } # Cultists
					}
					
					5 = {
						character_event = { id = soh.3015 } # Sword in the Stone
					}
					
					2 = {
						character_event = { id = soh.3018 } # Stone circle
					}
					
					5 = {
						character_event = { id = soh.3021 } # Bandit chief
					}
					
					2 = {
						character_event = { id = soh.3028 } # Carvings
					}
					
					2 = {
						trigger = {
							NOT = {
								trait = charitable
							}
						}
						
						character_event = { id = soh.3029 } # Less Greedy
					}
					
					2 = {
						trigger = {
							trait = stressed
						}
						
						character_event = { id = soh.3030 } # Lose Stressed
					}
					
					10 = {
						repeat_event = { id = soh.2904 days = 60 random = 60 } # No event
					}
				}
			}
		}
		
		else_if = {
			limit = {
				society_member_of = warriors_of_the_rising_sun # If someone leaves the society, stop the quest
				has_quest = quest_the_very_best # If the quester has abandoned the quest, stop the quest
			}
			
			repeat_event = { id = soh.2904 days = 180 random = 180 } # Try again later
		}
		
		else = {
			#log = "WotRS the Very Best event chain cancelled for [Root.GetBestName]!"
			
			remove_trait = travelling
			
			clr_character_flag = do_not_disturb
		}
	}
}

##### Shared travel events

### Foreign commoner insults you - cut them down?

# You are insulted by a foreign commoner - cut them down?
character_event = {
	id = soh.2905
	desc = EVTDESC_SOH_2905
	picture = GFX_evt_noble_haughty_talking_to_peasants
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2905 # Just ignore him
		
		prestige = -25
		
		change_society_currency = -25
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = proud
					NOT = {
						trait = kind
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_2905 # Cut him down!
		
		prestige = 25
		
		change_society_currency = 25
		
		random = {
			chance = 50
			add_trait_partially_proud_effect = yes
		}
		
		add_trait_partially_cruel_effect = yes
		
		random = {
			chance = 50
			add_trait_partially_wroth_effect = yes
		}
		
		hidden_tooltip = {
			random_list = {
				50 = {
					character_event = { id = soh.2906 days = 1 random = 1 } # Asked to leave
				}
				
				50 = {
					character_event = { id = soh.2907 days = 1 random = 1 } # Guards arrive
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = humble
					NOR = {
						trait = wroth
						trait = cruel
					}
				}
			}
		}
	}
}

# Cut them down - you're asked to leave
character_event = {
	id = soh.2906
	desc = EVTDESC_SOH_2906
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2906 # Fine!
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Cut them down - guards arrive
character_event = {
	id = soh.2907
	desc = EVTDESC_SOH_2907
	picture = GFX_evt_noble_haughty_talking_to_peasants
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			wealth = 100
		}
		
		name = EVTOPTA_SOH_2907 # I'll pay your fine!
		
		wealth = -100
		
		prestige = -25
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = greedy
					trait = arbitrary
				}
			}
			
			mult_modifier = {
				factor = 10
				trait = just
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_2907 # You defend him? DIE!
		
		hidden_tooltip = {
			random_list = {
				50 = {
					mult_modifier = {
						factor = 0.1
						combat_rating < 50
					}
					
					character_event = { id = soh.2908 days = 1 } # Fight goes well
				}
				
				25 = {
					mult_modifier = {
						factor = 0.1
						combat_rating >= 50
					}
					
					character_event = { id = soh.2909 days = 1 } # Wounded
				}
				
				24 = {
					trigger = {
						combat_rating < 50
					}
					
					character_event = { id = soh.2910 days = 1 } # Maimed
				}
				
				1 = {
					trigger = {
						combat_rating < 25
					}
					
					character_event = { id = soh.2911 days = 1 } # Killed
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = craven
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_SOH_2907 # Time to flee!
		
		change_society_currency = -50
		
		prestige = -50
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		random = {
			chance = 15
			add_trait_wounded_effect = yes
		}
		
		add_trait_partially_craven_effect = yes
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = brave
				}
			}
		}
	}
}

# Fight against guards goes well
character_event = {
	id = soh.2908
	desc = EVTDESC_SOH_2908
	picture = GFX_evt_noble_haughty_talking_to_peasants
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2908 # Rabble!
		
		prestige = 25
		
		add_one_duel_experience_modifier = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Wounded fighting guards
character_event = {
	id = soh.2909
	desc = EVTDESC_SOH_2909
	picture = GFX_evt_noble_haughty_talking_to_peasants
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2909 # That went well enough...
		
		prestige = 5
		
		add_trait_wounded_effect = yes
		
		add_one_duel_experience_modifier = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Maimed fighting guards
character_event = {
	id = soh.2910
	desc = EVTDESC_SOH_2910
	picture = GFX_evt_noble_haughty_talking_to_peasants
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2910 # They actually hurt me!
		
		prestige = -25
		
		add_maimed_trait_effect = yes
		
		add_one_duel_experience_modifier = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Killed fighting guards
character_event = {
	id = soh.2911
	desc = EVTDESC_SOH_2911
	picture = GFX_evt_bloody_man
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2911 # This cannot be!
		
		prestige = -100
		
		death = {
			death_reason = death_rabble
		}
	}
}

### Come across attractive foreigners of your preferred sex taking a bath - could possibly gain lovers

# Walk through a forest hearing people out of sight - investigate?
character_event = {
	id = soh.2912
	desc = EVTDESC_SOH_2912
	picture = GFX_evt_mysterious_forest
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2912 # I must investigate!
		
		character_event = { id = soh.2913 days = 1 random = 1 } # Direct approach
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = craven
					trait = paranoid
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_2912 # I must investigate... discreetly!
		
		change_society_currency = -5
		
		hidden_tooltip = {
			random_list = {
				50 = {
					trigger = {
						intrigue >= 8
					}
					
					character_event = { id = soh.2914 days = 1 random = 1 } # Sneaking goes well
				}
				50 = {
					trigger = {
						intrigue < 20
					}
					
					character_event = { id = soh.2915 days = 1 random = 1 } # Sneaking goes poorly
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = brave
				}
			}
		}
	}
	
	
	option = {
		name = EVTOPTC_SOH_2912 # This is a waste of time...
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
		}
	}
}

# Investigate - direct approach
character_event = {
	id = soh.2913
	desc = EVTDESC_SOH_2913
	picture = GFX_evt_mysterious_forest
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2913 # I'll be leaving now!
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger =  {
				NAND = {
					trait = lustful
					NOT = {
						trait = shy
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_2913 # May I join you?
		
		hidden_tooltip = {
			random_list = {
				50 = {
					trigger = {
						is_unattractive_trigger = no
					}
					
					mult_modifier = {
						factor = 2
						trait = gregarious
					}
					
					mult_modifier = {
						factor = 2
						diplomacy >= 12
					}
					
					mult_modifier = {
						factor = 2
						diplomacy >= 16
					}
					
					character_event = { id = soh.2918 days = 1 random = 1 } # Positive reply
				}
				
				50 = {
					trigger = {
						is_attractive_trigger = no
					}
					
					mult_modifier = {
						factor = 2
						trait = shy
					}
					
					mult_modifier = {
						factor = 2
						trait = stutter
					}
					
					mult_modifier = {
						factor = 2
						trait = lisp
					}
					
					mult_modifier = {
						factor = 2
						diplomacy < 8
					}
					
					character_event = { id = soh.2917 days = 1 random = 1 } # Negative reply
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = chaste
					trait = celibate
				}
			}
		}
	}
}

# Successful sneaking
character_event = {
	id = soh.2914
	desc = EVTDESC_SOH_2914
	picture = GFX_evt_mysterious_forest
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2914 # Well, I'll just leave now...
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger =  {
				NAND = {
					trait = lustful
					NOT = {
						trait = shy
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_2914 # Approach them
		
		character_event = { id = soh.2916 days = 1 random = 1 } # Make your presence known
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = chaste
					trait = celibate
				}
			}
		}
	}
}

# Got caught sneaking
character_event = {
	id = soh.2915
	desc = EVTDESC_SOH_2915
	picture = GFX_evt_mysterious_forest
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2915 # I'll be leaving now!
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger =  {
				NAND = {
					trait = lustful
					NOT = {
						trait = shy
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_2915 # May I join you?
		
		hidden_tooltip = {
			random_list = {
				25 = {
					trigger = {
						is_unattractive_trigger = no
					}
					
					mult_modifier = {
						factor = 2
						trait = gregarious
					}
					
					mult_modifier = {
						factor = 2
						diplomacy >= 12
					}
					
					mult_modifier = {
						factor = 2
						diplomacy >= 16
					}
					
					character_event = { id = soh.2918 days = 1 random = 1 } # Positive reply
				}
				
				75 = {
					trigger = {
						is_attractive_trigger = no
					}
					
					mult_modifier = {
						factor = 2
						trait = shy
					}
					
					mult_modifier = {
						factor = 2
						trait = stutter
					}
					
					mult_modifier = {
						factor = 2
						trait = lisp
					}
					
					mult_modifier = {
						factor = 2
						diplomacy < 8
					}
					
					character_event = { id = soh.2917 days = 1 random = 1 } # Negative reply
				}
			}
		}
		
		ai_chance = {
			factor = 100
			trigger = {
				NOR = {
					trait = chaste
					trait = celibate
				}
			}
		}
	}
}

# Made your presence known sneaking
character_event = {
	id = soh.2916
	desc = EVTDESC_SOH_2916
	picture = GFX_evt_mysterious_forest
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2916 # May I join you?
		
		hidden_tooltip = {
			random_list = {
				75 = {
					trigger = {
						is_unattractive_trigger = no
					}
					
					mult_modifier = {
						factor = 2
						trait = gregarious
					}
					
					mult_modifier = {
						factor = 2
						diplomacy >= 12
					}
					
					mult_modifier = {
						factor = 2
						diplomacy >= 16
					}
					
					character_event = { id = soh.2918 days = 1 random = 1 } # Positive reply
				}
				
				25 = {
					trigger = {
						is_attractive_trigger = no
					}
					
					mult_modifier = {
						factor = 2
						trait = shy
					}
					
					mult_modifier = {
						factor = 2
						trait = stutter
					}
					
					mult_modifier = {
						factor = 2
						trait = lisp
					}
					
					mult_modifier = {
						factor = 2
						diplomacy < 8
					}
					
					character_event = { id = soh.2917 days = 1 random = 1 } # Negative reply
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = chaste
					trait = celibate
				}
			}
		}
	}
}

# Told to go away
character_event = {
	id = soh.2917
	desc = EVTDESC_SOH_2917
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2917 # Fine!
		
		prestige = -10
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Invited to join the bathers
character_event = {
	id = soh.2918
	desc = EVTDESC_SOH_2918
	picture = GFX_evt_mysterious_forest
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2918 # Just enjoy the bath
		
		piety = 5
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = lustful
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_2918 # Try to tumble them!
		
		piety = -25
		
		hidden_tooltip = {
			random_list = {
				34 = {
					mult_modifier = {
						factor = 2
						trait = gregarious
					}
					
					mult_modifier = {
						factor = 2
						diplomacy >= 12
					}
					
					mult_modifier = {
						factor = 2
						diplomacy >= 16
					}
					
					mult_modifier = {
						factor = 2
						diplomacy >= 20
					}
					
					mult_modifier = {
						factor = 2
						is_smart_trigger = yes
					}
					
					mult_modifier = {
						factor = 10
						OR = {
							trait = master_seducer
							trait = master_seductress
						}
					}
					
					character_event = { id = soh.2919 days = 1 random = 1 } # Success
				}
				
				33 = {
					character_event = { id = soh.2920 days = 1 random = 1 } # Partial success
				}
				
				33 = {
					trigger = {
						is_attractive_trigger = no
					}
					
					mult_modifier = {
						factor = 2
						trait = shy
					}
					
					mult_modifier = {
						factor = 2
						trait = stutter
					}
					
					mult_modifier = {
						factor = 2
						trait = lisp
					}
					
					mult_modifier = {
						factor = 2
						is_dumb_trigger = yes
					}
					
					mult_modifier = {
						factor = 2
						diplomacy < 8
					}
					
					mult_modifier = {
						factor = 2
						diplomacy < 4
					}
					
					character_event = { id = soh.2921 days = 1 random = 1 } # Failure
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = chaste
					trait = celibate
				}
			}
		}
	}
}

# Attempted tumble - success
character_event = {
	id = soh.2919
	desc = EVTDESC_SOH_2919
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	immediate = {
		random_province = {
			limit = {
				has_owner = yes
				distance = {
					where = event_target:champion_province
					value < 500
				}
			}
			
			save_event_target_as = lover_province
		}
		
		if = {
			limit = {
				is_female = no
				NOT = {
					trait = homosexual
				}
			}
			
			create_character = {
				age = 16
				female = yes
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			
			new_character = {
				remove_trait = homosexual
				save_event_target_as = wotrs_lover_1
			}
			
			create_character = {
				age = 17
				female = yes
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			
			new_character = {
				remove_trait = homosexual
				save_event_target_as = wotrs_lover_2
			}
			
			create_character = {
				age = 18
				female = yes
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			
			new_character = {
				remove_trait = homosexual
				save_event_target_as = wotrs_lover_3
			}
			
			create_character = {
				age = 19
				female = yes
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			
			new_character = {
				remove_trait = homosexual
				save_event_target_as = wotrs_lover_4
			}
			
			create_character = {
				age = 20
				female = yes
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			
			new_character = {
				remove_trait = homosexual
				save_event_target_as = wotrs_lover_5
			}
		}
		
		else_if = {
			limit = {
				is_female = no
				trait = homosexual
			}
			
			create_character = {
				age = 16
				female = no
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				trait = homosexual
				
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			
			new_character = {
				save_event_target_as = wotrs_lover_1
			}
			
			create_character = {
				age = 17
				female = no
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				trait = homosexual
				
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			
			new_character = {
				save_event_target_as = wotrs_lover_2
			}
			
			create_character = {
				age = 18
				female = no
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				trait = homosexual
				
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			
			new_character = {
				save_event_target_as = wotrs_lover_3
			}
			
			create_character = {
				age = 19
				female = no
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				trait = homosexual
				
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			
			new_character = {
				save_event_target_as = wotrs_lover_4
			}
			
			create_character = {
				age = 20
				female = no
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				trait = homosexual
				
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			
			new_character = {
				save_event_target_as = wotrs_lover_5
			}
		}
		
		else_if = {
			limit = {
				is_female = yes
				NOT = {
					trait = homosexual
				}
			}
			
			create_character = {
				age = 16
				female = no
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			
			new_character = {
				remove_trait = homosexual
				save_event_target_as = wotrs_lover_1
			}
			
			create_character = {
				age = 17
				female = no
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			
			new_character = {
				remove_trait = homosexual
				save_event_target_as = wotrs_lover_2
			}
			
			create_character = {
				age = 18
				female = no
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			
			new_character = {
				remove_trait = homosexual
				save_event_target_as = wotrs_lover_3
			}
			
			create_character = {
				age = 19
				female = no
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			
			new_character = {
				remove_trait = homosexual
				save_event_target_as = wotrs_lover_4
			}
			
			create_character = {
				age = 20
				female = no
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			
			new_character = {
				remove_trait = homosexual
				save_event_target_as = wotrs_lover_5
			}
		}
		
		else_if = {
			limit = {
				is_female = yes
				trait = homosexual
			}
			
			create_character = {
				age = 16
				female = yes
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				trait = homosexual
				
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			
			new_character = {
				save_event_target_as = wotrs_lover_1
			}
			
			create_character = {
				age = 17
				female = yes
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				trait = homosexual
				
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			
			new_character = {
				save_event_target_as = wotrs_lover_2
			}
			
			create_character = {
				age = 18
				female = yes
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				trait = homosexual
				
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			
			new_character = {
				remove_trait = homosexual
				save_event_target_as = wotrs_lover_3
			}
			
			create_character = {
				age = 19
				female = yes
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				trait = homosexual
				
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			
			new_character = {
				save_event_target_as = wotrs_lover_4
			}
			
			create_character = {
				age = 20
				female = yes
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				trait = homosexual
				
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			
			new_character = {
				save_event_target_as = wotrs_lover_5
			}
		}
		
		event_target:wotrs_lover_1 = {
			if = {
				limit = {
					trait = homosexual
				}
				add_lover = event_target:wotrs_lover_2
				add_lover = event_target:wotrs_lover_3
				add_lover = event_target:wotrs_lover_4
				add_lover = event_target:wotrs_lover_5
			}
			
			else = {
				add_friend = event_target:wotrs_lover_2
				add_friend = event_target:wotrs_lover_3
				add_friend = event_target:wotrs_lover_4
				add_friend = event_target:wotrs_lover_5
			}
		}
		
		event_target:wotrs_lover_2 = {
			if = {
				limit = {
					trait = homosexual
				}
				add_lover = event_target:wotrs_lover_1
				add_lover = event_target:wotrs_lover_3
				add_lover = event_target:wotrs_lover_4
				add_lover = event_target:wotrs_lover_5
			}
			
			else = {
				add_friend = event_target:wotrs_lover_1
				add_friend = event_target:wotrs_lover_3
				add_friend = event_target:wotrs_lover_4
				add_friend = event_target:wotrs_lover_5
			}
		}
		
		event_target:wotrs_lover_3 = {
			if = {
				limit = {
					trait = homosexual
				}
				add_lover = event_target:wotrs_lover_1
				add_lover = event_target:wotrs_lover_2
				add_lover = event_target:wotrs_lover_4
				add_lover = event_target:wotrs_lover_5
			}
			
			else = {
				add_friend = event_target:wotrs_lover_1
				add_friend = event_target:wotrs_lover_2
				add_friend = event_target:wotrs_lover_4
				add_friend = event_target:wotrs_lover_5
			}
		}
		
		event_target:wotrs_lover_4 = {
			if = {
				limit = {
					trait = homosexual
				}
				add_lover = event_target:wotrs_lover_1
				add_lover = event_target:wotrs_lover_2
				add_lover = event_target:wotrs_lover_3
				add_lover = event_target:wotrs_lover_5
			}
			
			else = {
				add_friend = event_target:wotrs_lover_1
				add_friend = event_target:wotrs_lover_2
				add_friend = event_target:wotrs_lover_3
				add_friend = event_target:wotrs_lover_5
			}
		}
		
		event_target:wotrs_lover_5 = {
			if = {
				limit = {
					trait = homosexual
				}
				add_lover = event_target:wotrs_lover_1
				add_lover = event_target:wotrs_lover_2
				add_lover = event_target:wotrs_lover_3
				add_lover = event_target:wotrs_lover_4
			}
			
			else = {
				add_friend = event_target:wotrs_lover_1
				add_friend = event_target:wotrs_lover_2
				add_friend = event_target:wotrs_lover_3
				add_friend = event_target:wotrs_lover_4
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_2919 # It is good to be the TITLE!
		
		prestige = 25
		
		add_trait_fully_lustful_effect = yes
		
		event_target:wotrs_lover_1 = {
			save_event_target_as = sex_partner
			add_lover = ROOT
		}
		unprotected_sex_effect_event_target = yes
		
		event_target:wotrs_lover_2 = {
			save_event_target_as = sex_partner
			add_lover = ROOT
		}
		
		unprotected_sex_effect_event_target = yes
		
		event_target:wotrs_lover_3 = {
			save_event_target_as = sex_partner
			add_lover = ROOT
		}
		
		unprotected_sex_effect_event_target = yes
		
		event_target:wotrs_lover_4 = {
			save_event_target_as = sex_partner
			add_lover = ROOT
		}
		
		unprotected_sex_effect_event_target = yes
		
		event_target:wotrs_lover_5 = {
			save_event_target_as = sex_partner
			add_lover = ROOT
		}
		
		unprotected_sex_effect_event_target = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Attempted tumble - partial success
character_event = {
	id = soh.2920
	desc = EVTDESC_SOH_2920
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	immediate = {
		random_province = {
			limit = {
				has_owner = yes
				distance = {
					where = event_target:champion_province
					value < 500
				}
			}
			
			save_event_target_as = lover_province
		}
		
		if = {
			limit = {
				is_female = no
				NOT = {
					trait = homosexual
				}
			}
			
			create_character = {
				age = 16
				female = yes
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			
			new_character = {
				remove_trait = homosexual
				save_event_target_as = wotrs_lover_1
			}
		}
		
		else_if = {
			limit = {
				is_female = no
				trait = homosexual
			}
			
			create_character = {
				age = 16
				female = no
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				trait = homosexual
				
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			
			new_character = {
				save_event_target_as = wotrs_lover_1
			}
		}
		
		else_if = {
			limit = {
				is_female = yes
				NOT = {
					trait = homosexual
				}
			}
			
			create_character = {
				age = 16
				female = no
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			
			new_character = {
				remove_trait = homosexual
				save_event_target_as = wotrs_lover_1
			}
		}
		else_if = {
			limit = {
				is_female = yes
				trait = homosexual
			}
			
			create_character = {
				age = 16
				female = yes
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				trait = homosexual
				
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			
			new_character = {
				save_event_target_as = wotrs_lover_1
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_2920 # Well, it could have been worse...
		
		prestige = 10
		
		add_trait_partially_lustful_effect = yes
		
		event_target:wotrs_lover_1 = {
			save_event_target_as = sex_partner
			add_lover = ROOT
		}
		
		unprotected_sex_effect_event_target = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Attempted tumble - failure
character_event = {
	id = soh.2921
	desc = EVTDESC_SOH_2921
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2921 # Fine!
		
		prestige = -25
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### Foreign preacher - could gain sympathy if not Zealous, otherwise gain piety

# You meet a preacher
character_event = {
	id = soh.2922
	desc = EVTDESC_SOH_2922
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	immediate = {
		random_independent_ruler = {
			limit = {
				any_realm_province = {
					distance = {
						where = event_target:champion_province
						value < 500
					}
					
					NOT = {
						religion_group = ROOT
					}
				}
			}
			
			random_realm_province = {
				limit = {
					distance = {
						where = event_target:champion_province
						value < 500
					}
					
					NOT = {
						religion_group = ROOT
					}
				}
				
				save_event_target_as = preacher_province
			}
		}
	}
	
	option = {
		trigger = {
			NOT = {
				trait = zealous
			}
		}
		
		name = EVTOPTA_SOH_2922 # Your ways interest me
		
		piety = -25
		
		if = {
			limit = {
				event_target:preacher_province = {
					religion_group = christian
				}
			}
			
			add_trait = sympathy_christendom
		}
		
		else_if = {
			limit = {
				event_target:preacher_province = {
					religion_group = muslim
				}
			}
			
			add_trait = sympathy_islam
		}
		
		else_if = {
			limit = {
				event_target:preacher_province = {
					religion_group = jewish_group
				}
			}
			
			add_trait = sympathy_judaism
		}
		
		else_if = {
			limit = {
				event_target:preacher_province = {
					religion_group = pagan_group
				}
			}
			
			add_trait = sympathy_pagans
		}
		
		else_if = {
			limit = {
				event_target:preacher_province = {
					religion_group = zoroastrian_group
				}
			}
			
			add_trait = sympathy_zoroastrianism
		}
		
		else_if = {
			limit = {
				event_target:preacher_province = {
					religion_group = indian_group
				}
			}
			
			add_trait = sympathy_indian
		}
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = proud
			}
		}
	}
	
	option = {
		trigger = {
			NOR = {
				trait = cynical
				trait = sympathy_christendom
				trait = sympathy_islam
				trait = sympathy_judaism
				trait = sympathy_pagans
				trait = sympathy_zoroastrianism
				trait = sympathy_indian
			}
		}
		
		name = EVTOPTB_SOH_2922 # Your ways are wrong!
		
		piety = 25
		
		add_trait_zealous_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = humble
			}
		}
	}
}

### Low food - get less fat or less gluttonous

# Living on less food has made you less fat/less gluttonous
character_event = {
	id = soh.2923
	desc = EVTDESC_SOH_2923
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2923 # I used to eat too much...
		
		add_trait_partially_temperate_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### Difficult trek - get stronger if feeble and gain prestige

# Difficult trek
character_event = {
	id = soh.2924
	desc = EVTDESC_SOH_2924
	picture = GFX_evt_pilgrims_epic_journey
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2924 # I am not as weak now!
		
		if = {
			limit = {
				trait = slothful
			}
			remove_trait_slothful_effect = yes
		}
		
		if = {
			limit = {
				trait = frail
			}
			
			remove_trait = frail
			
			prestige = 10
		}
		
		else_if = {
			limit = {
				is_strong_trigger = no
				is_weak_trigger = no
			}
			
			add_trait = brawny
			
			prestige = 10
		}
		
		else = {
			prestige = 25
		}
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### Bandit ambush - fight, attempt to pay them off, or flee?

# Bandits surround you on the road - what do?
character_event = {
	id = soh.2925
	desc = EVTDESC_SOH_2925
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2925 # Fight them!
		
		change_society_currency = 25
		
		hidden_tooltip = {
			random_list = {
				50 = {
					mult_modifier = {
						factor = 0.1
						combat_rating < 50
					}
					
					character_event = { id = soh.2926 days = 1 random = 1 } # Fight goes well
				}
				
				25 = {
					mult_modifier = {
						factor = 0.1
						combat_rating < 50
					}
					
					character_event = { id = soh.2927 days = 1 random = 1 } # Wounded
				}
				
				24 = {
					trigger = {
						combat_rating < 50
					}
					
					character_event = { id = soh.2928 days = 1 random = 1 } # Maimed
				}
				
				1 = {
					trigger = {
						combat_rating < 25
					}
					
					character_event = { id = soh.2929 days = 1 random = 1 } # Killed
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = craven
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_2925 # Attempt to bribe them
		
		wealth = -100
		
		change_society_currency = -5
		
		hidden_tooltip = {
			random_list = {
				75 = {
					trigger = {
						diplomacy > 6
					}
					
					character_event = { id = soh.2930 days = 1 random = 1 } # It worked
				}
				
				25 = {
					trigger = {
						diplomacy < 15
					}
					
					character_event = { id = soh.2931 days = 1 random = 1 } # It didn't work
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = greedy
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_SOH_2925 # Run!
		
		add_trait_partially_craven_effect = yes
		
		hidden_tooltip = {
			random_list = {
				50 = {
					character_event = { id = soh.2932 days = 1 random = 1 } # It goes well
				}
				
				50 = {
					character_event = { id = soh.2933 days = 1 random = 1 } # You are wounded
				}
			}
		}
		
		prestige = -25
		
		change_society_currency = -25
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = brave
				}
			}
		}
	}
}

# Fought - it went well
character_event = {
	id = soh.2926
	desc = EVTDESC_SOH_2926
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2926 # Rabble!
		
		prestige = 25
		
		add_one_duel_experience_modifier = yes
		
		add_trait_partially_brave_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Fought - you were wounded
character_event = {
	id = soh.2927
	desc = EVTDESC_SOH_2927
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2927 # That went well enough...
		
		prestige = 10
		
		add_trait_wounded_effect = yes
		
		add_one_duel_experience_modifier = yes
		
		add_trait_partially_brave_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Fought - you were maimed
character_event = {
	id = soh.2928
	desc = EVTDESC_SOH_2928
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2928 # They actually hurt me!
		
		prestige = -25
		
		add_maimed_trait_effect = yes
		
		add_one_duel_experience_modifier = yes
		
		add_trait_partially_brave_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Fought - you were killed
character_event = {
	id = soh.2929
	desc = EVTDESC_SOH_2929
	picture = GFX_evt_bloody_man
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2929 # Not like this!
		
		prestige = -100
		
		death = {
			death_reason = death_rabble
		}
	}
}

# Successfully paid them off
character_event = {
	id = soh.2930
	desc = EVTDESC_SOH_2930
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2930 # I'll be off, then
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Did not succeeded in paying them off - fight or flee?
character_event = {
	id = soh.2931
	desc = EVTDESC_SOH_2931
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2931 # Fight them!
		
		change_society_currency = 25
		
		hidden_tooltip = {
			random_list = {
				50 = {
					mult_modifier = {
						factor = 0.1
						combat_rating < 50
					}
					
					character_event = { id = soh.2926 days = 1 random = 1 } # Fight goes well
				}
				
				25 = {
					mult_modifier = {
						factor = 0.1
						combat_rating < 50
					}
					
					character_event = { id = soh.2927 days = 1 random = 1 } # Wounded
				}
				
				24 = {
					trigger = {
						combat_rating < 50
					}
					
					character_event = { id = soh.2928 days = 1 random = 1 } # Maimed
				}
				
				1 = {
					trigger = {
						combat_rating < 25
					}
					
					character_event = { id = soh.2929 days = 1 random = 1 } # Killed
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = craven
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_2931 # Run!
		
		prestige = -25
		
		change_society_currency = -25
		
		add_trait_partially_craven_effect = yes
		
		hidden_tooltip = {
			random_list = {
				50 = {
					character_event = { id = soh.2932 days = 1 random = 1 } # It goes well
				}
				
				50 = {
					character_event = { id = soh.2933 days = 1 random = 1 } # You are wounded
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = brave
				}
			}
		}
	}
}

# Fled - it went well
character_event = {
	id = soh.2932
	desc = EVTDESC_SOH_2932
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2932 # Phew!
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Fled - you were wounded
character_event = {
	id = soh.2933
	desc = EVTDESC_SOH_2933
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2933 # Ow!
		
		add_trait_wounded_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### Peasant children want a swordfighting lesson - what do you say?

# Peasant children want a lesson
character_event = {
	id = soh.2934
	desc = EVTDESC_SOH_2934
	picture = GFX_evt_child_sword
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2934 # Sure; I can teach you a few things
		
		change_society_currency = -25 # Peasant children being taught to use swords? What's next; true warriors wielding guns?
		
		hidden_tooltip = {
			random_list = {
				50 = {
					character_event = { id = soh.2935 days = 1 random = 1 } # They learn some things
				}
				
				25 = {
					character_event = { id = soh.2936 days = 1 random = 1 } # They're not able to learn anything useful
				}
				
				25 = {
					character_event = { id = soh.2937 days = 1 random = 1 } # They are utterly useless
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = proud
					NOT = {
						trait = kind
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_2934 # I don't have time for this!
		
		prestige = -10
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
		}
	}
	
	option = {
		name = EVTOPTC_SOH_2934 # Oh; I'll teach you a "lesson"!
		
		character_event = { id = soh.2938 days = 1 random = 1 } # They are taught a lesson
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = humble
					NOR = {
						trait = wroth
						trait = cruel
					}
				}
			}
		}
	}
}

# You taught them a lesson and they learned something
character_event = {
	id = soh.2935
	desc = EVTDESC_SOH_2935
	picture = GFX_evt_child_sword
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2935 # They were surprisingly good...
		
		prestige = 10
		
		add_one_duel_experience_modifier = yes
		
		add_trait_partially_humble_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# You taught them a lesson and they didn't learn anything
character_event = {
	id = soh.2936
	desc = EVTDESC_SOH_2936
	picture = GFX_evt_child_sword
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2936 # I don't know what I was expecting...
		
		prestige = -10
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# You taught them a lesson and they were awful
character_event = {
	id = soh.2937
	desc = EVTDESC_SOH_2937
	picture = GFX_evt_child_sword
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2937 # Lackwits!
		
		prestige = -25
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# You taught them a lesson about bothering their betters
character_event = {
	id = soh.2938
	desc = EVTDESC_SOH_2938
	picture = GFX_evt_child_sword
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2938 # That concludes today's lesson!
		
		prestige = 25
		
		add_trait_partially_proud_effect = yes
		
		add_trait_partially_cruel_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### Local archery contest - compete?

# Archery contest - compete?
character_event = {
	id = soh.2939
	desc = EVTDESC_SOH_2939
	picture = GFX_evt_longbowman
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2939 # I'll compete!
		
		hidden_tooltip = {
			random_list = {
				50 = {
					mult_modifier = {
						factor = 2
						trait = hunter
					}
					
					mult_modifier = {
						factor = 2
						any_artifact = {
							has_flag = bow
						}
					}
					
					mult_modifier = {
						factor = 2
						combat_rating >= 75
					}
					
					mult_modifier = {
						factor = 2
						combat_rating >= 100
					}
					
					character_event = { id = soh.2940 days = 1 random = 1 } # You progress to the second round
				}
				
				50 = {
					mult_modifier = {
						factor = 2
						combat_rating < 50
					}
					
					mult_modifier = {
						factor = 2
						combat_rating < 25
					}
					
					character_event = { id = soh.2943 days = 1 random = 1 } # You lost
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger =  {
				NOT = {
					trait = slothful
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_2939 # No thanks!
		
		change_society_currency = -25
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger =  {
				NOT = {
					trait = diligent
				}
			}
		}
	}
}

# You progress to the second round
character_event = {
	id = soh.2940
	desc = EVTDESC_SOH_2940
	picture = GFX_evt_longbowman
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2940 # Round 2: Fight!
		
		prestige = 10
		
		hidden_tooltip = {
			random_list = {
				50 = {
					mult_modifier = {
						factor = 2
						trait = hunter
					}
					
					mult_modifier = {
						factor = 2
						any_artifact = {
							has_flag = bow
						}
					}
					
					mult_modifier = {
						factor = 2
						combat_rating >= 75
					}
					
					mult_modifier = {
						factor = 2
						combat_rating >= 100
					}
					
					character_event = { id = soh.2941 days = 1 random = 1 } # You progress to the final round
				}
				
				50 = {
					mult_modifier = {
						factor = 2
						combat_rating < 50
					}
					
					mult_modifier = {
						factor = 2
						combat_rating < 25
					}
					
					character_event = { id = soh.2943 days = 1 } # You lost
				}
			}
		}
	}
}

# You progress to the final round
character_event = {
	id = soh.2941
	desc = EVTDESC_SOH_2941
	picture = GFX_evt_longbowman
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2941 # Let's do this!
		
		prestige = 25
		
		hidden_tooltip = {
			random_list = {
				50 = {
					character_event = { id = soh.2942 days = 1 random = 1 } # You won
				}
				
				50 = {
					character_event = { id = soh.2943 days = 1 random = 1 } # You lost
				}
			}
		}
	}
}

# You won
character_event = {
	id = soh.2942
	desc = EVTDESC_SOH_2942
	picture = GFX_evt_longbowman
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2942 # Victory is mine!
		
		change_society_currency = 25
		
		wealth = 25
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# You lost
character_event = {
	id = soh.2943
	desc = EVTDESC_SOH_2943
	picture = GFX_evt_longbowman
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2943 # Oh, well...
		
		change_society_currency = -5
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### Local cuisine - can get fatter, gluttonous, or food poisioning/ill

# Sample local cuisine?
character_event = {
	id = soh.2944
	desc = EVTDESC_SOH_2944
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2944 # Sure!
		
		hidden_tooltip = {
			random_list = {
				10 = {
					character_event = { id = soh.2945 days = 1 random = 1 } # Gluttonous and fatter
				}
				
				10 = {
					character_event = { id = soh.2946 days = 1 random = 1 } # Ill
				}
				
				80 = { # Nothing
					character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = temperate
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_2944 # Nah
		
		random = {
			chance = 25
			add_trait_partially_temperate_effect = yes
		}
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = gluttonous
				}
			}
		}
	}
}

# You become more gluttonous and possibly fatter
character_event = {
	id = soh.2945
	desc = EVTDESC_SOH_2945
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2945 # FOOD!
		
		random = {
			chance = 25
			add_trait_partially_gluttonous_effect = yes
		}
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# You become ill
character_event = {
	id = soh.2946
	desc = EVTDESC_SOH_2946
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2946 # I don't feel so well...
		
		prestige = -5
		
		if = {
			limit = {
				has_dlc = "Reapers"
			}
			
			add_trait = food_poisoning
		}
		
		else = {
			add_trait = ill
		}
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### Local youngling seeks to impress peers and challenges you to a duel - fight them?

# You are challenged!
character_event = {
	id = soh.2947
	desc = EVTDESC_SOH_2947
	picture = GFX_evt_noble_haughty_talking_to_peasants
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2947 # A duel? Sure!
		
		character_event = { id = soh.2948 days = 1 random = 1 } # You won - what do you do?
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = craven
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_2947 # I don't have time for this...
		
		change_society_currency = -25
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				OR = {
					trait = craven
					trait = slothful
				}
			}
		}
	}
}

# You won - what now?
character_event = {
	id = soh.2948
	desc = EVTDESC_SOH_2948
	picture = GFX_evt_noble_haughty_talking_to_peasants
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOT = {
				trait = proud
			}
		}
		
		name = EVTOPTA_SOH_2948 # Praise your opponent and leave
		
		change_society_currency = -10
		
		add_trait_partially_kind_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = honest
					trait = cruel
				}
			}
		}
	}
	
	option = {
		trigger = {
			NOT = {
				trait = proud
			}
		}
		
		name = EVTOPTB_SOH_2948 # Salute your opponent and leave
		
		prestige = 10
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = cruel
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_SOH_2948 # Humiliate your opponent and leave
		
		add_trait_partially_cruel_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = kind
				}
			}
			modifier = {
				factor = 0
				trait = kind
			}
		}
	}
	
	option = {
		trigger = {
			NOT = {
				trait = kind
			}
		}
		
		name = EVTOPTD_SOH_2948 # Kill your opponent and leave
		
		add_trait_fully_cruel_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				trait = cruel
			}
		}
	}
}

### Horse loses a shoe - travel delays

# You experience delays
character_event = {
	id = soh.2949
	desc = EVTDESC_SOH_2949
	picture = GFX_evt_rider_adventure
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2949 # Oh, well...
		
		hidden_tooltip = {
			change_variable = {
				which = wotrs_travel_progress
				value = -1
			}
			
			random = {
				chance = 25
				
				change_variable = {
					which = wotrs_travel_progress
					value = -1
				}
			}
		}
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### Local military technology is impressive - gain tech points

# You gain some insights
character_event = {
	id = soh.2950
	desc = EVTDESC_SOH_2950
	picture = GFX_evt_machines_of_war
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2950 # I should remember this...
		
		military_techpoints = 50
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### Asked to serve as an impartial judge in a local dispute - accept?

# Asked to serve as a judge
character_event = {
	id = soh.2951
	desc = EVTDESC_SOH_2951
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2951 # It would be an honor!
		
		clr_character_flag = wotrs_judge_bribe_1
		clr_character_flag = wotrs_judge_bribe_2
		
		character_event = { id = soh.2952 days = 1 random = 1 } # The first side makes its case
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = slothful
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = arbitrary
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_2951 # I don't have time for this!
		
		prestige = -10
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = just
					NOT = {
						trait = slothful
					}
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = diligent
			}
		}
	}
}

# The first side makes its case
character_event = {
	id = soh.2952
	desc = EVTDESC_SOH_2952
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			intrigue < 15
		}
		
		name = EVTOPTA_SOH_2952 # I see...
		
		character_event = { id = soh.2953 days = 1 random = 1 } # The second side makes its case
	}
	
	option = {
		trigger = {
			intrigue >= 15
		}
		
		name = EVTOPTB_SOH_2952 # This story doesn't make sense
		
		character_event = { id = soh.2953 days = 1 random = 1 } # The second side makes its case
	}
}

# The second side makes its case
character_event = {
	id = soh.2953
	desc = EVTDESC_SOH_2953
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			intrigue < 10 # Lower; hopefully you'll catch one lie
		}
		name = EVTOPTA_SOH_2953 # I see...
		
		character_event = { id = soh.2954 days = 1 random = 1 } # First chance to make a judgement
	}
	
	option = {
		trigger = {
			intrigue >= 10 # Lower; hopefully you'll catch at least one lie
		}
		
		name = EVTOPTB_SOH_2953 # This story doesn't make sense
		
		character_event = { id = soh.2954 days = 1 random = 1 } # First chance to make a judgement
	}
}

# Ready to make your judgement?
character_event = {
	id = soh.2954
	desc = EVTDESC_SOH_2954
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2954 # I need more time
		
		character_event = { id = soh.2958 days = 1 random = 1 } # First bribe
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					intrigue >= 10
					OR = {
						AND = {
							trait = honest
							NOT = {
								trait = arbitrary
							}
						}
						AND = {
							trait = just
							NOT = {
								trait = deceitful
							}
						}
					}
				}
			}
		}
	}
	
	option = {
		trigger = {
			intrigue >= 15
		}
		
		name = EVTOPTB_SOH_2954 # Side 1 is lying!
		
		character_event = { id = soh.2955 days = 1 random = 1 } # Rule against side 1
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					AND = {
						trait = honest
						NOT = {
							trait = arbitrary
						}
					}
					AND = {
						trait = just
						NOT = {
							trait = deceitful
						}
					}
				}
			}
		}
	}
	
	option = {
		trigger = {
			intrigue >= 10
		}
		
		name = EVTOPTC_SOH_2954 # Side 2 is lying!
		
		character_event = { id = soh.2956 days = 1 random = 1 } # Rule against side 1
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					intrigue >= 15
					OR = {
						AND = {
							trait = honest
							NOT = {
								trait = arbitrary
							}
						}
						AND = {
							trait = just
							NOT = {
								trait = deceitful
							}
						}
					}
				}
			}
		}
	}
	
	option = {
		trigger = {
			intrigue >= 15
		}
		
		name = EVTOPTD_SOH_2954 # Both of you are lying!
		
		character_event = { id = soh.2957 days = 1 random = 1 } # Rule against both of them
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = arbitrary
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = deceitful
			}
		}
	}
}

# Revealed side 1 as liars
character_event = {
	id = soh.2955
	desc = EVTDESC_SOH_2955
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2955 # It was the right move...
		
		prestige = 5
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Revealed side 2 as liars
character_event = {
	id = soh.2956
	desc = EVTDESC_SOH_2956
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2956 # It was the right move...
		
		prestige = 5
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Revealed both sides as liars
character_event = {
	id = soh.2957
	desc = EVTDESC_SOH_2957
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2957 # Justice is served!
		
		prestige = 25
		
		add_trait_partially_just_effect = yes
		
		add_trait_partially_honest_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}
	
# The first side offers a bribe
character_event = {
	id = soh.2958
	desc = EVTDESC_SOH_2958
	picture = GFX_evt_bribe_accepted
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2958 # A bribe? I accept!
		
		wealth = 15
		
		set_character_flag = wotrs_judge_bribe_1
		
		change_society_currency = -25
		
		character_event = { id = soh.2960 days = 1 random = 1 } # Second bribe
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = just
					NOT = {
						trait = greedy
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_2958 # I will not be bribed!
		
		character_event = { id = soh.2960 days = 1 random = 1 } # Second bribe
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				NOR = {
					trait = just
					trait = honest
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_SOH_2958 # I will expose this immeidately!
		
		character_event = { id = soh.2959 days = 1 random = 1 } # Expose side 1
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = arbitrary
				}
			}
		}
	}
}

# Revealed first side as trying to bribe you
character_event = {
	id = soh.2959
	desc = EVTDESC_SOH_2959
	picture = GFX_evt_bribe_declined
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2959 # It was the right move...
		
		prestige = 5
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# The second side offers a bribe
character_event = {
	id = soh.2960
	desc = EVTDESC_SOH_2960
	picture = GFX_evt_bribe_accepted
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2960 # A bribe? I accept!
		
		wealth = 10
		
		set_character_flag = wotrs_judge_bribe_2
		
		change_society_currency = -25
		
		character_event = { id = soh.2962 days = 1 random = 1 } # Time to make your judgement
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = just
					NOT = {
						trait = greedy
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_2960 # I will not be bribed!
		
		character_event = { id = soh.2962 days = 1  random = 1 } # Time to make your judgement
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				OR = {
					trait = just
					trait = honest
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_SOH_2960 # I will expose this immeidately!
		
		character_event = { id = soh.2961 days = 1 } # Expose side 2
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = arbitrary
				}
			}
		}
	}
}

# Revealed second side as trying to bribe you
character_event = {
	id = soh.2961
	desc = EVTDESC_SOH_2961
	picture = GFX_evt_bribe_declined
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2961 # It was the right move...
		
		prestige = 5
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Time to make your judgement
character_event = {
	id = soh.2962
	desc = EVTDESC_SOH_2962
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2962 # Side 1 is in the wrong!
		
		if = {
			limit = {
				NOR = {
					has_character_flag = wotrs_judge_bribe_1
					has_character_flag = wotrs_judge_bribe_2
				}
			}
			
			character_event = { id = soh.2963 days = 1 random = 1 } # Judgement
		}
		
		else_if = {
			limit = {
				has_character_flag = wotrs_judge_bribe_1
				NOT = {
					has_character_flag = wotrs_judge_bribe_2
				}
			}
			
			character_event = { id = soh.2964 days = 1 random = 1 } # Judgement
		}
		
		else_if = {
			limit = {
				has_character_flag = wotrs_judge_bribe_2
				NOT = {
					has_character_flag = wotrs_judge_bribe_1
				}
			}
			
			character_event = { id = soh.2965 days = 1 random = 1 } # Judgement
		}
		
		else = {
			character_event = { id = soh.2966 days = 1 random = 1 } # Judgement
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = just
					intrigue < 15
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_2962 # Side 2 is in the wrong!
		
		if = {
			limit = {
				NOR = {
					has_character_flag = wotrs_judge_bribe_1
					has_character_flag = wotrs_judge_bribe_2
				}
			}
			
			character_event = { id = soh.2967 days = 1 random = 1 } # Judgement
		}
		
		else_if = {
			limit = {
				has_character_flag = wotrs_judge_bribe_2
				NOR = {
					has_character_flag = wotrs_judge_bribe_1
				}
			}
			
			character_event = { id = soh.2968 days = 1 random = 1 } # Judgement
		}
		
		else_if = {
			limit = {
				has_character_flag = wotrs_judge_bribe_1
				NOR = {
					has_character_flag = wotrs_judge_bribe_2
				}
			}
			
			character_event = { id = soh.2969 days = 1 random = 1 } # Judgement
		}
		
		else = {
			character_event = { id = soh.2970 days = 1 random = 1 } # Judgement
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = just
					OR = {
						intrigue >= 15
						intrigue < 10
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_SOH_2962 # Both are in the wrong
		
		if = {
			limit = {
				NOR = {
					has_character_flag = wotrs_judge_bribe_1
					has_character_flag = wotrs_judge_bribe_2
				}
			}
			
			character_event = { id = soh.2971 days = 1 random = 1 } # Judgement
		}
		
		else_if = {
			limit = {
				OR = {
					AND = {
						has_character_flag = wotrs_judge_bribe_1
						NOT = {
							has_character_flag = wotrs_judge_bribe_2
						}
					}
					
					AND = {
						has_character_flag = wotrs_judge_bribe_2
						NOT = {
							has_character_flag = wotrs_judge_bribe_1
						}
					}
				}
			}
			
			character_event = { id = soh.2972 days = 1 random = 1 } # Judgement
		}
		
		else = {
			character_event = { id = soh.2973 days = 1 random = 1 } # Judgement
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = arbitrary
				}
			}
		}
	}
}

# Made a judgement against side 1 - no bribe accepted
character_event = {
	id = soh.2963
	desc = EVTDESC_SOH_2963
	picture = GFX_evt_bribe_declined
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2963 # It was the right move...
		
		prestige = 5
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Made a judgement against side 1 - accepted bribe from side 1 and not side 2
character_event = {
	id = soh.2964
	desc = EVTDESC_SOH_2964
	picture = GFX_evt_bribe_accepted
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2964 # It was the right move...
		
		prestige = 5
		
		add_trait_partially_arbitrary_effect = yes
		
		add_trait_partially_deceitful_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Made a judgement against side 1 - accepted bribe from side 2 and not side 1
character_event = {
	id = soh.2965
	desc = EVTDESC_SOH_2965
	picture = GFX_evt_bribe_accepted
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2965 # It was the right move...
		
		prestige = 5
		
		add_trait_partially_arbitrary_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Made a judgement against side 1 - accepted bribe from both
character_event = {
	id = soh.2966
	desc = EVTDESC_SOH_2966
	picture = GFX_evt_bribe_accepted
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2966 # It was the right move...
		
		prestige = 5
		
		add_trait_partially_arbitrary_effect = yes
		
		add_trait_partially_deceitful_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Made a judgement against side 2 - no bribe accepted
character_event = {
	id = soh.2967
	desc = EVTDESC_SOH_2967
	picture = GFX_evt_bribe_declined
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2967 # It was the right move...
		
		prestige = 5
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Made a judgement against side 2 - accepted bribe from side 2 and not side 1
character_event = {
	id = soh.2968
	desc = EVTDESC_SOH_2968
	picture = GFX_evt_bribe_accepted
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2968 # It was the right move...
		
		add_trait_partially_arbitrary_effect = yes
		
		add_trait_partially_deceitful_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Made a judgement against side 2 - accepted bribe from side 1 and not side 2
character_event = {
	id = soh.2969
	desc = EVTDESC_SOH_2969
	picture = GFX_evt_bribe_accepted
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2969 # It was the right move...
		
		add_trait_partially_arbitrary_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Made a judgement against side 2 - accepted bribe from both
character_event = {
	id = soh.2970
	desc = EVTDESC_SOH_2970
	picture = GFX_evt_bribe_accepted
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2970 # It was the right move...
		
		prestige = 5
		
		add_trait_partially_arbitrary_effect = yes
		
		add_trait_partially_deceitful_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Ruled against both of them - no bribe
character_event = {
	id = soh.2971
	desc = EVTDESC_SOH_2971
	picture = GFX_evt_bribe_declined
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2971 # You are both liars!
		
		prestige = 25
		
		change_society_currency = 25
		
		add_trait_partially_just_effect = yes
		
		add_trait_partially_honest_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Ruled against both of them - accepted one bribe
character_event = {
	id = soh.2972
	desc = EVTDESC_SOH_2972
	picture = GFX_evt_bribe_accepted
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2972 # You are both liars!
		
		add_trait_partially_deceitful_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Ruled against both of them - accepted both bribes
character_event = {
	id = soh.2973
	desc = EVTDESC_SOH_2973
	picture = GFX_evt_bribe_accepted
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2973 # You are both liars!
		
		prestige = 25
		
		add_trait_partially_deceitful_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### Poor foreign noble offers to sell you a low tier artifact - accept?

# Offered to buy an artifact
character_event = {
	id = soh.2974
	desc = EVTDESC_SOH_2974
	picture = GFX_evt_pagan_artifacts
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2974 # I'll buy it
		
		wealth = -25
		
		character_event = { id = soh.2975 days = 1 } # Got something
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = greedy
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_2974 # No thanks!
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = charitable
					wealth >= 25
				}
			}
		}
	}
}

# Bought something
character_event = {
	id = soh.2975
	desc = EVTDESC_SOH_2975
	picture = GFX_evt_pagan_artifacts
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	immediate = {
		clr_character_flag = the_lily_crown
		clr_character_flag = noble_scepter
		clr_character_flag = engraved_sword
		clr_character_flag = engraved_dagger
		clr_character_flag = silver_bracelets
		clr_character_flag = collar_of_pearls
		clr_character_flag = circlet_of_twilight
		clr_character_flag = silver_staff
		clr_character_flag = iron_crown
		clr_character_flag = engraved_crown
		clr_character_flag = ceremonial_axe
		clr_character_flag = sword_tier_1_new
		clr_character_flag = dao
		clr_character_flag = tachi
		clr_character_flag = khanda
		clr_character_flag = scimitar_tier_1_new
		clr_character_flag = lance_tier_1_new
		clr_character_flag = axe_tier_1_new
		clr_character_flag = mace_tier_1_new
		clr_character_flag = bow_tier_1_new
		clr_character_flag = armor_tier_1
		clr_character_flag = horse_armor_tier_1
		
		random_list = {
			1 = {
				set_character_flag = the_lily_crown
			}
			
			1 = {
				set_character_flag = noble_scepter
			}
			
			5 = {
				set_character_flag = engraved_sword
			}
			
			5 = {
				set_character_flag = engraved_dagger
			}
			
			1 = {
				set_character_flag = silver_bracelets
			}
			
			1 = {
				set_character_flag = collar_of_pearls
			}
			
			1 = {
				set_character_flag = circlet_of_twilight
			}
			
			1 = {
				set_character_flag = silver_staff
			}
			
			1 = {
				set_character_flag = iron_crown
			}
			
			1 = {
				set_character_flag = engraved_crown
			}
			
			1 = {
				set_character_flag = ceremonial_axe
			}
			
			10 = {
				set_character_flag = sword_tier_1_new
			}
			
			10 = {
				set_character_flag = dao
			}
			
			10 = {
				set_character_flag = tachi
			}
			
			10 = {
				set_character_flag = khanda
			}
			
			10 = {
				set_character_flag = scimitar_tier_1_new
			}
			
			10 = {
				set_character_flag = lance_tier_1_new
			}
			
			1 = {
				set_character_flag = axe_tier_1_new
			}
			
			1 = {
				set_character_flag = mace_tier_1_new
			}
			
			10 = {
				set_character_flag = bow_tier_1_new
			}
			
			5 = {
				set_character_flag = armor_tier_1
			}
			
			2 = {
				set_character_flag = horse_armor_tier_1
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_2976 # I hope I can find a use for this...
		
		trigger_switch = {
			on_trigger = has_character_flag
		
			the_lily_crown = {
				add_artifact = the_lily_crown
				
				new_artifact = {
					set_creation_date = "-1.1.1"
				}
			}
			
			noble_scepter = {
				add_artifact = noble_scepter
				
				new_artifact = {
					set_creation_date = "-1.1.1"
				}
			}
			
			engraved_sword = {
				add_artifact = engraved_sword
				
				new_artifact = {
					set_creation_date = "-1.1.1"
				}
			}
			
			engraved_dagger = {
				add_artifact = engraved_dagger
				
				new_artifact = {
					set_creation_date = "-1.1.1"
				}
			}
			
			silver_bracelets = {
				add_artifact = silver_bracelets
				
				new_artifact = {
					set_creation_date = "-1.1.1"
				}
			}
			
			collar_of_pearls = {
				add_artifact = collar_of_pearls
				
				new_artifact = {
					set_creation_date = "-1.1.1"
				}
			}
			
			circlet_of_twilight = {
				add_artifact = circlet_of_twilight
				
				new_artifact = {
					set_creation_date = "-1.1.1"
				}
			}
			
			silver_staff = {
				add_artifact = silver_staff
				
				new_artifact = {
					set_creation_date = "-1.1.1"
				}
			}
			
			iron_crown = {
				add_artifact = iron_crown
				
				new_artifact = {
					set_creation_date = "-1.1.1"
				}
			}
			
			engraved_crown = {
				add_artifact = engraved_crown
				
				new_artifact = {
					set_creation_date = "-1.1.1"
				}
			}
			
			ceremonial_axe = {
				add_artifact = ceremonial_axe
				
				new_artifact = {
					set_creation_date = "-1.1.1"
				}
			}
			
			sword_tier_1_new = {
				add_artifact = sword_tier_1_new
				
				new_artifact = {
					set_creation_date = "-1.1.1"
				}
			}
			
			dao = {
				add_artifact = dao
				
				new_artifact = {
					set_creation_date = "-1.1.1"
				}
			}
			
			tachi = {
				add_artifact = tachi
				
				new_artifact = {
					set_creation_date = "-1.1.1"
				}
			}
			
			khanda = {
				add_artifact = khanda
				
				new_artifact = {
					set_creation_date = "-1.1.1"
				}
			}
			
			scimitar_tier_1_new = {
				add_artifact = scimitar_tier_1_new
				
				new_artifact = {
					set_creation_date = "-1.1.1"
				}
			}
			
			lance_tier_1_new = {
				add_artifact = lance_tier_1_new
				
				new_artifact = {
					set_creation_date = "-1.1.1"
				}
			}
			
			axe_tier_1_new = {
				add_artifact = axe_tier_1_new
				
				new_artifact = {
					set_creation_date = "-1.1.1"
				}
			}
			
			mace_tier_1_new = {
				add_artifact = mace_tier_1_new
				
				new_artifact = {
					set_creation_date = "-1.1.1"
				}
			}
			
			bow_tier_1_new = {
				add_artifact = bow_tier_1_new
				
				new_artifact = {
					set_creation_date = "-1.1.1"
				}
			}
			
			armor_tier_1 = {
				add_artifact = armor_tier_1
				
				new_artifact = {
					set_creation_date = "-1.1.1"
				}
			}
			
			horse_armor_tier_1 = {
				add_artifact = horse_armor_tier_1
				
				new_artifact = {
					set_creation_date = "-1.1.1"
				}
			}
		}
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### Skilled local warrior offers to give you a few quick tips for some money - accept?

# The offer is made
character_event = {
	id = soh.2976
	desc = EVTDESC_SOH_2976
	picture = GFX_evt_dueling_knights_hf
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2976 # Sure!
		
		wealth = -100
		
		increase_duel_exp_modifier_effect = yes
		
		random = {
			chance = 50
			increase_duel_exp_modifier_effect = yes
		}
		
		random = {
			chance = 25
			increase_duel_exp_modifier_effect = yes
		}
		
		random = {
			chance = 10
			increase_duel_exp_modifier_effect = yes
		}
		
		random = {
			chance = 5
			increase_duel_exp_modifier_effect = yes
		}
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = greedy
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_2976 # No thanks!
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = charitable
					wealth >= 100
				}
			}
		}
	}
}

### Rain makes travel difficult - press on (might get Pneumonia/Flu/Ill) or accept delays?

# Stay where you are or press on?
character_event = {
	id = soh.2977
	desc = EVTDESC_SOH_2977
	picture = GFX_evt_pilgrims_epic_journey
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2977 # Keep going
		
		hidden_tooltip = {
			random_list = {
				50 = {
					character_event = { id = soh.2978 days = 1 random = 1 } # It goes well
				}
				
				50 = {
					character_event = { id = soh.2979 days = 1 random = 1 } # Pneumonia/Flu/Ill
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = slothful
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_2977 # Wait it out
		
		hidden_tooltip = {
			change_variable = {
				which = wotrs_travel_progress
				value = -1
			}
		}
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = brave
					NOT = {
						trait = slothful
					}
				}
			}
		}
	}
}

# Pressed on - all went well
character_event = {
	id = soh.2978
	desc = EVTDESC_SOH_2978
	picture = GFX_evt_pilgrims_epic_journey
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2978 # Onwards!
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Pressed on  - Pneumonia/Flu/Ill
character_event = {
	id = soh.2979
	desc = EVTDESC_SOH_2979
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2979 # I don't feel so good...
		
		if = {
			limit = {
				has_dlc = "Reapers"
			}
			
			random_list = {
				1 = {
					give_pneumonic_effect = yes
				}
				
				1 = {
					give_flu_effect = yes
				}
			}
		}
		
		else = {
			give_ill_effect = yes
		}
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### Rock slide - fall back and get delayed, or risk getting injured?

# Press on or circle back?
character_event = {
	id = soh.2980
	desc = EVTDESC_SOH_2980
	picture = GFX_evt_pilgrims_epic_journey
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2980 # Keep going
		
		hidden_tooltip = {
			random_list = {
				50 = {
					mult_modifier = {
						factor = 10
						is_strong_trigger = yes
					}
					
					character_event = { id = soh.2981 days = 1 random = 1 } # It goes well
				}
				
				50 = {
					mult_modifier = {
						factor = 10
						is_weak_trigger = yes
					}
					
					character_event = { id = soh.2982 days = 1 random = 1 } # Injured
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = slothful
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_2980 # Circle back
		
		hidden_tooltip = {
			change_variable = {
				which = wotrs_travel_progress
				value = -1
			}
		}
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = brave
					NOT = {
						trait = slothful
					}
				}
			}
		}
	}
}

# Pressed on - it went well
character_event = {
	id = soh.2981
	desc = EVTDESC_SOH_2981
	picture = GFX_evt_pilgrims_epic_journey
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2981 # Onwards!
		
		prestige = 10
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Pressed on - injured
character_event = {
	id = soh.2982
	desc = EVTDESC_SOH_2982
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2982 # Ow!
		
		add_trait_wounded_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### Meet an "adventuring party"

# Adventuring party
character_event = {
	id = soh.2983
	desc = EVTDESC_SOH_2983
	picture = GFX_evt_rider_adventure
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		set_character_flag = wotrs_adventuring_party
	}
	
	option = {
		trigger = {
			NAND = {
				has_character_flag = wotrs_black_riders
				trait = kind
				trait = honest
			}
		}
		
		name = EVTOPTA_SOH_2983 # Good luck on your quest!
		
		change_society_currency = 5
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = kind
					has_character_flag = wotrs_black_riders
				}
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = wotrs_black_riders
		}
		
		name = EVTOPTB_SOH_2983 # I think there are some people looking for you...
		
		add_trait_partially_kind_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = cruel
				}
			}
		}
	}
}

### See shadowy figures at night - might become paranoid

# You spot a shadowy figure
character_event = {
	id = soh.2984
	desc = EVTDESC_SOH_2984
	picture = GFX_evt_shadow
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOT = {
				trait = paranoid
			}
		}
		
		name = EVTOPTA_SOH_2984 # Who goes there?
		
		random = {
			chance = 5
			add_trait_paranoid_effect = yes
		}
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
	
	option = {
		trigger = {
			trait = paranoid
		}
		
		name = EVTOPTB_SOH_2984 # They are here for me!
		
		prestige = -25
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### Life on the road makes it hard to stay clean - could gain Uncouth/lose Groomed

# Is it really worth being clean?
character_event = {
	id = soh.2985
	desc = EVTDESC_SOH_2985
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2985 # Yes!
		
		random = {
			chance = 25
			add_trait_partially_proud_effect = yes
		}
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = slothful
					NOT = {
						trait = proud
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_2985 # No!
		
		add_trait_partially_uncouth_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = diligent
					trait = proud
				}
			}
		}
	}
}

### Locals would like to hear some poetry - might gain Poet or embarrass yourself

# Share some poetry?
character_event = {
	id = soh.2986
	desc = EVTDESC_SOH_2986
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2986 # Yes!
		
		hidden_tooltip = {
			random_list = {
				50 = {
					mult_modifier = {
						factor = 10
						is_smart_trigger = yes
					}
					
					mult_modifier = {
						factor = 10
						trait = poet
					}
					
					mult_modifier = {
						factor = 2
						learning >= 16
					}
					
					mult_modifier = {
						factor = 2
						learning >= 12
					}
					
					mult_modifier = {
						factor = 2
						diplomacy >= 16
					}
					mult_modifier = {
						factor = 2
						diplomacy >= 12
					}
					
					character_event = { id = soh.2987 days = 1 random = 1 } # It goes well
				}
				
				50 = {
					mult_modifier = {
						factor = 10
						is_dumb_trigger = yes
					}
					
					mult_modifier = {
						factor = 2
						learning < 8
					}
					
					modifier = {
						factor = 2
						learning < 4
					}
					
					mult_modifier = {
						factor = 2
						diplomacy < 8
					}
					
					mult_modifier = {
						factor = 2
						diplomacy < 4
					}
					
					character_event = { id = soh.2988 days = 1 random = 1 } # It goes poorly
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = slothful
					NOT = {
						trait = poet
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_2986 # No!
		
		prestige = -10
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = diligent
				}
			}
		}
	}
}

# Your work was appreciated
character_event = {
	id = soh.2987
	desc = EVTDESC_SOH_2987
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2987 # That went well!
		
		if = {
			limit = {
				NOT = {
					trait = poet
				}
			}
			
			random = {
				chance = 25
				add_trait_poet_effect = yes
			}
		}
		
		prestige = 25
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Your work was unappreciated
character_event = {
	id = soh.2988
	desc = EVTDESC_SOH_2988
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2988 # They failed to grasp my genius!
		
		prestige = -10
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### The quest is important, as are all goals - become more ambitious

# Became more ambitious
character_event = {
	id = soh.2989
	desc = EVTDESC_SOH_2989
	picture = GFX_evt_powerful_ruler
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2989 # I should have it all!
		
		prestige = 10
		
		add_trait_partially_ambitious_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### The quest has made you re-think your life goals - become less ambitious

# Became less ambitious
character_event = {
	id = soh.2990
	desc = EVTDESC_SOH_2990
	picture = GFX_evt_relaxed_ruler
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2990 # Other goals are not worthy of my time!
		
		prestige = 10
		
		add_trait_partially_content_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### The journey is taxing your patience - become less patient

# You become less patient
character_event = {
	id = soh.2991
	desc = EVTDESC_SOH_2991
	picture = GFX_evt_powerful_ruler
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2991 # Are we there yet?
		
		prestige = -10
		
		add_trait_partially_wroth_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### Being able to take it easy during the journey has changed you - become less diligent

# You become less diligent
character_event = {
	id = soh.2992
	desc = EVTDESC_SOH_2992
	picture = GFX_evt_relaxed_ruler
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2992 # I should take it easy more often
		
		prestige = -10
		
		add_trait_partially_slothful_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### Having had to interact with foreigners has made you more gregarious

# You become less shy
character_event = {
	id = soh.2993
	desc = EVTDESC_SOH_2993
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2993 # I have learned a thing or two!
		
		prestige = 10
		
		add_trait_partially_gregarious_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### Visit town as a local festival is underway - might become more Proud or more Humble

# Humble or Proud?
character_event = {
	id = soh.2994
	desc = EVTDESC_SOH_2994
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2994 # Our festivals are better!
		
		add_trait_proud_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
	
	option = {
		name = EVTOPTB_SOH_2994 # This is rather nice!
		
		add_trait_humble_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### Spot an Eastern dragon - gain prestige

# Eastern dragon
character_event = {
	id = soh.2995
	desc = EVTDESC_SOH_2995
	picture = GFX_evt_chinese_mythology
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2995 # I believe the proper response is "Auspicious!"?
		
		prestige = 25
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### Spot a Western dragon - gain prestige

# Western dragon
character_event = {
	id = soh.2996
	desc = EVTDESC_SOH_2996
	picture = GFX_evt_chinese_mythology
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2996 # Wondrous, but perhaps a bit worrying...
		
		prestige = 25
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### Black Riders

# Black Riders
character_event = {
	id = soh.2997
	desc = EVTDESC_SOH_2997
	picture = GFX_evt_riders_night_hf
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		set_character_flag = wotrs_black_riders
	}
	
	option = {
		name = EVTOPTA_SOH_2997 # I don't know what you speak of...
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = cruel
					has_character_flag = wotrs_adventuring_party
				}
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = wotrs_adventuring_party
		}
		
		name = EVTOPTB_SOH_2997 # I think I've seen those guys!
		
		add_trait_partially_cruel_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = kind
				}
			}
		}
	}
	
	option = {
		trigger = {
			OR = {
				trait = scholar
				learning >= 15
			}
		}
		
		name = EVTOPTC_SOH_2997 # Perhaps you should look in Zeeland?
		
		prestige = 5
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = cruel
				}
			}
		}
	}
}

### A Wild Prophet appeared!

# You meet with the Prophet
character_event = {
	id = soh.2998
	desc = EVTDESC_SOH_2998
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOR = {
				trait = lunatic
				has_global_flag = sunrise_invasion_happened
			}
		}
		
		name = EVTOPTA_SOH_2998 # What an odd man...
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
	
	option = {
		trigger = {
			trait = lunatic
			NOT = {
				has_global_flag = sunrise_invasion_happened
			}
		}
		
		name = EVTOPTB_SOH_2998 # The truth has been revealed!
		
		prestige = 25
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
	
	option = {
		trigger = {
			has_global_flag = sunrise_invasion_happened
			NOT = {
				has_global_flag = inca_defeated
			}
		}
		
		name = EVTOPTC_SOH_2998 # I know of what you speak!
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
	
	option = {
		trigger = {
			has_global_flag = sunrise_invasion_happened
			has_global_flag = inca_defeated
		}
		
		name = EVTOPTD_SOH_2998 # We already did this...
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### Being on a quest for the WotRS makes you consider becoming Shinto

# Become Shinto?
character_event = {
	id = soh.2999
	desc = EVTDESC_SOH_2999
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_2999 # Yes - openly!
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		religion = shinto
		
		ai_chance = {
			factor = 100
			
			trigger = {
				OR = {
					true_religion = shinto
					NOT = {
						trait = zealous
					}
				}
				
				NOT = {
					trait = proud
				}
			}
			
			mult_modifier = {
				factor = 0.1
				NOT = {
					true_religion = shinto
				}
			}
			
			mult_modifier = {
				factor = 0.1
				NAND = {
					true_religion = shinto
					trait = cynical
				}
			}
			
			mult_modifier = {
				factor = 0.1
				NOT = {
					culture_group = japonic
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_2999 # Yes - secretly!
		
		set_secret_religion = shinto
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = zealous
					trait = proud
				}
			}
			
			mult_modifier = {
				factor = 0.1
				NOT = {
					trait = cynical
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_SOH_2999 # No!
		
		piety = 25
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					true_religion = shinto
					trait = zealous
				}
			}
		}
	}
}

### Being on a quest for the WotRS makes you consider becoming Buddhist

# Become Buddhist?
character_event = {
	id = soh.3000
	desc = EVTDESC_SOH_3000
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3000 # Yes - openly!
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		religion = buddhist
		
		ai_chance = {
			factor = 100
			
			trigger = {
				OR = {
					true_religion = buddhist
					NOT = {
						trait = zealous
					}
				}
				
				NOT = {
					trait = proud
				}
				
				OR = {
					culture_group = japonic
					could_have_japanese_government_trigger = no
				}
			}
			
			mult_modifier = {
				factor = 0.1
				NOT = {
					true_religion = buddhist
				}
			}
			
			mult_modifier = {
				factor = 0.1
				NAND = {
					true_religion = buddhist
					trait = cynical
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3000 # Yes - secretly!
		
		set_secret_religion = buddhist
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = zealous
					trait = proud
				}
			}
			
			mult_modifier = {
				factor = 0.1
				NOT = {
					trait = cynical
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_SOH_3000 # No!
		
		piety = 25
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					true_religion = buddhist
					trait = zealous
				}
			}
		}
	}
}

### Being on a quest for the WotRS makes you consider becoming Japanese

# Become Japanese?
character_event = {
	id = soh.3001
	desc = EVTDESC_SOH_3001
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3001 # Yes!
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		culture = japanese
		
		ai_chance = {
			factor = 100
			
			trigger = {
				culture_group = japonic
				NOT = {
					trait = proud
				}
				
				OR = {
					has_japanese_religion_trigger = yes
					religion = buddhist
					culture = yamato
					culture = emishi
					culture = wako
				}
			}
			
			modifier = {
				factor = 0.1
				NOR = {
					culture = yamato
					culture = emishi
					culture = wako
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3001 # No!
		
		prestige = 25
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
		}
	}
}

### Get convinced of righteousness of current quest - become more Zealous

# You become more Zealous
character_event = {
	id = soh.3002
	desc = EVTDESC_SOH_3002
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3002 # I must succeeded in the name of Root.Religion.GetHighGod!
		
		add_trait_partially_zealous_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### Being on the road has reinvigorated you - lose Depressed

# Depressed no longer
character_event = {
	id = soh.3003
	desc = EVTDESC_SOH_3003
	picture = GFX_evt_relaxed_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3003 # Life isn't so bad...
		
		remove_trait_depressed_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### Foreign scholar offers insights in exchange for money

# Scholar offers insights
character_event = {
	id = soh.3004
	desc = EVTDESC_SOH_3004
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			wealth = 100
		}
		
		name = EVTOPTA_SOH_3004 # Sounds good!
		
		wealth = -100
		
		random_list = {
			30 = {
				culture_techpoints = 25
			}
			
			15 = {
				economy_techpoints = 25
			}
			
			50 = {
				military_techpoints = 25
			}
			
			5 = {
				culture_techpoints = 10
				economy_techpoints = 10
				military_techpoints = 10
			}
		}
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = greedy
					is_dumb_trigger = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3004 # Not interested!
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					AND = {
						trait = charitable
						wealth >= 100
					}
					is_smart_trigger = yes
				}
			}
		}
	}
}

### Got lost while trying to take a shortcut - experience travel delays

# You got lost
character_event = {
	id = soh.3005
	desc = EVTDESC_SOH_3005
	picture = GFX_evt_rider_adventure
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3005 # Curses!
		
		hidden_tooltip = {
			change_variable = {
				which = wotrs_travel_progress
				value = -1
			}
		}
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### Successfully took a shortcut - gain extra travel progress

# You got ahead
character_event = {
	id = soh.3006
	desc = EVTDESC_SOH_3006
	picture = GFX_evt_rider_adventure
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3006 # Great!
		
		hidden_tooltip = {
			change_variable = {
				which = wotrs_travel_progress
				value = 1
			}
			
			if = {
				limit = {
					NOT = {
						is_variable_equal = {
							which = wotrs_travel_progress
							which = wotrs_travel_distance
						}
					}
				}
				
				random = {
					chance = 50
					
					change_variable = {
						which = wotrs_travel_progress
						value = 1
					}
				}
			}
		}
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### Come across cultists at an altar - attack?

# You spot cultists - attack?
character_event = {
	id = soh.3007
	desc = EVTDESC_SOH_3007
	picture = GFX_evt_magic_ritual
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3007 # Attack!
		
		change_society_currency = 25
		
		hidden_tooltip = {
			random_list = {
				50 = {
					mult_modifier = {
						factor = 0.1
						combat_rating < 50
					}
					
					random_list = {
						50 = {
							character_event = { id = soh.3008 days = 1 } # Fight goes well, but the cultists weren't evil
						}
						
						50 = {
							character_event = { id = soh.3009 days = 1 } # Fight goes well
						}
					}
				}
				
				25 = {
					mult_modifier = {
						factor = 0.1
						combat_rating >= 50
					}
					
					random_list = {
						50 = {
							character_event = { id = soh.3010 days = 1 } # Wounded, and the cultists weren't evil
						}
						
						50 = {
							character_event = { id = soh.3011 days = 1 } # Wounded
						}
					}
				}
				
				24 = {
					trigger = {
						combat_rating < 50
					}
					
					random_list = {
						50 = {
							character_event = { id = soh.3012 days = 1 } # Maimed, and the cultists weren't evil
						}
						
						50 = {
							character_event = { id = soh.3013 days = 1 } # Maimed
						}
					}
				}
				
				1 = {
					trigger = {
						combat_rating < 25
					}
					
					character_event = { id = soh.3014 days = 1 } # Killed
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = craven
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3007 # Ignore them!
		
		prestige = -25
		
		change_society_currency = -25
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = brave
				}
			}
		}
	}
}

# Fighting goes well, but villagers tell you the cultists weren't evil
character_event = {
	id = soh.3008
	desc = EVTDESC_SOH_3008
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3008 # How was I supposed to know that?
		
		prestige = -25
		
		add_one_duel_experience_modifier = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Fighting goes well, and nearby villagers thank you
character_event = {
	id = soh.3009
	desc = EVTDESC_SOH_3009
	picture = GFX_evt_noble_haughty_talking_to_peasants
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3009 # I only did what was right!
		
		prestige = 25
		
		add_one_duel_experience_modifier = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Wounded, and villagers tell you the cultists weren't evil
character_event = {
	id = soh.3010
	desc = EVTDESC_SOH_3010
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3010 # How was I supposed to know that?
		
		prestige = -25
		
		add_trait_wounded_effect = yes
		
		add_one_duel_experience_modifier = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Wounded, and nearby villagers thank you
character_event = {
	id = soh.3011
	desc = EVTDESC_SOH_3011
	picture = GFX_evt_noble_haughty_talking_to_peasants
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3011 # I only did what was right!
		
		prestige = 25
		
		add_trait_wounded_effect = yes
		
		add_one_duel_experience_modifier = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Maimed, and villagers tell you the cultists weren't evil
character_event = {
	id = soh.3012
	desc = EVTDESC_SOH_3012
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3012 # How was I supposed to know that?
		
		prestige = -25
		
		add_maimed_trait_effect = yes
		
		add_one_duel_experience_modifier = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Maimed, and nearby villagers thank you
character_event = {
	id = soh.3013
	desc = EVTDESC_SOH_3013
	picture = GFX_evt_noble_haughty_talking_to_peasants
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3013 # I only did what was right!
		
		prestige = 25
		
		add_maimed_trait_effect = yes
		
		add_one_duel_experience_modifier = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Killed
character_event = {
	id = soh.3014
	desc = EVTDESC_SOH_3014
	picture = GFX_evt_bloody_man
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3014 # Not like this!
		
		prestige = -100
		
		death = {
			death_reason = death_rabble
		}
	}
}

### Come across a sword stuck in a stone - attempt to pull it out?

# Find the sword
character_event = {
	id = soh.3015
	desc = EVTDESC_SOH_3015
	picture = GFX_evt_mysterious_forest
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3015 # Attempt to pull it out
		
		if = {
			limit = {
				NOR = {
					has_landed_title = k_england
					has_landed_title = e_britannia
				}
			}
			
			character_event = { id = soh.3016 days =  1 random = 1 } # Sword doesn't come out
		}
		
		else = {
			character_event = { id = soh.3017 days =  1 random = 1 } # Sword comes out
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = content
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3015 # Ignore it!
		
		prestige = -10
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = ambitious
				}
			}
		}
	}
}

# Sword didn't budge
character_event = {
	id = soh.3016
	desc = EVTDESC_SOH_3016
	picture = GFX_evt_mysterious_forest
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3016 # How odd...
		
		prestige = -25
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# You pulled the sword out
character_event = {
	id = soh.3017
	desc = EVTDESC_SOH_3017
	picture = GFX_evt_mysterious_forest
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3017 # I should put this back...
		
		prestige = 25
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### Come across a stone circle - investigate?

# Stone circle discovered
character_event = {
	id = soh.3018
	desc = EVTDESC_SOH_3018
	picture = GFX_evt_pagan
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3018 # I should investigate
		
		hidden_tooltip = {
			random_list = {
				50 = {
					character_event = { id = soh.3019 days = 1 random = 1 } # Boring stone circle
				}
				
				50 = {
					character_event = { id = soh.3020 days = 1 random = 1 } # Interesting stone circle
				}
			}
		}
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
	
	option = {
		name = EVTOPTB_SOH_3018 # Nah!
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Stone circle is boring
character_event = {
	id = soh.3019
	desc = EVTDESC_SOH_3019
	picture = GFX_evt_pagan
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3019 # This was a waste of time...
		
		prestige = -5
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Stone circle gives you a minor insight
character_event = {
	id = soh.3020
	desc = EVTDESC_SOH_3020
	picture = GFX_evt_pagan
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3020 # Interesting...
		
		add_one_duel_experience_modifier = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### Hear of a local bandit chief - hunt them down?

# You hear of a bandit chief - hunt them down?
character_event = {
	id = soh.3021
	desc = EVTDESC_SOH_3021
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3021 # I should help!
		
		hidden_tooltip = {
			random_list = {
				50 = {
					trigger = {
						intrigue > 16
					}
					
					character_event = { id = soh.3022 days = 3 random = 3 } # No luck
				}
				50 = {
					trigger = {
						intrigue > 8
					}
					
					character_event = { id = soh.3023 days = 3 random = 3 } # Found the bandits
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					AND = {
						trait = arbitrary
						NOT = {
							trait = brave
						}
					}
					trait = craven
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3021 # This isn't my job...
		
		prestige = -10
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = brave
					trait = just
				}
			}
		}
	}
}

# Failed to find the bandit encampment
character_event = {
	id = soh.3022
	desc = EVTDESC_SOH_3022
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3022 # They are too good at hiding...
		
		prestige = -10
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# Found the bandit encampment - attack it or leave?
character_event = {
	id = soh.3023
	desc = EVTDESC_SOH_3023
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3023 # Attack!
		
		change_society_currency = 25
		
		hidden_tooltip = {
			random_list = {
				50 = {
					mult_modifier = {
						factor = 0.1
						combat_rating < 50
					}
					
					character_event = { id = soh.3024 days = 1 random = 1 } # Fight goes well
				}
				
				25 = {
					mult_modifier = {
						factor = 0.1
						combat_rating >= 50
					}
					character_event = { id = soh.3025 days = 1 random = 1 } # Wounded
				}
				
				24 = {
					trigger = {
						combat_rating < 50
					}
					
					character_event = { id = soh.3026 days = 1 random = 1 } # Maimed
				}
				
				1 = {
					trigger = {
						combat_rating < 25
					}
					
					character_event = { id = soh.3027 days = 1 random = 1 } # Killed
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = craven
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3023 # Ignore them!
		
		prestige = -25
		
		change_society_currency = -25
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = brave
				}
			}
		}
	}
}

# You kill the bandits
character_event = {
	id = soh.3024
	desc = EVTDESC_SOH_3024
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3024 # All in a day's work!
		
		prestige = 25
		
		wealth = 25
		
		add_one_duel_experience_modifier = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# You kill the bandits but get wounded
character_event = {
	id = soh.3025
	desc = EVTDESC_SOH_3025
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3025 # They fought well...
		
		prestige = 10
		
		wealth = 25
		
		add_trait_wounded_effect = yes
		
		add_one_duel_experience_modifier = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# You kill the bandits but get maimed
character_event = {
	id = soh.3026
	desc = EVTDESC_SOH_3026
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3026 # Curses!
		
		prestige = -25
		
		wealth = 25
		
		add_maimed_trait_effect = yes
		
		add_one_duel_experience_modifier = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

# The bandits kill you
character_event = {
	id = soh.3027
	desc = EVTDESC_SOH_3027
	picture = GFX_evt_bloody_man
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3027 # Not like this!
		
		prestige = -100
		
		death = {
			death_reason = death_rabble
		}
	}
}

### Come across ancient carvings - might gain some duel insights

# Found insights
character_event = {
	id = soh.3028
	desc = EVTDESC_SOH_3028
	picture = GFX_evt_pagan
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3028 # This is actually helpful!
		
		increase_duel_exp_modifier_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### Being on the road without your valuables teaches you to be less Greedy

# Become less Greedy
character_event = {
	id = soh.3029
	desc = EVTDESC_SOH_3029
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3029 # I don't need money that much...
		
		add_trait_partially_charitable_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

### Being on a quest makes you lose Stressed

# Lost Stressed
character_event = {
	id = soh.3030
	desc = EVTDESC_SOH_3030
	picture = GFX_evt_relaxed_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3030 # This is relaxing!
		
		remove_trait_stressed_effect = yes
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
	}
}

##### Challengers and outcomes

### The Sword of the Shifting Sands

# You arrive and start asking around
narrative_event = {
	id = soh.3031
	title = EVTTITLE_SOH_3031
	desc = EVTDESC_SOH_3031
	picture = GFX_evt_west_african_ruler
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3031 # I should ask around...
		
		if = {
			limit = {
				ai = no
			}
			
			character_event = { id = soh.3032 days = 1 random = 1 } # Map
		}
		
		else = {
			character_event = { id = soh.3036 days = 1 random = 1 } # Go directly to selecting from all options
		}
	}
}

# Option A - buy a map
character_event = {
	id = soh.3032
	desc = EVTDESC_SOH_3032
	picture = GFX_evt_west_african_ruler
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3032 # Sounds like a deal!
		
		wealth = -500
		
		character_event = { id = soh.3037 days = 1 random = 1 } # Setting off
	}
	
	option = {
		name = EVTOPTB_SOH_3032 # Maybe later
		
		character_event = { id = soh.3033 days = 1 random = 1 } # Young boy
	}
}

# Option B - the young boy
character_event = {
	id = soh.3033
	desc = EVTDESC_SOH_3033
	picture = GFX_evt_west_african_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3033 # Sounds good!
		
		wealth = -5
		
		character_event = { id = soh.3040 days = 1 random = 1 } # Setting off
	}
	
	option = {
		name = EVTOPTB_SOH_3033 # Maybe later
		
		character_event = { id = soh.3034 days = 1 random = 1 } # Old man
	}
}

# Option C - the old man
character_event = {
	id = soh.3034
	desc = EVTDESC_SOH_3034
	picture = GFX_evt_west_african_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3034 # Sounds good!
		
		wealth = -25
		
		character_event = { id = soh.3049 days = 1 random = 1 } # Setting off
	}
	
	option = {
		name = EVTOPTB_SOH_3034 # Maybe later
		
		character_event = { id = soh.3035 days = 1 random = 1 } # Veiled woman
	}
}

# Option D - the veiled woman
character_event = {
	id = soh.3035
	desc = EVTDESC_SOH_3035
	picture = GFX_evt_west_african_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		set_character_flag = met_sotss
	}
	
	option = {
		name = EVTOPTA_SOH_3035 # Sounds good!
		
		character_event = { id = soh.3054 days = 1 random = 1 } # Setting off
	}
	
	option = {
		name = EVTOPTB_SOH_3035 # Maybe later
		
		character_event = { id = soh.3036 days = 1 random = 1 } # Just pick something already!
	}
}

# Which option do you pick?
character_event = {
	id = soh.3036
	desc = EVTDESC_SOH_3036
	picture = GFX_evt_west_african_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3036 # Let's go with the map!
		
		wealth = -500
		
		character_event = { id = soh.3037 days = 1 random = 1 } # Setting off
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = greedy
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3036 # Let's go with the boy!
		
		wealth = -5
		
		character_event = { id = soh.3040 days = 1 random = 1 } # Setting off
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = greedy
			}
			
			mult_modifier = {
				factor = 10
				trait = trusting
			}
		}
	}
	
	option = {
		name = EVTOPTC_SOH_3036 # Let's go with the old man!
		
		wealth = -25
		
		character_event = { id = soh.3049 days = 1 random = 1 } # Setting off
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = physician
				}
			}
		}
	}
	
	option = {
		name = EVTOPTD_SOH_3036 # Let's go with the veiled woman!
		
		character_event = { id = soh.3055 days = 1 random = 1 } # Setting off
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 10
				OR = {
					AND = {
						is_female = no
						NOT = {
							trait = homosexual
						}
					}
					
					AND = {
						is_female = yes
						trait = homosexual
					}
					
					NOR = {
						trait = chaste
						trait = celibate
					}
				}
			}
		}
	}
}

# Went with the map - setting off
character_event = {
	id = soh.3037
	desc = EVTDESC_SOH_3037
	picture = GFX_evt_desert
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3037 # This had better be a good map...
		
		character_event = { id = soh.3038 days = 7 random = 7 } # Delay if necessary or go to the oasis
	}
}

# Went with the map - delay and go to the oasis
character_event = {
	id = soh.3038
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				is_actually_incapable_trigger = no
			}
			
			narrative_event = { id = soh.3039 } # The Sword of the Shifting Sands revealed
		}
		
		else = {
			repeat_event = { id = soh.3038 days = 180 random = 180 } # Try again later
		}
	}
}

# You arrive at the oasis and find the veiled woman waiting for you
narrative_event = {
	id = soh.3039
	title = EVTTITLE_SOH_3039
	picture = GFX_evt_duel_scene
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	desc = {
		trigger = {
			has_character_flag = met_sotss
		}
		text = EVTDESCA_SOH_3039
	}
	desc = {
		trigger = {
			NOT = {
				has_character_flag = met_sotss
			}
		}
		text = EVTDESCB_SOH_3039
	}
	
	immediate = {
		k_papal_state = {
			holder_scope = {
				create_character = {
					age = 21
					female = yes
					culture = maghreb_arabic # Berber
					religion = sunni
					random_traits = no
					
					attributes = {
						diplomacy = 5
						martial = 10
						stewardship = 5
						intrigue = 8
						learning = 6
					}
					
					trait = brilliant_strategist
					trait = duelist
					trait = lustful
					trait = kind
					trait = attractive
				}
				
				new_character = {
					if = {
						limit = {
							ROOT = {
								is_female = yes
							}
						}
						add_trait = homosexual # Closest we've got...
					}
					
					give_nickname = nick_sword_of_the_shifting_sands
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					save_event_target_as = sword_of_the_shifting_sands
					set_character_flag = ai_flag_refuse_concubinage
					set_character_flag = ai_flag_refuse_marriage
					set_character_flag = ai_flag_refuse_conversion
					#set_character_flag = special_marshal
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_3039 # I challenge you!
		
		# Go to Duel
		# Go directly to Duel
		# Do not pass "Go"
		# Do not collect 200 gold
		
		save_event_target_as = combatant_1
		set_character_flag = ci_nuclear_option_duel
		
		#log = "[Root.GetBestName] is fighting one of the Six!"
		
		event_target:sword_of_the_shifting_sands = {
			save_event_target_as = combatant_2
		}
		
		character_event = {	id = HFP.10100 } # The duel is fought!
	}
}

# Went with the young boy - setting off
character_event = {
	id = soh.3040
	desc = EVTDESC_SOH_3040
	picture = GFX_evt_desert
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3040 # He seems trustworthy!
		
		character_event = { id = soh.3041 days = 7 random = 7 } # Ambush!
	}
}

# Went with the young boy - he leads you into an ambush
character_event = {
	id = soh.3041
	desc = EVTDESC_SOH_3041
	picture = GFX_evt_moors
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3041 # Traitor!
		
		hidden_tooltip = {
			random_list = {
				25 = {
					trigger = {
						combat_rating < 50
					}
					
					character_event = { id = soh.3042 days = 1 } # You easily defeat the bandits
				}
				
				25 = {
					mult_modifier = {
						factor = 0.1
						combat_rating < 50
					}
					
					mult_modifier = {
						factor = 0.1
						combat_rating >= 75
					}
					
					character_event = { id = soh.3043 days = 1 } # You deafeat the bandits but are wounded
				}
				
				25 = {
					trigger = {
						combat_rating < 75
					}
					
					mult_modifier = {
						factor = 0.1
						combat_rating >= 50
					}
					
					character_event = { id = soh.3044 days = 1 } # You deafeat the bandits but are maimed
				}
				
				25 = {
					trigger = {
						combat_rating < 50
					}
					
					character_event = { id = soh.3045 days = 1 } # The bandits kill you
				}
			}
		}
	}
}

# Defeated the bandits - go on alone or return to the city?
character_event = {
	id = soh.3042
	desc = EVTDESC_SOH_3042
	picture = GFX_evt_moors
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3042 # Go on alone
		
		prestige = 25
		
		hidden_tooltip = {
			random_list = {
				50 = {
					mult_modifier = {
						factor = 0.1
						is_smart_trigger = yes
					}
					
					character_event = { id = soh.3046 days = 7 random = 7 } # You get lost in the desert and die
				}
				
				50 = {
					mult_modifier = {
						factor = 0.1
						is_dumb_trigger = yes
					}
					
					character_event = { id = soh.3047 days = 7 random = 7 } # You make it to the oasis
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				is_smart_trigger = no
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3042 # Fall back and try a different approach
		
		custom_tooltip = {
			text = go_to_the_city
		}
		
		prestige = 25
		
		character_event = { id = soh.3054 days = 7 random = 7 } # Buy the map or go home?
		
		ai_chance = {
			factor = 100
			
			trigger = {
				is_dumb_trigger = no
			}
		}
	}
}

# Defeated the bandits, but got wounded - go on alone or return to the city?
character_event = {
	id = soh.3043
	desc = EVTDESC_SOH_3043
	picture = GFX_evt_moors
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3043 # Go on alone
		
		prestige = 10
		
		add_trait_wounded_effect = yes
		
		hidden_tooltip = {
			random_list = {
				50 = {
					mult_modifier = {
						factor = 0.1
						is_smart_trigger = yes
					}
					
					character_event = { id = soh.3046 days = 7 random = 7 } # You get lost in the desert and die
				}
				
				50 = {
					mult_modifier = {
						factor = 0.1
						is_dumb_trigger = yes
					}
					
					character_event = { id = soh.3047 days = 7 random = 7 } # You make it to the oasis
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				is_smart_trigger = no
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3043 # Fall back and try a different approach
		
		custom_tooltip = {
			text = go_to_the_city
		}
		
		prestige = 10
		
		add_trait_wounded_effect = yes
		
		character_event = { id = soh.3054 days = 7 random = 7 } # Buy the map or go home?
		
		ai_chance = {
			factor = 100
			
			trigger = {
				is_dumb_trigger = no
			}
		}
	}
}

# Defeated the bandits, but got maimed - go on alone or return to the city?
character_event = {
	id = soh.3044
	desc = EVTDESC_SOH_3044
	picture = GFX_evt_moors
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3044 # Go on alone
		
		prestige = -10
		
		add_maimed_trait_effect = yes
		
		hidden_tooltip = {
			random_list = {
				50 = {
					mult_modifier = {
						factor = 0.1
						is_smart_trigger = yes
					}
					
					character_event = { id = soh.3046 days = 7 random = 7 } # You get lost in the desert and die
				}
				
				50 = {
					mult_modifier = {
						factor = 0.1
						is_dumb_trigger = yes
					}
					
					character_event = { id = soh.3047 days = 7 random = 7 } # You make it to the oasis
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				is_smart_trigger = no
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3044 # Fall back and try a different approach
		
		custom_tooltip = {
			text = go_to_the_city
		}
		
		prestige = -10
		
		add_maimed_trait_effect = yes
		
		character_event = { id = soh.3054 days = 7 random = 7 } # Buy the map or go home?
		
		ai_chance = {
			factor = 100
			
			trigger = {
				is_dumb_trigger = no
			}
		}
	}
}

# Died to the bandits
character_event = {
	id = soh.3045
	desc = EVTDESC_SOH_3045
	picture = GFX_evt_bloody_man
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3045 # Not like this!
		
		prestige = -100
		
		death = {
			death_reason = death_rabble
		}
	}
}

# Went on alone but got lost - death
character_event = {
	id = soh.3046
	desc = EVTDESC_SOH_3046
	picture = GFX_evt_sand_desert
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3046 # Not like this!
		
		prestige = -100
		
		death = {
			death_reason = death_desert
		}
	}
}

# Wend on alone - delay or go to the oasis
character_event = {
	id = soh.3047
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				is_actually_incapable_trigger = no
			}
			
			narrative_event = { id = soh.3048 } # The Sword of the Shifting Sands revealed
		}
		
		else = {
			repeat_event = { id = soh.3047 days = 180 random = 180 } # Try again later
		}
	}
}

# You arrive at the oasis and find the veiled woman waiting for you
narrative_event = {
	id = soh.3048
	title = EVTTITLE_SOH_3048
	picture = GFX_evt_duel_scene
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	desc = {
		trigger = {
			has_character_flag = met_sotss
		}
		text = EVTDESCA_SOH_3048
	}
	
	desc = {
		trigger = {
			NOT = {
				has_character_flag = met_sotss
			}
		}
		text = EVTDESCB_SOH_3048
	}
	
	immediate = {
		k_papal_state = {
			holder_scope = {
				create_character = {
					age = 21
					female = yes
					culture = maghreb_arabic # Berber
					religion = sunni
					random_traits = no
					
					attributes = {
						diplomacy = 5
						martial = 10
						stewardship = 5
						intrigue = 8
						learning = 6
					}
					
					trait = brilliant_strategist
					trait = duelist
					trait = lustful
					trait = kind
					trait = attractive
				}
				
				new_character = {
					if = {
						limit = {
							ROOT = {
								is_female = yes
							}
						}
						add_trait = homosexual # Closest we've got...
					}
					
					give_nickname = nick_sword_of_the_shifting_sands
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					
					save_event_target_as = sword_of_the_shifting_sands
					set_character_flag = ai_flag_refuse_concubinage
					set_character_flag = ai_flag_refuse_marriage
					set_character_flag = ai_flag_refuse_conversion
					#set_character_flag = special_marshal
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_3048 # I challenge you!
		
		# Go to Duel
		# Go directly to Duel
		# Do not pass "Go"
		# Do not collect 200 gold
		
		save_event_target_as = combatant_1
		set_character_flag = wotrs_the_very_best_duel
		
		#log = "[Root.GetBestName] is fighting one of the Six!"
		
		event_target:sword_of_the_shifting_sands = {
			save_event_target_as = combatant_2
		}
		
		character_event = {	id = HFP.10100 } # The duel is fought!
	}
}

# Went with the old man - setting off
character_event = {
	id = soh.3049
	desc = EVTDESC_SOH_3049
	picture = GFX_evt_desert
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3049 # With age comes wisdom!
		
		character_event = { id = soh.3050 days = 7 random = 7 } # The old man dies!
	}
}

# Went with the old man - old man dies - go back or continue?
character_event = {
	id = soh.3050
	desc = EVTDESC_SOH_3050
	picture = GFX_evt_sand_desert
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3050 # Go on alone
		
		hidden_tooltip = {
			random_list = {
				50 = {
					mult_modifier = {
						factor = 0.1
						is_smart_trigger = yes
					}
					
					character_event = { id = soh.3051 days = 7 random = 7 } # You get lost in the desert and die
				}
				
				50 = {
					mult_modifier = {
						factor = 0.1
						is_dumb_trigger = yes
					}
					
					character_event = { id = soh.3052 days = 7 random = 7 } # You make it to the oasis
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				is_smart_trigger = no
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3050 # Fall back and try a different approach
		
		custom_tooltip = {
			text = go_to_the_city
		}
		
		character_event = { id = soh.3054 days = 7 random = 7 } # Buy the map or go home?
		
		ai_chance = {
			factor = 100
			
			trigger = {
				is_dumb_trigger = no
			}
		}
	}
}

# Went on alone but got lost - death
character_event = {
	id = soh.3051
	desc = EVTDESC_SOH_3051
	picture = GFX_evt_sand_desert
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3051 # Not like this!
		
		prestige = -100
		
		death = {
			death_reason = death_desert
		}
	}
}

# Went on alone - delay or go to the oasis
character_event = {
	id = soh.3052
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				is_actually_incapable_trigger = no
			}
			
			narrative_event = { id = soh.3053 } # The Sword of the Shifting Sands revealed
		}
		
		else = {
			repeat_event = { id = soh.3052 days = 180 random = 180 } # Try again later
		}
	}
}

# You arrive at the oasis and find the veiled woman waiting for you
narrative_event = {
	id = soh.3053
	title = EVTTITLE_SOH_3053
	picture = GFX_evt_duel_scene
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	desc = {
		trigger = {
			has_character_flag = met_sotss
		}
		text = EVTDESCA_SOH_3053
	}
	
	desc = {
		trigger = {
			NOT = {
				has_character_flag = met_sotss
			}
		}
		text = EVTDESCB_SOH_3053
	}
	
	immediate = {
		k_papal_state = {
			holder_scope = {
				create_character = {
					age = 21
					female = yes
					culture = maghreb_arabic # Berber
					religion = sunni
					random_traits = no
					
					attributes = {
						diplomacy = 5
						martial = 10
						stewardship = 5
						intrigue = 8
						learning = 6
					}
					
					trait = brilliant_strategist
					trait = duelist
					trait = lustful
					trait = kind
					trait = attractive
				}
				
				new_character = {
					if = {
						limit = {
							ROOT = {
								is_female = yes
							}
						}
						add_trait = homosexual # Closest we've got...
					}
					
					give_nickname = nick_sword_of_the_shifting_sands
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					
					save_event_target_as = sword_of_the_shifting_sands
					set_character_flag = ai_flag_refuse_concubinage
					set_character_flag = ai_flag_refuse_marriage
					set_character_flag = ai_flag_refuse_conversion
					#set_character_flag = special_marshal
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_3053 # I challenge you!
		
		# Go to Duel
		# Go directly to Duel
		# Do not pass "Go"
		# Do not collect 200 gold
		
		save_event_target_as = combatant_1
		set_character_flag = wotrs_the_very_best_duel
		
		#log = "[Root.GetBestName] is fighting one of the Six!"
		
		event_target:sword_of_the_shifting_sands = {
			save_event_target_as = combatant_2
		}
		
		character_event = {	id = HFP.10100 } # The duel is fought!
	}
}

# Fell back to the city - get the map or go home?
character_event = {
	id = soh.3054
	desc = EVTDESC_SOH_3054
	picture = GFX_evt_west_african_ruler
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3054 # I guess I have no choice...
		
		wealth = -500
		
		character_event = { id = soh.3037 days = 1 } # Setting off
	}
	
	option = {
		name = EVTOPTB_SOH_3054 # I'd rather fail the quest!
		
		custom_tooltip = {
			text = fail_the_quest
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		if = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
			}
			
			character_event = { id = soh.3146 } # Fail quest
			
			any_society_member = {
				limit = {
					society_member_of = warriors_of_the_rising_sun
					ai = no
				}
				
				character_event = { id = soh.3145 } # Inform the society
			}
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Went with the veiled woman - setting off
character_event = {
	id = soh.3055
	desc = EVTDESC_SOH_3055
	picture = GFX_evt_desert
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3055 # She seems intriguing!
		
		character_event = { id = soh.3056 days = 7 random = 7 } # Propositioned
	}
}

# Went with the veiled woman - propositioned
character_event = {
	id = soh.3056
	desc = EVTDESC_SOH_3056
	picture = GFX_evt_desert
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			OR = {
				AND = {
					is_female = no
					NOT = {
						trait = homosexual
					}
				}
				
				AND = {
					is_female = yes
					trait = homosexual
				}
			}
		}
		
		name = EVTOPTA_SOH_3056 # Don't mind if I do...
		
		set_character_flag = slept_with_sotss
		
		if = {
			limit = {
				trait = celibate
			}
			remove_trait = celibate
		}
		if = {
			limit = {
				trait = chaste
			}
			remove_trait = chaste
		}
		if = {
			limit = {
				has_character_modifier = mourning_celibate
			}
			remove_character_modifier = mourning_celibate
		}
		
		character_event = { id = soh.3057 days = 1 } # Slept with the veiled woman
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = chaste
					trait = celibate
				}
			}
		}
	}
	
	option = {
		trigger = {
			OR = {
				AND = {
					is_female = no
					NOT = {
						trait = homosexual
					}
				}
				
				AND = {
					is_female = yes
					trait = homosexual
				}
			}
		}
		
		name = EVTOPTB_SOH_3056 # I'm not interested
		
		character_event = { id = soh.3058 days = 1 } # Did not sleep with the SotSS
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = lustful
				}
			}
		}
	}
	
	option = {
		trigger = {
			OR = {
				AND = {
					is_female = no
					trait = homosexual
				}
				
				AND = {
					is_female = yes
					NOR = {
						trait = homosexual
					}
				}
			}
		}
		
		name = EVTOPTC_SOH_3056 # I'm extremely not interested
		
		character_event = { id = soh.3058 days = 1 } # Did not sleep with the SotSS
	}
}

# Slept with the veiled woman
character_event = {
	id = soh.3057
	desc = EVTDESC_SOH_3057
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3057 # Onwards!
		
		character_event = { id = soh.3059 days = 1 } # Delay or go to the oasis
	}
}

# Did not sleep with the veiled woman
character_event = {
	id = soh.3058
	desc = EVTDESC_SOH_3058
	picture = GFX_evt_desert
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3058 # Onwards!
		
		character_event = { id = soh.3059 days = 1 } # Delay or go to the oasis
	}
}

# Delay or go to the oasis
character_event = {
	id = soh.3059
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				is_actually_incapable_trigger = no
			}
			
			narrative_event = { id = soh.3060 } # The Sword of the Shifting Sands revealed
		}
		
		else = {
			repeat_event = { id = soh.3059 days = 180 random = 180 } # Try again later
		}
	}
}

# Arrived at the oasis - the veiled woman reveals that she is the SotSS
narrative_event = {
	id = soh.3060
	desc = EVTDESC_SOH_3060
	title = EVTTITLE_SOH_3060
	picture = GFX_evt_duel_scene
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		k_papal_state = {
			holder_scope = {
				create_character = {
					age = 21
					female = yes
					culture = maghreb_arabic # Berber
					religion = sunni
					random_traits = no
					
					attributes = {
						diplomacy = 5
						martial = 10
						stewardship = 5
						intrigue = 8
						learning = 6
					}
					
					trait = brilliant_strategist
					trait = duelist
					trait = lustful
					trait = kind
					trait = attractive
				}
				
				new_character = {
					if = {
						limit = {
							ROOT = {
								is_female = yes
							}
						}
						add_trait = homosexual # Closest we've got...
					}
					
					give_nickname = nick_sword_of_the_shifting_sands
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					
					save_event_target_as = sword_of_the_shifting_sands
					set_character_flag = ai_flag_refuse_concubinage
					set_character_flag = ai_flag_refuse_marriage
					set_character_flag = ai_flag_refuse_conversion
					#set_character_flag = special_marshal
					
					if = {
						limit = {
							ROOT = {
								has_character_flag = slept_with_sotss
							}
						}
						
						save_event_target_as = sex_partner
						
						ROOT = {
							unprotected_sex_effect_event_target = yes # Needs to be here!
						}
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_3060 # I challenge you!
		
		# Go to Duel
		# Go directly to Duel
		# Do not pass "Go"
		# Do not collect 200 gold
		
		save_event_target_as = combatant_1
		set_character_flag = wotrs_the_very_best_duel
		
		#log = "[Root.GetBestName] is fighting one of the Six!"
		
		event_target:sword_of_the_shifting_sands = {
			save_event_target_as = combatant_2
		}
		
		character_event = {	id = HFP.10100 } # The duel is fought!
	}
}

# Check outcome
character_event = {
	id = soh.3061
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				has_character_flag = wotrs_the_very_best_duel_won
			}
			
			character_event = { id = soh.3062 days = 1 } # You won
		}
		
		else = {
			character_event = { id = soh.3063 days = 1 } # You lost
		}
	}
}

# You won
character_event = {
	id = soh.3062
	desc = EVTDESC_SOH_3062
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		#log = "[Root.GetBestName] won against one of the Six!"
		
		event_target:sword_of_the_shifting_sands = {
			set_character_flag = not_the_very_best # Can't get the quest chain
		}
	}
	
	option = {
		name = EVTOPTA_SOH_3062 # Well fought, and farewell!
		
		event_target:sword_of_the_shifting_sands = {
			leave_court_and_die_effect = yes
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					has_character_flag = slept_with_sotss
					trait = cruel
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3062 # I could use a woman like you at my side!
		
		event_target:sword_of_the_shifting_sands = {
			if = {
				limit = {
					has_character_flag = slept_with_sotss
				}
				add_lover = ROOT
			}
			
			set_character_flag = special_marshal
			set_character_flag = special_rising_sun_character # Prevents her from getting kicked due to wrong religion
			set_character_flag = proved_myself_to_mentor # She's one of the challenge characters, so of course she's proven herself...
			
			join_society = warriors_of_the_rising_sun
			
			society_rank_up = 1
			
			move_character = ROOT
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
	
	option = {
		name = EVTOPTC_SOH_3062 # And this is the price of defeat!
		
		event_target:sword_of_the_shifting_sands = {
			death = {
				death_reason = death_duel
				killer = ROOT
			}
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			
			trigger = {
				trait = cruel
			}
		}
	}
}

# You lost
character_event = {
	id = soh.3063
	desc = EVTDESC_SOH_3063
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	#immediate = {
	#	log = "[Root.GetBestName] lost to one of the Six!"
	#}
	
	option = {
		name = EVTOPTA_SOH_3063 # Well fought, and farewell!
		
		custom_tooltip = {
			text = fail_the_quest
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		if = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
			}
			
			character_event = { id = soh.3146 } # Fail quest
			
			any_society_member = {
				limit = {
					society_member_of = warriors_of_the_rising_sun
					ai = no
				}
				
				character_event = { id = soh.3145 } # Inform the society
			}
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = brave
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3063 # I'd rather die than live a failure!
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			
			character_event = { id = soh.3145 } # Inform the society
		}
		
		death = {
			death_reason = death_duel
			killer = event_target:sword_of_the_shifting_sands
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = craven
				}
			}
		}
	}
	
	after = {
		event_target:sword_of_the_shifting_sands = {
			leave_court_and_die_effect = yes
		}
	}
}

### The Sword of Christ

# You arrive and start asking around
narrative_event = {
	id = soh.3064
	title = EVTTITLE_SOH_3064
	desc = EVTDESC_SOH_3064
	picture = GFX_evt_prospering_province
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3064 # Time to look around!
		
		if = {
			limit = {
				ai = no
			}
			
			character_event = { id = soh.3065 days = 1 random = 1 } # Herald
		}
		
		else = {
			character_event = { id = soh.3068 } # Go directly to event selection
		}
	}
}

# Option A - pay a herald to spread the word
character_event = {
	id = soh.3065
	desc = EVTDESC_SOH_3065
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3065 # Sounds like a deal!
		
		wealth = -500
		
		character_event = { id = soh.3069 days = 1 random = 1 } # Herald departs
	}
	
	option = {
		name = EVTOPTB_SOH_3065 # Maybe later
		
		character_event = { id = soh.3066 days = 1 random = 1 } # Monks
	}
}

# Option B - monks
character_event = {
	id = soh.3066
	desc = EVTDESC_SOH_3066
	picture = GFX_evt_monastery_monks
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3066 # Speak with the monks
		
		if = {
			limit = {
				religion_group = christian
			}
			
			character_event = { id = soh.3071 days = 1 random = 1 } # Speak with monks - Christian
		}
		
		else = {
			character_event = { id = soh.3072 days = 1 random = 1 } # Speak with monks - not Christian
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3066 # Maybe later
		
		character_event = { id = soh.3067 days = 1 random = 1 } # Brothel
	}
}

# Option C - check the brothel
character_event = {
	id = soh.3067
	desc = EVTDESC_SOH_3067
	picture = GFX_evt_brothel
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3067 # Go inside
		
		character_event = { id = soh.3074 days = 1 random = 1 } # Enter the brothel
	}
	
	option = {
		name = EVTOPTB_SOH_3067 # Maybe later
		
		character_event = { id = soh.3068 days = 1 random = 1 } # Make a choice!
	}
}

# Which option do you pick?
character_event = {
	id = soh.3068
	desc = EVTDESC_SOH_3068
	picture = GFX_evt_prospering_province
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3068 # The herald
		
		wealth = -500
		
		character_event = { id = soh.3069 days = 1 random = 1 } # Herald departs
	}
	
	option = {
		name = EVTOPTB_SOH_3068 # Speak with the monks
		
		if = {
			limit = {
				religion_group = christian
			}
			
			character_event = { id = soh.3071 days = 1 random = 1 } # Speak with monks - Christian
		}
		
		else = {
			character_event = { id = soh.3072 days = 1 random = 1 } # Speak with monks - not Christian
		}
	}
	
	option = {
		name = EVTOPTC_SOH_3068 # Brothel
		
		character_event = { id = soh.3074 days = 1 random = 1 } # Enter the brothel
	}
}

# Paid a herald - the herald sets off
character_event = {
	id = soh.3069
	desc = EVTDESC_SOH_3069
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3069 # He'd better hurry...
		
		character_event = { id = soh.3070 days = 7 random = 7 } # Herald returns
	}
}

# Wait a while or fire the challenge
character_event = {
	id = soh.3070
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				is_actually_incapable_trigger = no
			}
			
			narrative_event = { id = soh.3081 } # The Sword of Christ arrives
		}
		
		else = {
			repeat_event = { id = soh.3070 days = 180 random = 180 } # Try again later
		}
	}
}

# Went to the monks - already Christian, so they help you
character_event = {
	id = soh.3071
	desc = EVTDESC_SOH_3071
	picture = GFX_evt_monastery_monks
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3071 # You'd better hurry...
		
		character_event = { id = soh.3070 days = 7 random = 7 } # Time for the duel
	}
}

# Went to the monks - they request conversion in exchange for their help
character_event = {
	id = soh.3072
	desc = EVTDESC_SOH_3072
	picture = GFX_evt_monastery_monks
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				any_province = {
					has_owner = yes
					religion_group = christian
					
					distance = {
						where = event_target:champion_province
						value < 250
					}
				}
			}
			
			set_character_flag = wotrs_christian_province_found
			
			random_province = {
				limit = {
					has_owner = yes
					religion_group = christian
					
					distance = {
						where = event_target:champion_province
						value < 250
					}
				}
				
				save_event_target_as = wotrs_christian_province
			}
		}
		
		else = {
			set_character_flag = wotrs_christian_province_not_found
		}
	}
	
	option = {
		trigger = {
			NOT = {
				trait = zealous
			}
			
			controls_religion = no
			
			NAND = {
				religion = shinto
				any_dynasty_member = {
					is_the_tenno_trigger = yes
				}
			}
			
			NAND = {
				religion = ryukyuan_pagan_reformed
				any_dynasty_member = {
					is_ryukyuan_tenno_trigger = yes
				}
			}
		}
		
		name = EVTOPTA_SOH_3072 # Fine; I'll convert!
		
		if = {
			limit = {
				has_character_flag = wotrs_christian_province_found
			}
			religion = event_target:wotrs_christian_province
		}
		
		else = {
			religion = catholic
		}
		
		character_event = { id = soh.3070 days = 7 random = 7 } # Time for the duel
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = proud
				}
			}
			
			mult_modifier = {
				factor = 0.1
				NOT = {
					trait = cynical
				}
			}
			
			mult_modifier = {
				factor = 0.1
				NOT = {
					trait = sympathy_christendom
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3072 # NEVER!
		
		piety = 50
		
		add_trait_fully_zealous_effect = yes
		
		character_event = { id = soh.3073 days = 1 random = 1 } # Go with the herald or go home?
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = humble
			}
		}
	}
}

# You refuse to convert - go with the herald or go home?
character_event = {
	id = soh.3073
	desc = EVTDESC_SOH_3073
	picture = GFX_evt_monastery_monks
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3073 # Sounds like a deal!
		
		wealth = -500
		
		character_event = { id = soh.3069 days = 1 random = 1 } # Herald departs
	}
	
	option = {
		name = EVTOPTB_SOH_3073 # I'd rather fail the quest!
		
		custom_tooltip = {
			text = fail_the_quest
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		if = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
			}
			
			character_event = { id = soh.3146 } # Fail quest
			
			any_society_member = {
				limit = {
					society_member_of = warriors_of_the_rising_sun
					ai = no
				}
				
				character_event = { id = soh.3145 } # Inform the society
			}
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Brothel - pay a prostitute and ask her
character_event = {
	id = soh.3074
	desc = EVTDESC_SOH_3074
	picture = GFX_evt_brothel
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3074 # Sounds like a plan!
		
		wealth = -25
		
		character_event = { id = soh.3075 days = 1 } # So what is the plan exactly?
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					OR = {
						trait = chaste
						trait = celibate
					}
					NAND = {
						is_female = no
						trait = homosexual # It still makes sense in this case!
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3074 # I think not!
		
		character_event = { id = soh.3073 days = 1  random = 1} # Go with the herald or go home?
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = homosexual # Even if you're a male homosexual the other option works
					trait = lustful
				}
			}
		}
	}
}

# Paid a prostitute - just ask her the question or sleep with her first?
character_event = {
	id = soh.3075
	desc = EVTDESC_SOH_3075
	picture = GFX_evt_brothel
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOR = {
				AND = {
					is_female = no
					trait = homosexual
				}
				
				AND = {
					is_female = yes
					NOT = {
						trait = homosexual
					}
				}
			}
		}
		
		name = EVTOPTA_SOH_3075 # I'm actually just interested in you answering a question...
		
		hidden_tooltip = {
			random_list = { # Reasonably likely, but you might still have been misinformed
				75 = {
					character_event = { id = soh.3076 days = 1 random = 1 } # You get help
				}
				
				25 = {
					character_event = { id = soh.3077 days = 1 random = 1 } # You don't get help
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = lustful
					OR = {
						AND = {
							is_female = yes
							trait = homosexual
						}
						
						AND = {
							is_female = no
							NOT = {
								trait = homosexual
							}
						}
					}
				}
			}
		}
	}
	
	option = {
		trigger = {
			OR = {
				AND = {
					is_female = yes
					trait = homosexual
				}
				
				AND = {
					is_female = no
					NOT = {
						trait = homosexual
					}
				}
			}
		}
		
		name = EVTOPTB_SOH_3075 # Well, I *did* pay her, so...
		
		if = {
			limit = {
				trait = celibate
			}
			remove_trait = celibate
		}
		
		add_trait_partially_lustful_effect = yes
		
		if = {
			limit = {
				has_character_modifier = mourning_celibate
			}
			
			remove_character_modifier = mourning_celibate
		}
		
		hidden_tooltip = {
			random_list = { # A bit unlikely, since you are taking advantage of her and she might be reluctant to help even if she knows
				10 = {
					mult_modifier = {
						factor = 0.1
						is_unattractive_trigger = yes
					}
					
					mult_modifier = {
						factor = 3
						OR = {
							trait = master_seducer
							trait = master_seductress
						}
					}
					
					mult_modifier = {
						factor = 0.1
						trait = cruel
					}
					
					character_event = { id = soh.3078 days = 1 random = 1 } # You get help
				}
				
				90 = {
					mult_modifier = {
						factor = 0.5
						is_attractive_trigger = yes
					}
					
					character_event = { id = soh.3079 days = 1 random = 1 } # You don't get help
				}
			}
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					trait = chaste
					trait = celibate
				}
			}
		}
	}
}

# Asked the question - got help
character_event = {
	id = soh.3076
	desc = EVTDESC_SOH_3076
	picture = GFX_evt_brothel
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3076 # She'd better hurry...
		
		character_event = { id = soh.3070 days = 7 random = 7 } # Time for the duel
	}
}

# Asked her - no help - go with the herald or go home?
character_event = {
	id = soh.3077
	desc = EVTDESC_SOH_3077
	picture = GFX_evt_brothel
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3077 # Sounds like a deal!
		
		wealth = -500
		
		character_event = { id = soh.3069 days = 1 random = 1 } # Herald departs
	}
	
	option = {
		name = EVTOPTB_SOH_3077 # I'd rather fail the quest!
		
		custom_tooltip = {
			text = fail_the_quest
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		if = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
			}
			
			character_event = { id = soh.3146 } # Fail quest
			
			any_society_member = {
				limit = {
					society_member_of = warriors_of_the_rising_sun
					ai = no
				}
				
				character_event = { id = soh.3145 } # Inform the society
			}
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Slept with her and asked - got help
character_event = {
	id = soh.3078
	desc = EVTDESC_SOH_3078
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	immediate = {
		random = {
			chance = 15
			character_event = { id = soh.3080 days = 7 } # Lover's pox
		}
	}
	
	option = {
		name = EVTOPTA_SOH_3078 # She'd better hurry...
		
		character_event = { id = soh.3070 days = 7 random = 7 } # Time for the duel
	}
}

# Slept with her and asked - no help - go with the herald or go home?
character_event = {
	id = soh.3079
	desc = EVTDESC_SOH_3079
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	immediate = {
		random = {
			chance = 15
			character_event = { id = soh.3080 days = 7 } # Lover's pox
		}
	}
	
	option = {
		name = EVTOPTA_SOH_3079 # Sounds like a deal!
		
		wealth = -500
		
		character_event = { id = soh.3069 days = 1 random = 1 } # Herald departs
	}
	
	option = {
		name = EVTOPTB_SOH_3079 # I'd rather fail the quest!
		
		custom_tooltip = {
			text = fail_the_quest
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		if = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
			}
			
			character_event = { id = soh.3146 } # Fail quest
			
			any_society_member = {
				limit = {
					society_member_of = warriors_of_the_rising_sun
					ai = no
				}
				
				character_event = { id = soh.3145 } # Inform the society
			}
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Lover's pox
character_event = {
	id = soh.3080
	desc = EVTDESC_SOH_3080
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3080 # Um, oops?
		
		prestige = -25
		
		add_trait = lovers_pox
	}
}

# The Sword of Christ arrives
narrative_event = {
	id = soh.3081
	title = EVTTITLE_SOH_3081
	desc = EVTDESC_SOH_3081
	picture = GFX_evt_dueling_knights_hf
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		k_papal_state = {
			holder_scope = {
				create_character = {
					age = 35
					female = no
					culture = italian
					religion = catholic
					random_traits = no
					
					attributes = {
						diplomacy = 9
						martial = 10
						stewardship = 5
						intrigue = 8
						learning = 7
					}
					
					trait = brilliant_strategist
					trait = duelist
					trait = brave
					trait = diligent
					trait = humble
					trait = zealous
				}
				
				new_character = {
					give_nickname = nick_sword_of_christ
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					
					save_event_target_as = sword_of_christ
					set_character_flag = ai_flag_refuse_concubinage
					set_character_flag = ai_flag_refuse_marriage
					set_character_flag = ai_flag_refuse_conversion
					
					if = {
						limit = {
							has_global_flag = christian_crusades_unlocked
						}
						add_trait = crusader
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_3081 # I challenge you!
		
		# Go to Duel
		# Go directly to Duel
		# Do not pass "Go"
		# Do not collect 200 gold
		
		save_event_target_as = combatant_1
		set_character_flag = wotrs_the_very_best_duel
		
		#log = "[Root.GetBestName] is fighting one of the Six!"
		
		event_target:sword_of_christ = {
			save_event_target_as = combatant_2
		}
		
		character_event = {	id = HFP.10100 } # The duel is fought!
	}
}

# Check outcome
character_event = {
	id = soh.3082
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				has_character_flag = wotrs_the_very_best_duel_won
			}
			
			character_event = { id = soh.3083 days = 1 } # You won
		}
		
		else = {
			character_event = { id = soh.3084 days = 1 } # You lost
		}
	}
}

# You won
character_event = {
	id = soh.3083
	desc = EVTDESC_SOH_3083
	picture = GFX_evt_dueling_knights_hf
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		#log = "[Root.GetBestName] won against one of the Six!"
		
		event_target:sword_of_christ = {
			set_character_flag = not_the_very_best # Can't get the quest chain
		}
	}
	
	option = {
		name = EVTOPTA_SOH_3083 # Well fought, and farewell!
		
		event_target:sword_of_christ = {
			leave_court_and_die_effect = yes
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = cruel
				}
			}
		}
	}
	
	option = {
		trigger = {
			OR = {
				NOT = {
					trait = zealous
				}
				religion = catholic
			}
		}
		
		name = EVTOPTB_SOH_3083 # I could use a man like you at my side!
		
		event_target:sword_of_christ = {
			add_friend = ROOT
			
			set_character_flag = special_rising_sun_character # Prevents him from getting kicked due to wrong religion
			set_character_flag = proved_myself_to_mentor # He's one of the challenge characters, so of course he's proven herself...
			
			join_society = warriors_of_the_rising_sun
			society_rank_up = 1
			move_character = ROOT
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = cruel
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_SOH_3083 # And this is the price of defeat!
		
		event_target:sword_of_christ = {
			death = {
				death_reason = death_duel
				killer = ROOT
			}
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			
			trigger = {
				trait = cruel
			}
		}
	}
}

# You lost
character_event = {
	id = soh.3084
	desc = EVTDESC_SOH_3084
	picture = GFX_evt_dueling_knights_hf
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	#immediate = {
	#	log = "[Root.GetBestName] lost to one of the Six!"
	#}
	
	option = {
		name = EVTOPTA_SOH_3084 # Well fought, and farewell!
		
		custom_tooltip = {
			text = fail_the_quest
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		if = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
			}
			
			character_event = { id = soh.3146 } # Fail quest
			
			any_society_member = {
				limit = {
					society_member_of = warriors_of_the_rising_sun
					ai = no
				}
				
				character_event = { id = soh.3145 } # Inform the society
			}
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = brave
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3084 # I'd rather die than live a failure!
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			
			character_event = { id = soh.3145 } # Inform the society
		}
		
		death = {
			death_reason = death_duel
			killer = event_target:sword_of_christ
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = craven
				}
			}
		}
	}
	
	after = {
		event_target:sword_of_christ = {
			leave_court_and_die_effect = yes
		}
	}
}

### The Sword of Winter

# You arrive and start asking around
narrative_event = {
	id = soh.3085
	title = EVTTITLE_SOH_3085
	desc = EVTDESC_SOH_3085
	picture = GFX_evt_vikings_arriving_oldgods
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3085 # Time to look around!
		
		character_event = { id = soh.3086 days = 1 random = 1 } #  You find a guide
	}
}

# You find a guide to take you to the Sword
character_event = {
	id = soh.3086
	desc = EVTDESC_SOH_3086
	picture = GFX_evt_mysterious_forest
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3086 # Take me to her at once!
		
		character_event = { id = soh.3087 days = 7 random = 7 }
	}
}

# Wait a while or fire the challenge
character_event = {
	id = soh.3087
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				is_actually_incapable_trigger = no
			}
			
			narrative_event = { id = soh.3088 } # Arrived at the Sword of Winter's location
		}
		
		else = {
			repeat_event = { id = soh.3087 days = 180 random = 180 } # Try again later
		}
	}
}

# Arrive at the Sword's location - she asks that you prove yourself against her warriors first
narrative_event = {
	id = soh.3088
	title = EVTTITLE_SOH_3088
	desc = EVTDESC_SOH_3088
	picture = GFX_evt_matriarchy_throne_room
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3088 # I will take them all on!
		
		hidden_tooltip = {
			random_list = {
				25 = {
					trigger = {
						combat_rating >= 50
					}
					
					character_event = { id = soh.3090 days = 1 random = 1 } # You defeat the warriors easily
				}
				
				25 = {
					mult_modifier = {
						factor = 0.1
						combat_rating < 50
					}
					
					mult_modifier = {
						factor = 0.1
						combat_rating >= 75
					}
					
					character_event = { id = soh.3091 days = 1 random = 1 } # You defeat the warriors, but they wound you
				}
				
				25 = {
					mult_modifier = {
						factor = 0.1
						combat_rating >= 50
					}
					
					modifier = {
						factor = 0
						combat_rating >= 75
					}
					
					character_event = { id = soh.3092 days = 1 random = 1 } # You defeat the warriors, but they maim you
				}
				
				25 = {
					trigger = {
						combat_rating < 50
					}
					
					character_event = { id = soh.3093 days = 1 random = 1 } # The warriors kill you
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3088 # Are you too much of a coward to fight me yourself?
		
		narrative_event = { id = soh.3089 days = 1 } # Go directly to duel
	}
}

# Refused to fight her warriors first - go to actual duel
narrative_event = {
	id = soh.3089
	title = EVTTITLE_SOH_3089
	desc = EVTDESC_SOH_3089
	picture = GFX_evt_matriarchy_throne_room
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		k_papal_state = {
			holder_scope = {
				create_character = {
					age = 65
					female = yes
					culture = norse
					religion = norse_pagan
					random_traits = no
					
					attributes = {
						diplomacy = 9
						martial = 10
						stewardship = 5
						intrigue = 8
						learning = 7
					}
					
					trait = brilliant_strategist
					trait = duelist
					trait = brave
					trait = shieldmaiden
					trait = ambitious
					trait = viking
				}
				
				new_character = {
					give_nickname = nick_sword_of_winter
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					
					save_event_target_as = sword_of_winter
					set_character_flag = ai_flag_refuse_concubinage
					set_character_flag = ai_flag_refuse_marriage
					set_character_flag = ai_flag_refuse_conversion
					add_random_tattoo_effect = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_3089 # I challenge you!
		
		# Go to Duel
		# Go directly to Duel
		# Do not pass "Go"
		# Do not collect 200 gold
		
		save_event_target_as = combatant_1
		set_character_flag = wotrs_the_very_best_duel
		
		#log = "[Root.GetBestName] is fighting one of the Six!"
		
		event_target:sword_of_winter = {
			save_event_target_as = combatant_2
		}
		
		character_event = {	id = HFP.10100 } # The duel is fought!
	}
}

# Fought warriors - easy victory
character_event = {
	id = soh.3090
	desc = EVTDESC_SOH_3090
	picture = GFX_evt_matriarchy_throne_room
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3090 # Let's hope you prove more of a challenge!
		
		add_one_duel_experience_modifier = yes
		
		prestige = 25
		
		narrative_event = { id = soh.3094 days = 1 } # The actual duel
	}
}

# Fought warriors - wounded
character_event = {
	id = soh.3091
	desc = EVTDESC_SOH_3091
	picture = GFX_evt_matriarchy_throne_room
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3091 # They fought well, but not well enough!
		
		add_one_duel_experience_modifier = yes
		
		prestige = 10
		
		add_trait_wounded_effect = yes
		
		narrative_event = { id = soh.3094 days = 1 } # The actual duel
	}
}

# Fought warriors - maimed
character_event = {
	id = soh.3092
	desc = EVTDESC_SOH_3092
	picture = GFX_evt_matriarchy_throne_room
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3092 # Well, this isn't looking great...
		
		add_one_duel_experience_modifier = yes
		
		prestige = -10
		
		add_maimed_trait_effect = yes
		
		narrative_event = { id = soh.3094 days = 1 } # The actual duel
	}
}

# Fought warriors - killed
character_event = {
	id = soh.3093
	desc = EVTDESC_SOH_3093
	picture = GFX_evt_bloody_man
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3093 # Not like this!
		
		prestige = -50
		
		death = {
			death_reason = death_duel
		}
	}
}

# Duel againt the Sword of Winter
narrative_event = {
	id = soh.3094
	title = EVTTITLE_SOH_3094
	desc = EVTDESC_SOH_3094
	picture = GFX_evt_matriarchy_throne_room
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		k_papal_state = {
			holder_scope = {
				create_character = {
					age = 65
					female = yes
					culture = norse
					religion = norse_pagan
					random_traits = no
					
					attributes = {
						diplomacy = 9
						martial = 10
						stewardship = 5
						intrigue = 8
						learning = 7
					}
					
					trait = brilliant_strategist
					trait = duelist
					trait = brave
					trait = shieldmaiden
					trait = ambitious
					trait = viking
				}
				
				new_character = {
					give_nickname = nick_sword_of_winter
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					
					save_event_target_as = sword_of_winter
					set_character_flag = ai_flag_refuse_concubinage
					set_character_flag = ai_flag_refuse_marriage
					set_character_flag = ai_flag_refuse_conversion
					add_random_tattoo_effect = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_3094 # I challenge you!
		
		# Go to Duel
		# Go directly to Duel
		# Do not pass "Go"
		# Do not collect 200 gold
		
		save_event_target_as = combatant_1
		set_character_flag = wotrs_the_very_best_duel
		
		#log = "[Root.GetBestName] is fighting one of the Six!"
		
		event_target:sword_of_winter = {
			save_event_target_as = combatant_2
		}
		
		character_event = {	id = HFP.10100 } # The duel is fought!
	}
}

# Check outcome
character_event = {
	id = soh.3095
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				has_character_flag = wotrs_the_very_best_duel_won
			}
			
			character_event = { id = soh.3096 days = 1 } # You won
		}
		
		else = {
			character_event = { id = soh.3097 days = 1 } # You lost
		}
	}
}

# You won
character_event = {
	id = soh.3096
	desc = EVTDESC_SOH_3096
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		#log = "[Root.GetBestName] won against one of the Six!"
		
		event_target:sword_of_winter = {
			set_character_flag = not_the_very_best # Can't get the quest chain
		}
	}
	
	option = {
		name = EVTOPTA_SOH_3096 # Well fought, and farewell!
		
		event_target:sword_of_winter = {
			leave_court_and_die_effect = yes
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = cruel
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3096 # I could use a woman like you at my side!
		
		event_target:sword_of_winter = {
			add_friend = ROOT
			
			set_character_flag = special_marshal
			set_character_flag = special_rising_sun_character # Prevents her from getting kicked due to wrong religion
			set_character_flag = proved_myself_to_mentor # She's one of the challenge characters, so of course she's proven herself...
			
			join_society = warriors_of_the_rising_sun
			society_rank_up = 1
			move_character = ROOT
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = cruel
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_SOH_3096 # And this is the price of defeat!
		
		event_target:sword_of_winter = {
			death = {
				death_reason = death_duel
				killer = ROOT
			}
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			
			trigger = {
				trait = cruel
			}
		}
	}
}

# You lost
character_event = {
	id = soh.3097
	desc = EVTDESC_SOH_3097
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	#immediate = {
	#	log = "[Root.GetBestName] lost to one of the Six!"
	#}
	
	option = {
		name = EVTOPTA_SOH_3097 # Well fought, and farewell!
		
		custom_tooltip = {
			text = fail_the_quest
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		if = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
			}
			
			character_event = { id = soh.3146 } # Fail quest
			
			any_society_member = {
				limit = {
					society_member_of = warriors_of_the_rising_sun
					ai = no
				}
				
				character_event = { id = soh.3145 } # Inform the society
			}
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = brave
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3097 # I'd rather die than live a failure!
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			
			character_event = { id = soh.3145 } # Inform the society
		}
		
		death = {
			death_reason = death_duel
			killer = event_target:sword_of_winter
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = craven
				}
			}
		}
	}
	
	after = {
		event_target:sword_of_winter = {
			leave_court_and_die_effect = yes
		}
	}
}

### The Sword of the Steppes

# You arrive in the steppes and realize that there's no convenient town
narrative_event = {
	id = soh.3098
	title = EVTTITLE_SOH_3098
	desc = EVTDESC_SOH_3098
	picture = GFX_evt_nomad_camp
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3098 # I didn't think this through...
		
		character_event = { id = soh.3099 days = 7 random = 7 } # Spot the rider
	}
}

# Riding around somewhat aimlessly you spot another rider in the distance
character_event = {
	id = soh.3099
	desc = EVTDESC_SOH_3099
	picture = GFX_evt_rider_adventure
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3099 # I should approach them!
		
		character_event = { id = soh.3100 days = 1 random = 1 } # Reach the rider
	}
}

# You discover that the rider was looking for you in particular
character_event = {
	id = soh.3100
	desc = EVTDESC_SOH_3100
	picture = GFX_evt_rider_adventure
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3100 # Lead on!
		
		character_event = { id = soh.3101 days = 7 random = 7 } # Go to the Sword of the Steppes or wait
	}
}

# Wait a while or go to the duel
character_event = {
	id = soh.3101
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				is_actually_incapable_trigger = no
			}
			
			narrative_event = { id = soh.3102 } # The Sword of the Steppes
		}
		
		else = {
			repeat_event = { id = soh.3101 days = 180 random = 180 } # Try again later
		}
	}
}

# Arrive at the Sword of the Steppes
narrative_event = {
	id = soh.3102
	title = EVTTITLE_SOH_3102
	desc = EVTDESC_SOH_3102
	picture = GFX_evt_steppe_mercenaries
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		k_papal_state = {
			holder_scope = {
				create_character = {
					age = 30
					female = no
					culture = turkish
					religion = tengri_pagan
					random_traits = no
					
					attributes = {
						diplomacy = 9
						martial = 10
						stewardship = 5
						intrigue = 8
						learning = 7
					}
					
					trait = brilliant_strategist
					trait = duelist
					trait = brave
					trait = falconer
					trait = cruel
				}
				new_character = {
					give_nickname = nick_sword_of_the_steppes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					
					save_event_target_as = sword_of_the_steppes
					set_character_flag = ai_flag_refuse_concubinage
					set_character_flag = ai_flag_refuse_marriage
					set_character_flag = ai_flag_refuse_conversion
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_3102 # I challenge you!
		
		# Go to Duel
		# Go directly to Duel
		# Do not pass "Go"
		# Do not collect 200 gold
		
		save_event_target_as = combatant_1
		set_character_flag = wotrs_the_very_best_duel
		
		#log = "[Root.GetBestName] is fighting one of the Six!"
		
		event_target:sword_of_the_steppes = {
			save_event_target_as = combatant_2
		}
		
		character_event = {	id = HFP.10100 } # The duel is fought!
	}
}

# Check outcome
character_event = {
	id = soh.3103
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				has_character_flag = wotrs_the_very_best_duel_won
			}
			
			character_event = { id = soh.3104 days = 1 } # You won
		}
		
		else = {
			character_event = { id = soh.3105 days = 1 } # You lost
		}
	}
}

# You won
character_event = {
	id = soh.3104
	desc = EVTDESC_SOH_3104
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		#log = "[Root.GetBestName] won against one of the Six!"
		
		event_target:sword_of_the_steppes = {
			set_character_flag = not_the_very_best # Can't get the quest chain
		}
	}
	
	option = {
		name = EVTOPTA_SOH_3104 # Well fought, and farewell!
		
		event_target:sword_of_the_steppes = {
			leave_court_and_die_effect = yes
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = cruel
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3104 # I could use a man like you at my side!
		
		event_target:sword_of_the_steppes = {
			add_friend = ROOT
			
			set_character_flag = special_marshal
			set_character_flag = special_rising_sun_character # Prevents her from getting kicked due to wrong religion
			set_character_flag = proved_myself_to_mentor # He's one of the challenge characters, so of course he's proven herself...
			
			join_society = warriors_of_the_rising_sun
			society_rank_up = 1
			move_character = ROOT
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = cruel
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_SOH_3104 # And this is the price of defeat!
		
		event_target:sword_of_the_steppes = {
			death = {
				death_reason = death_duel
				killer = ROOT
			}
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			
			trigger = {
				trait = cruel
			}
		}
	}
}

# You lost
character_event = {
	id = soh.3105
	desc = EVTDESC_SOH_3105
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	#immediate = {
	#	log = "[Root.GetBestName] lost to one of the Six!"
	#}
	
	option = {
		name = EVTOPTA_SOH_3105 # Well fought, and farewell!
		
		custom_tooltip = {
			text = fail_the_quest
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		if = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
			}
			
			character_event = { id = soh.3146 } # Fail quest
			
			any_society_member = {
				limit = {
					society_member_of = warriors_of_the_rising_sun
					ai = no
				}
				
				character_event = { id = soh.3145 } # Inform the society
			}
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = brave
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3105 # I'd rather die than live a failure!
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			
			character_event = { id = soh.3145 } # Inform the society
		}
		
		death = {
			death_reason = death_duel
			killer = event_target:sword_of_the_steppes
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = craven
				}
			}
		}
	}
	
	after = {
		event_target:sword_of_the_steppes = {
			leave_court_and_die_effect = yes
		}
	}
}

### The Sword of the Dragon

# You arrive and start asking around
narrative_event = {
	id = soh.3106
	title = EVTTITLE_SOH_3106
	desc = EVTDESC_SOH_3106
	picture = GFX_evt_china_stable
	border = GFX_event_narrative_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3106 # Let's see how this works...
		
		character_event = { id = soh.3107 days = 1 random = 1 } # Bribery or bureaucracy?
	}
}

# Bureaucratic process - bribe someone or start filling in forms?
character_event = {
	id = soh.3107
	desc = EVTDESC_SOH_3107
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3107 # Sounds like a deal!
		
		wealth = -500
		
		if = {
			limit = {
				society_member_of = warriors_of_the_rising_sun 
			}
			
			change_society_currency = -25 # Bribery
		}
		
		character_event = { id = soh.3108 days = 1 random = 1 } # Bribe accepted
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = greedy
					is_smart_trigger = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3107 # I'll take the test
		
		character_event = { id = soh.3110 days = 1 random = 1 } # The test begins
		
		ai_chance = {
			factor = 100
			
			trigger = {
				OR = {
					is_dumb_trigger = no
					trait = greedy
				}
			}
		}
	}
}

# You bribed someone
character_event = {
	id = soh.3108
	desc = EVTDESC_SOH_3108
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3108 # Money solves all problems!
		
		character_event = { id = soh.3109 days = 7 random = 7 } # Go to the Sword of the Dragon or wait
	}
}

# Wait a while or fire the challenge
character_event = {
	id = soh.3109
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				is_actually_incapable_trigger = no
			}
			
			narrative_event = { id = soh.3118 } # The Sword of the Dragon
		}
		
		else = {
			repeat_event = { id = soh.3109 days = 180 random = 180 } # Try again later
		}
	}
}

# Form A - diplomacy
character_event = {
	id = soh.3110
	desc = EVTDESC_SOH_3110
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3110 # I've got this!
		
		hidden_tooltip = {
			random_list = {
				50 = {
					trigger = {
						diplomacy > 8
					}
					
					set_character_flag = form_a_good
				}
				
				50 = {
					trigger = {
						diplomacy < 16
					}
					
					set_character_flag = form_a_bad
				}
			}
		}
		
		character_event = { id = soh.3111 days = 1 random = 1 } # Next test!
	}
}

# Form B - martial
character_event = {
	id = soh.3111
	desc = EVTDESC_SOH_3111
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3111 # I've got this!
		
		hidden_tooltip = {
			random_list = {
				50 = {
					trigger = {
						martial > 8
					}
					
					set_character_flag = form_b_good
				}
				
				50 = {
					trigger = {
						martial < 16
					}
					
					set_character_flag = form_b_bad
				}
			}
		}
		
		character_event = { id = soh.3112 days = 1 random = 1 } # Next test!
	}
}

# Form C - stewardship
character_event = {
	id = soh.3112
	desc = EVTDESC_SOH_3112
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3112 # I've got this!
		
		hidden_tooltip = {
			random_list = {
				50 = {
					trigger = {
						stewardship > 8
					}
					
					set_character_flag = form_c_good
				}
				
				50 = {
					trigger = {
						stewardship < 16
					}
					
					set_character_flag = form_c_bad
				}
			}
		}
		
		character_event = { id = soh.3113 days = 1 random = 1 } # Next test!
	}
}

# Form D - intrigue
character_event = {
	id = soh.3113
	desc = EVTDESC_SOH_3113
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3113 # I've got this!
		
		hidden_tooltip = {
			random_list = {
				50 = {
					trigger = {
						intrigue > 8
					}
					
					set_character_flag = form_d_good
				}
				
				50 = {
					trigger = {
						intrigue < 16
					}
					
					set_character_flag = form_d_bad
				}
			}
		}
		
		character_event = { id = soh.3114 days = 1 random = 1 } # Next test!
	}
}

# Form E - learning
character_event = {
	id = soh.3114
	desc = EVTDESC_SOH_3114
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3114 # I've got this!
		
		hidden_tooltip = {
			random_list = {
				50 = {
					trigger = {
						learning > 8
					}
					
					set_character_flag = form_e_good
				}
				
				50 = {
					trigger = {
						learning < 16
					}
					
					set_character_flag = form_e_bad
				}
			}
		}
		
		character_event = { id = soh.3115 days = 2 random = 1 } # Determine the outcome
	}
}

# Determine the outcome
character_event = {
	id = soh.3115
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		random_list = {
			50 = {
				trigger = {
					NAND = {
						has_character_flag = form_a_bad
						has_character_flag = form_b_bad
						has_character_flag = form_c_bad
						has_character_flag = form_d_bad
						has_character_flag = form_e_bad
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = form_a_good
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = form_b_good
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = form_c_good
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = form_d_good
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = form_e_good
				}
				
				character_event = { id = soh.3116 } # You passed
			}
			
			50 = {
				trigger = {
					NAND = {
						has_character_flag = form_a_good
						has_character_flag = form_b_good
						has_character_flag = form_c_good
						has_character_flag = form_d_good
						has_character_flag = form_e_good
					}
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = form_a_bad
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = form_b_bad
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = form_c_bad
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = form_d_bad
				}
				
				mult_modifier = {
					factor = 2
					has_character_flag = form_e_bad
				}
				
				character_event = { id = soh.3117 } # You failed
			}
		}
	}
}

# You fill in the forms correctly and they send for the Sword of the Dragon
character_event = {
	id = soh.3116
	desc = EVTDESC_SOH_3116
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3116 # That went quite well!
		
		prestige = 25
		
		character_event = { id = soh.3109 days = 7 random = 7 } # Delay or go to the duel
	}
}

# You fill in the forms incorrectly - bribe someone or go home?
character_event = {
	id = soh.3117
	desc = EVTDESC_SOH_3117
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3117 # Sounds like a deal!
		
		wealth = -500
		
		character_event = { id = soh.3109 days = 7 random = 7 } # Delay or go to the duel
	}
	
	option = {
		name = EVTOPTB_SOH_3117 # I'd rather fail the quest!
		
		custom_tooltip = {
			text = fail_the_quest
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		if = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
			}
			
			character_event = { id = soh.3146 } # Fail quest
			
			any_society_member = {
				limit = {
					society_member_of = warriors_of_the_rising_sun
					ai = no
				}
				
				character_event = { id = soh.3145 } # Inform the society
			}
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# The Sword of the Dragon arrives
narrative_event = {
	id = soh.3118
	title = EVTTITLE_SOH_3118
	desc = EVTDESC_SOH_3118
	picture = GFX_evt_china_expansionist
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		k_papal_state = {
			holder_scope = {
				create_character = {
					age = 50
					female = no
					culture = han
					religion = confucian
					random_traits = no
					
					attributes = {
						diplomacy = 4
						martial = 10
						stewardship = 6
						intrigue = 4
						learning = 10
					}
					
					trait = brilliant_strategist
					trait = duelist
					trait = eunuch
					trait = scholar
					trait = erudite
				}
				new_character = {
					give_nickname = nick_sword_of_the_dragon
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					
					save_event_target_as = sword_of_the_dragon
					set_character_flag = ai_flag_refuse_concubinage
					set_character_flag = ai_flag_refuse_marriage
					set_character_flag = ai_flag_refuse_conversion
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_3118 # I challenge you!
		
		# Go to Duel
		# Go directly to Duel
		# Do not pass "Go"
		# Do not collect 200 gold
		
		save_event_target_as = combatant_1
		set_character_flag = wotrs_the_very_best_duel
		
		#log = "[Root.GetBestName] is fighting one of the Six!"
		
		event_target:sword_of_the_dragon = {
			save_event_target_as = combatant_2
		}
		
		character_event = {	id = HFP.10100 } # The duel is fought!
	}
}

# Check outcome
character_event = {
	id = soh.3119
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				has_character_flag = wotrs_the_very_best_duel_won
			}
			
			character_event = { id = soh.3120 days = 1 } # You won
		}
		
		else = {
			character_event = { id = soh.3121 days = 1 } # You lost
		}
	}
}

# You won
character_event = {
	id = soh.3120
	desc = EVTDESC_SOH_3120
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		#log = "[Root.GetBestName] won against one of the Six!"
		
		event_target:sword_of_the_dragon = {
			set_character_flag = not_the_very_best # Can't get the quest chain
		}
	}
	
	option = {
		name = EVTOPTA_SOH_3120 # Well fought, and farewell!
		
		event_target:sword_of_the_dragon = {
			leave_court_and_die_effect = yes
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = cruel
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3120 # I could use a man like you at my side!
		
		event_target:sword_of_the_dragon = {
			add_friend = ROOT
			
			set_character_flag = special_marshal
			set_character_flag = special_rising_sun_character # Prevents her from getting kicked due to wrong religion
			set_character_flag = proved_myself_to_mentor # He's one of the challenge characters, so of course he's proven herself...
			
			join_society = warriors_of_the_rising_sun
			society_rank_up = 1
			move_character = ROOT
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = cruel
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_SOH_3120 # And this is the price of defeat!
		
		event_target:sword_of_the_dragon = {
			death = {
				death_reason = death_duel
				killer = ROOT
			}
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			
			trigger = {
				trait = cruel
			}
		}
	}
}

# You lost
character_event = {
	id = soh.3121
	desc = EVTDESC_SOH_3121
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	#immediate = {
	#	log = "[Root.GetBestName] lost to one of the Six!"
	#}
	
	option = {
		name = EVTOPTA_SOH_3121 # Well fought, and farewell!
		
		custom_tooltip = {
			text = fail_the_quest
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		if = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
			}
			
			character_event = { id = soh.3146 } # Fail quest
			
			any_society_member = {
				limit = {
					society_member_of = warriors_of_the_rising_sun
					ai = no
				}
				
				character_event = { id = soh.3145 } # Inform the society
			}
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = brave
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3121 # I'd rather die than live a failure!
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			character_event = { id = soh.3145 } # Inform the society
		}
		
		death = {
			death_reason = death_duel
			killer = event_target:sword_of_the_dragon
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = craven
				}
			}
		}
	}
	
	after = {
		event_target:sword_of_the_dragon = {
			leave_court_and_die_effect = yes
		}
	}
}

### The Sword of Serpents

# You arrive and start asking around
narrative_event = {
	id = soh.3122
	title = EVTTITLE_SOH_3122
	desc = EVTDESC_SOH_3122
	picture = GFX_evt_cathedral_indian_group
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3122 # I should ask around...
		
		character_event = { id = soh.3123 days = 1 random = 1 } # Told to go to the ruin
	}
}

# After asking around for a while you're told to seek out a ruin in the jungles
character_event = {
	id = soh.3123
	desc = EVTDESC_SOH_3123
	picture = GFX_evt_dharmic_pilgrims
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3123 # Off I go, then!
		
		character_event = { id = soh.3124 days = 7 random = 7 } # Wait or go to the ruin
	}
}

# Wait a while or go to the Sword of Serpents' ruin
character_event = {
	id = soh.3124
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				is_actually_incapable_trigger = no
			}
			
			narrative_event = { id = soh.3125 } # Arriving at the ruin
		}
		
		else = {
			repeat_event = { id = soh.3124 days = 180 random = 180 } # Try again later
		}
	}
}

# The Sword of Serpents welcomes you and tells you to make your way past his challenges
narrative_event = {
	id = soh.3125
	title = EVTTITLE_SOH_3125
	desc = EVTDESC_SOH_3125
	picture = GFX_evt_lunatic
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3125 # If I must...
		
		character_event = { id = soh.3126 days = 1 random = 1 } # Cobras
	}
}

# Challenge 1 - cobras
character_event = {
	id = soh.3126
	desc = EVTDESC_SOH_3126
	picture = GFX_evt_cathedral_indian_group
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3126 # I guess I have to...
		
		hidden_tooltip = {
			random_list = {
				50 = {
					trigger = {
						NOR = {
							intrigue >= 16
							combat_rating >= 75
							is_smart_trigger = yes
						}
					}
					
					character_event = { id = soh.3127 days = 1 random = 1 } # You have died!
				}
				
				50 = {
					trigger = {
						NAND = {
							NOR = {
								intrigue >= 16
								combat_rating >= 25
							}
							is_dumb_trigger = yes
						}
					}
					
					character_event = { id = soh.3128 days = 1 random = 1 } # You get past the challenge!
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3126 # I'd rather fail the quest!
		
		custom_tooltip = {
			text = fail_the_quest
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		if = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
			}
			
			character_event = { id = soh.3146 } # Fail quest
			
			any_society_member = {
				limit = {
					society_member_of = warriors_of_the_rising_sun
					ai = no
				}
				
				character_event = { id = soh.3145 } # Inform the society
			}
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Died to the cobras
character_event = {
	id = soh.3127
	desc = EVTDESC_SOH_3127
	picture = GFX_evt_cathedral_indian_group
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3127 # This cannot be!
		
		prestige = -100
		
		death = {
			death_reason = death_accident_snakes
		}
	}
}

# Made it past the cobras
character_event = {
	id = soh.3128
	desc = EVTDESC_SOH_3128
	picture = GFX_evt_cathedral_indian_group
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3128 # Next challenge!
		
		prestige = 25
		
		character_event = { id = soh.3129 days = 1 }
	}
}

# Challenge 2 - pressure plates
character_event = {
	id = soh.3129
	desc = EVTDESC_SOH_3129
	picture = GFX_evt_cathedral_indian_group
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3129 # I guess I have to...
		
		hidden_tooltip = {
			random_list = {
				50 = {
					trigger = {
						NOR = {
							intrigue >= 16
							combat_rating >= 75
							is_smart_trigger = yes
						}
					}
					
					character_event = { id = soh.3130 days = 1 random = 1 } # You have died!
				}
				
				50 = {
					trigger = {
						NAND = {
							NOR = {
								intrigue >= 16
								combat_rating >= 25
							}
							is_dumb_trigger = yes
						}
					}
					
					character_event = { id = soh.3131 days = 1 random = 1 } # You get past the challenge!
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3129 # I'd rather fail the quest!
		
		custom_tooltip = {
			text = fail_the_quest
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		if = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
			}
			
			character_event = { id = soh.3146 } # Fail quest
			
			any_society_member = {
				limit = {
					society_member_of = warriors_of_the_rising_sun
					ai = no
				}
				
				character_event = { id = soh.3145 } # Inform the society
			}
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Died to the pressure plates
character_event = {
	id = soh.3130
	desc = EVTDESC_SOH_3130
	picture = GFX_evt_cathedral_indian_group
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3130 # This cannot be!
		
		prestige = -100
		
		death = {
			death_reason = death_accident
		}
	}
}

# Got past the pressure plates
character_event = {
	id = soh.3131
	desc = EVTDESC_SOH_3131
	picture = GFX_evt_cathedral_indian_group
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3131 # Next challenge!
		
		prestige = 25
		
		character_event = { id = soh.3132 days = 1 }
	}
}

# Challenge 3 - labyrinth
character_event = {
	id = soh.3132
	desc = EVTDESC_SOH_3132
	picture = GFX_evt_cathedral_indian_group
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3132 # I guess I have to...
		
		hidden_tooltip = {
			random_list = {
				50 = {
					trigger = {
						NOR = {
							intrigue >= 16
							learning >= 16
							is_smart_trigger = yes
						}
					}
					
					character_event = { id = soh.3133 days = 1 random = 1 } # You have died!
				}
				
				50 = {
					trigger = {
						NAND = {
							NOR = {
								intrigue >= 16
								learning >= 16
							}
							is_dumb_trigger = yes
						}
					}
					
					character_event = { id = soh.3134 days = 1 random = 1 } # You get past the challenge!
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3132 # I'd rather fail the quest!
		
		custom_tooltip = {
			text = fail_the_quest
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		if = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
			}
			
			character_event = { id = soh.3146 } # Fail quest
			
			any_society_member = {
				limit = {
					society_member_of = warriors_of_the_rising_sun
					ai = no
				}
				
				character_event = { id = soh.3145 } # Inform the society
			}
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Got lost in the labyrinth and died of starvation
character_event = {
	id = soh.3133
	desc = EVTDESC_SOH_3133
	picture = GFX_evt_cathedral_indian_group
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3133 # This cannot be!
		
		prestige = -100
		
		death = {
			death_reason = death_missing
		}
	}
}

# Got through the labyrinth
character_event = {
	id = soh.3134
	desc = EVTDESC_SOH_3134
	picture = GFX_evt_cathedral_indian_group
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3134 # Next challenge!
		
		prestige = 25
		
		narrative_event = { id = soh.3135 days = 1 }
	}
}

# You reach the Sword of Serpents
narrative_event = {
	id = soh.3135
	title = EVTTITLE_SOH_3135
	desc = EVTDESC_SOH_3135
	picture = GFX_evt_lunatic
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		k_papal_state = {
			holder_scope = {
				create_character = {
					age = 50
					female = no
					culture = rajput
					religion = hindu
					random_traits = no
					
					attributes = {
						diplomacy = 4
						martial = 8
						stewardship = 6
						intrigue = 8
						learning = 6
					}
					
					trait = brilliant_strategist
					trait = duelist
					trait = lunatic
					trait = kshatriya
					trait = paranoid
				}
				new_character = {
					give_nickname = nick_sword_of_serpents
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					
					save_event_target_as = sword_of_serpents
					set_character_flag = ai_flag_refuse_concubinage
					set_character_flag = ai_flag_refuse_marriage
					set_character_flag = ai_flag_refuse_conversion
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_3135 # I challenge you!
		
		# Go to Duel
		# Go directly to Duel
		# Do not pass "Go"
		# Do not collect 200 gold
		
		save_event_target_as = combatant_1
		set_character_flag = wotrs_the_very_best_duel
		
		#log = "[Root.GetBestName] is fighting one of the Six!"
		
		event_target:sword_of_serpents = {
			save_event_target_as = combatant_2
		}
		
		character_event = {	id = HFP.10100 } # The duel is fought!
	}
}

# Check outcome
character_event = {
	id = soh.3136
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				has_character_flag = wotrs_the_very_best_duel_won
			}
			
			character_event = { id = soh.3137 days = 1 } # You won
		}
		
		else = {
			character_event = { id = soh.3138 days = 1 } # You lost
		}
	}
}

# You won
character_event = {
	id = soh.3137
	desc = EVTDESC_SOH_3137
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		#log = "[Root.GetBestName] won against one of the Six!"
		
		event_target:sword_of_serpents = {
			set_character_flag = not_the_very_best # Can't get the quest chain
		}
	}
	
	option = {
		name = EVTOPTA_SOH_3137 # Well fought, and farewell!
		
		event_target:sword_of_serpents = {
			leave_court_and_die_effect = yes
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = cruel
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3137 # I could use a man like you at my side!
		
		event_target:sword_of_serpents = {
			add_friend = ROOT
			
			set_character_flag = special_marshal
			set_character_flag = special_rising_sun_character # Prevents her from getting kicked due to wrong religion
			set_character_flag = proved_myself_to_mentor # He's one of the challenge characters, so of course he's proven herself...
			
			join_society = warriors_of_the_rising_sun
			society_rank_up = 1
			move_character = ROOT
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = cruel
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_SOH_3137 # And this is the price of defeat!
		
		event_target:sword_of_serpents = {
			death = {
				death_reason = death_duel
				killer = ROOT
			}
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			
			trigger = {
				trait = cruel
			}
		}
	}
}

# You lost
character_event = {
	id = soh.3138
	desc = EVTDESC_SOH_3138
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	#immediate = {
	#	log = "[Root.GetBestName] lost to one of the Six!"
	#}
	
	option = {
		name = EVTOPTA_SOH_3138 # Well fought, and farewell!
		
		custom_tooltip = {
			text = fail_the_quest
		}
		
		character_event = { id = soh.3139 days = 180 random = 90 } # Return home
		
		if = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
			}
			
			character_event = { id = soh.3146 } # Fail quest
			
			any_society_member = {
				limit = {
					society_member_of = warriors_of_the_rising_sun
					ai = no
				}
				
				character_event = { id = soh.3145 } # Inform the society
			}
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = brave
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3138 # I'd rather die than live a failure!
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			
			character_event = { id = soh.3145 } # Inform the society
		}
		
		death = {
			death_reason = death_duel
			killer = event_target:sword_of_serpents
		}
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOT = {
					trait = craven
				}
			}
		}
	}
	
	after = {
		event_target:sword_of_serpents = {
			leave_court_and_die_effect = yes
		}
	}
}

### Returned home

# You're back home between sub-chains (or after failing)
character_event = {
	id = soh.3139
	desc = EVTDESC_SOH_3139
	picture = GFX_evt_relaxed_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3139 # It is good to be home
		
		remove_trait = travelling
		
		if = {
			limit = {
				NOT = {
					has_character_flag = not_the_very_best # Failure
				}
			}
			
			character_event = { id = soh.2901 days = 365 random = 730 } # Continue on to the next challenge
		}
		
		clr_character_flag = do_not_disturb
	}
}

### The final opponent - The Unknown Master

# The Unknown Master arrives to challenge you
narrative_event = {
	id = soh.3140
	title = EVTTITLE_SOH_3140
	desc = EVTDESC_SOH_3140
	picture = GFX_evt_china_expansionist
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		k_papal_state = {
			holder_scope = {
				create_character = {
					age = 80
					female = no
					culture = japanese
					religion = shinto
					random_traits = no
					
					attributes = {
						diplomacy = 6
						martial = 12
						stewardship = 4
						intrigue = 4
						learning = 6
					}
					
					trait = brilliant_strategist
					trait = duelist
					trait = brave
					trait = just
					trait = honest
					trait = content
					trait = diligent
				}
				
				new_character = {
					give_nickname = nick_kensei
					add_scarred_high_effect = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					# This is a much harder challenge than the rest!
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					
					save_event_target_as = the_unknown_master
					set_character_flag = ai_flag_refuse_concubinage
					set_character_flag = ai_flag_refuse_marriage
					set_character_flag = ai_flag_refuse_conversion
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_3140 # We fight to the death!
		
		# Go to Duel
		# Go directly to Duel
		# Do not pass "Go"
		# Do not collect 200 gold
		
		save_event_target_as = combatant_1
		set_character_flag = wotrs_the_very_best_duel
		set_character_flag = rising_sun_unknown_master
		
		#log = "[Root.GetBestName] is fighting the Unknown Master!"
		
		event_target:the_unknown_master = {
			save_event_target_as = combatant_2
		}
		
		character_event = {	id = HFP.10100 } # The duel is fought!
	}
	
	option = {
		name = EVTOPTB_SOH_3140 # I'd rather fail the quest!
		
		custom_tooltip = {
			text = fail_the_quest
		}
		
		add_trait_fully_craven_effect = yes
		
		prestige = -1000 # You quit at the very end!
		
		change_society_currency = -1000 # You clearly lack Honor! Are you perhaps one of the Kara-Khitai?
		
		set_character_flag = not_the_very_best # You are a failure!
		
		hidden_tooltip = {
			event_target:the_unknown_master = {
				leave_court_and_die_effect = yes
			}
		}
		
		if = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
			}
			
			character_event = { id = soh.3146 } # Fail quest
			
			any_society_member = {
				limit = {
					society_member_of = warriors_of_the_rising_sun
					ai = no
				}
				
				character_event = { id = soh.3145 } # Inform the society
			}
		}
		
		ai_chance = {
			factor = 0 # The AI should fight the last duel, come what may!
		}
	}
}

# Check outcome
character_event = {
	id = soh.3141
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				has_character_flag = wotrs_the_very_best_duel_won
			}
			
			narrative_event = { id = soh.3142 days = 1 } # You won
		}
		
		else = {
			narrative_event = { id = soh.3144 days = 1 } # You lost
		}
	}
}

### You are victorious against the Unknown Master!

# Victory is yours!
narrative_event = {
	id = soh.3142
	title = EVTTITLE_SOH_3142
	desc = EVTDESC_SOH_3142
	picture = GFX_evt_china_expansionist
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	#immediate = {
	#	log = "[Root.GetBestName] won against the Unknown Master!"
	#}
	
	option = {
		name = EVTOPTA_SOH_3142 # I salute you!
		
		prestige = 1000
		
		set_character_flag = i_am_the_very_best
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			
			character_event = { id = soh.3143 } # Inform the society
		}
		
		event_target:the_unknown_master = {
			death = {
				death_reason = death_duel
				killer = ROOT
			}
		}
		
		if = { 
			limit = { 
				is_female = no 
			}
			
			create_bloodline = {
				type = the_very_best_bloodline
			}
		}
		
		else = {
			create_bloodline = {
				type = the_very_best_bloodline
				inheritance = matrilineal
			}
		}
		
		if = {
			limit = {
				can_apply_super_cool_nickname_trigger = yes
			}
			
			give_nickname = nick_kensei
		}
	}
}

# Inform everyone in the WotRS
character_event = {
	id = soh.3143
	desc = EVTDESC_SOH_3143
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3143 # Impressive!
	}
}

### You have lost against the Unknown Master

# You are defeated!
narrative_event = {
	id = soh.3144
	title = EVTTITLE_SOH_3144
	desc = EVTDESC_SOH_3144
	picture = GFX_evt_bloody_man
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	#immediate = {
	#	log = "[Root.GetBestName] lost to the Unknown Master!"
	#}
	
	option = {
		name = EVTOPTA_SOH_3144 # So it ends...
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			
			character_event = { id = soh.3145 } # Inform the society
		}
		
		death = {
			death_reason = death_duel
			killer = event_target:the_unknown_master
		}
	}
	
	after = {
		event_target:the_unknown_master = {
			leave_court_and_die_effect = yes
		}
	}
}

### You have failed in your quest!

# Inform others that you failed
character_event = {
	id = soh.3145
	desc = EVTDESC_SOH_3145
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3145 # Pathetic!
	}
}

# You failed (hidden)
character_event = {
	id = soh.3146
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		random_society_member = {
			limit = {
				OR = {
					AND = {
						is_society_grandmaster = yes
						NOT = {
							character = ROOT
						}
					}
					
					AND = {
						society_rank == 3
						ROOT = {
							is_society_grandmaster = yes
						}
					}
				}
				
				same_society_as = ROOT
			}
			
			preferred_limit = {
				any_rival = {
					character = ROOT
				}
			}
			
			save_event_target_as = rising_sun_leader
		}
		
		letter_event = { id = soh.3148 }
	}
}

# You failed!
letter_event = {
	id = soh.3148
	desc = EVTDESC_SOH_3148
	border = GFX_event_letter_frame_war

	portrait = event_target:rising_sun_leader
	
	is_triggered_only = yes

	trigger = {
		has_quest = quest_the_very_best
	}
	
	option = {
		name = EVTOPTA_SOH_3148 # Dishonor on me!
		
		prestige = -500
		set_character_flag = not_the_very_best # You can't go on this quest again!

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}
		clr_quest = quest_the_very_best
		detract_society_currency_major_effect = yes
	}
}

### Being on a quest for the WotRS makes you consider becoming Shugendo

# Become Shugendo?
character_event = {
	id = soh.3149
	desc = EVTDESC_SOH_3149
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3149 # Yes - openly!
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		religion = shugendo
		
		ai_chance = {
			factor = 100
			
			trigger = {
				OR = {
					true_religion = shugendo
					NOT = {
						trait = zealous
					}
				}
				
				NOT = {
					trait = proud
				}
			}
			
			mult_modifier = {
				factor = 0.1
				NOT = {
					true_religion = shugendo
				}
			}
			
			mult_modifier = {
				factor = 0.1
				NAND = {
					true_religion = shugendo
					trait = cynical
				}
			}
			
			mult_modifier = {
				factor = 0.1
				NOT = {
					culture_group = japonic
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3149 # Yes - secretly!
		
		set_secret_religion = shugendo
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = zealous
					trait = proud
				}
			}
			
			mult_modifier = {
				factor = 0.1
				NOT = {
					trait = cynical
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_SOH_3149 # No!
		
		piety = 25
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					true_religion = shugendo
					trait = zealous
				}
			}
		}
	}
}

### Being on a quest for the WotRS makes you consider becoming Koshin

# Become Koshin?
character_event = {
	id = soh.3150
	desc = EVTDESC_SOH_3150
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_3150 # Yes - openly!
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		religion = koshin
		
		ai_chance = {
			factor = 100
			
			trigger = {
				OR = {
					true_religion = koshin
					NOT = {
						trait = zealous
					}
				}
				
				NOT = {
					trait = proud
				}
			}
			
			mult_modifier = {
				factor = 0.1
				NOT = {
					true_religion = koshin
				}
			}
			
			mult_modifier = {
				factor = 0.1
				NAND = {
					true_religion = koshin
					trait = cynical
				}
			}
			
			mult_modifier = {
				factor = 0.1
				NOT = {
					culture_group = japonic
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_3150 # Yes - secretly!
		
		set_secret_religion = koshin
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NOR = {
					trait = zealous
					trait = proud
				}
			}
			
			mult_modifier = {
				factor = 0.1
				NOT = {
					trait = cynical
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_SOH_3150 # No!
		
		piety = 25
		
		character_event = { id = soh.2904 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			
			trigger = {
				NAND = {
					true_religion = koshin
					trait = zealous
				}
			}
		}
	}
}