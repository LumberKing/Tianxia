##########################################
#
# Conversion Events for Sons of Heaven
#
# ID SoH.xxx - SoH.xxx are reserved
#
##########################################

# Written by Hansol "LumberKing" Lee

namespace = SoH

# Converted to Confucianism/Taoism - choose philosophy
character_event = {
	id = SoH.110
	desc = EVTDESC_SoH_110
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SoH_110
		add_trait = agriculturalist
	}

	option = {
		name = EVTOPTB_SoH_110
		add_trait = diplomat
	}

	option = {
		name = EVTOPTC_SoH_110
		add_trait = legalist
	}
	option = {
		name = EVTOPTD_SoH_110
		add_trait = logician
	}

	option = {
		name = EVTOPTE_SoH_110
		add_trait = militarist
	}

	option = {
		name = EVTOPTF_SoH_110
		add_trait = mohist
	}
	option = {
		name = EVTOPTG_SoH_110
		add_trait = naturalist
	}

	option = {
		name = EVTOPTH_SoH_110
		add_trait = syncretist
	}

	option = {
		name = EVTOPTI_SoH_110
		add_trait = yangist
	}
}

# Converted to Amidism - choose branch
character_event = {
	id = SoH.111
	desc = EVTDESC_SoH_111
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SoH_111
		add_trait = amitabha_buddhist
	}

	option = {
		name = EVTOPTB_SoH_111
		add_trait = dhyana_buddhist
	}
}

# Converted within Hinduism - choose philosophy
character_event = {
	id = SoH.115
	desc = EVTDESC_SoH_115
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SoH_110
		trigger = {
			NOT = { trait = agriculturalist }
		}
		add_trait = agriculturalist
		if = {
			limit = { ai = no }
			chronicle = {
				entry = CHRONICLE_CHANGE_PHILOSOPHY_TO_AGRICULTURALIST
				picture = GFX_evt_bishop_hindu
			}
		}
	}

	option = {
		name = EVTOPTB_SoH_110
		trigger = {
			NOT = { trait = diplomat }
		}
		add_trait = diplomat
		if = {
			limit = { ai = no }
			chronicle = {
				entry = CHRONICLE_CHANGE_PHILOSOPHY_TO_DIPLOMAT
				picture = GFX_evt_bishop_hindu
			}
		}
	}

	option = {
		name = EVTOPTC_SoH_110
		trigger = {
			NOT = { trait = legalist }
		}
		add_trait = legalis
		if = {
			limit = { ai = no }
			chronicle = {
				entry = CHRONICLE_CHANGE_PHILOSOPHY_TO_LEGALIST
				picture = GFX_evt_bishop_hindu
			}
		}
	}
	
	option = {
		name = EVTOPTD_SoH_110
		trigger = {
			NOT = { trait = logician }
		}
		add_trait = logician
		if = {
			limit = { ai = no }
			chronicle = {
				entry = CHRONICLE_CHANGE_PHILOSOPHY_TO_LOGICIAN
				picture = GFX_evt_bishop_hindu
			}
		}
	}

	option = {
		name = EVTOPTE_SoH_110
		trigger = {
			NOT = { trait = militarist }
		}
		add_trait = militarist
		if = {
			limit = { ai = no }
			chronicle = {
				entry = CHRONICLE_CHANGE_PHILOSOPHY_TO_MILITARIST
				picture = GFX_evt_bishop_hindu
			}
		}
	}

	option = {
		name = EVTOPTF_SoH_110
		trigger = {
			NOT = { trait = mohist }
		}
		add_trait = mohist
		if = {
			limit = { ai = no }
			chronicle = {
				entry = CHRONICLE_CHANGE_PHILOSOPHY_TO_MOHIST
				picture = GFX_evt_bishop_hindu
			}
		}
	}
	
	option = {
		name = EVTOPTG_SoH_110
		trigger = {
			NOT = { trait = naturalist }
		}
		add_trait = naturalist
		if = {
			limit = { ai = no }
			chronicle = {
				entry = CHRONICLE_CHANGE_PHILOSOPHY_TO_NATURALIST
				picture = GFX_evt_bishop_hindu
			}
		}
	}

	option = {
		name = EVTOPTH_SoH_110
		trigger = {
			NOT = { trait = syncretist }
		}
		add_trait = syncretist
		if = {
			limit = { ai = no }
			chronicle = {
				entry = CHRONICLE_CHANGE_PHILOSOPHY_TO_SYNCRETIST
				picture = GFX_evt_bishop_hindu
			}
		}
	}

	option = {
		name = EVTOPTI_SoH_110
		trigger = {
			NOT = { trait = yangist }
		}
		add_trait = yangist
		if = {
			limit = { ai = no }
			chronicle = {
				entry = CHRONICLE_CHANGE_PHILOSOPHY_TO_YANGIST
				picture = GFX_evt_bishop_hindu
			}
		}
	}
}

# Converted within Amidism - choose branch
character_event = {
	id = SoH.116
	desc = EVTDESC_SoH_116
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SoH_111
		trigger = {
			NOT = { trait = amitabha_buddhist }
		}
		add_trait = amitabha_buddhist
		if = {
			limit = { ai = no }
			chronicle = {
				entry = CHRONICLE_CHANGE_BUDDHIST_BRANCH_TO_AMITABHA
				picture = GFX_evt_bishop_indian_group
			}
		}
	}

	option = {
		name = EVTOPTB_SoH_111
		trigger = {
			NOT = { trait = dhyana_buddhist }
		}
		add_trait = dhyana_buddhist
		if = {
			limit = { ai = no }
			chronicle = {
				entry = CHRONICLE_CHANGE_BUDDHIST_BRANCH_TO_DHYANA
				picture = GFX_evt_bishop_indian_group
			}
		}
	}
}

# After diplomacy action conversion
character_event = {
	id = SoH.120

	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				FROMFROMFROM = { trait = agriculturalist }
			}
			add_trait = agriculturalist
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = diplomat }
			}
			add_trait = diplomat
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = legalist }
			}
			add_trait = legalist
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = logician }
			}
			add_trait = logician
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = militarist }
			}
			add_trait = militarist
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = mohist }
			}
			add_trait = mohist
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = naturalist }
			}
			add_trait = naturalist
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = syncretist }
			}
			add_trait = syncretist
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = yangist }
			}
			add_trait = yangist
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = amitabha_buddhist }
			}
			add_trait = amitabha_buddhist
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = dhyana_buddhist }
			}
			add_trait = dhyana_buddhist
		}
	}
}

# After conversion, set religious branch randomly
character_event = {
	id = SoH.30120

	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { 
				OR = { 
					religion = confucian
					religion = taoist
				}
			}
			random_list = {
				10 = { add_trait = agriculturalist }
				10 = { add_trait = diplomat }
				10 = { add_trait = legalist }
				10 = { add_trait = logician }
				10 = { add_trait = militarist }
				10 = { add_trait = mohist }
				10 = { add_trait = naturalist }
				10 = { add_trait = syncretist }
				10 = { add_trait = yangist }
			}
		}
		if = {
			limit = { religion = amidist }
			random_list = {
				10 = { add_trait = amitabha_buddhist }
				10 = { add_trait = dhyana_buddhist }
			}
		}
	}
}

# After conversion, set religious branch to liege's branch
character_event = {
	id = SoH.30121

	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				FROMFROMFROM = { trait = agriculturalist }
			}
			add_trait = agriculturalist
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = diplomat }
			}
			add_trait = legalist
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = legalist }
			}
			add_trait = legalist
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = logician }
			}
			add_trait = logician
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = militarist }
			}
			add_trait = militarist
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = mohist }
			}
			add_trait = mohist
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = naturalist }
			}
			add_trait = naturalist
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = syncretist }
			}
			add_trait = syncretist
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = yangist }
			}
			add_trait = yangist
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = amitabha_buddhist }
			}
			add_trait = amitabha_buddhist
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = dhyana_buddhist }
			}
			add_trait = dhyana_buddhist
		}
	}
}

# After conversion, set religious branch to FROM's branch
character_event = {
	id = SoH.30122

	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				FROMFROMFROM = { trait = agriculturalist }
			}
			add_trait = agriculturalist
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = diplomat }
			}
			add_trait = legalist
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = legalist }
			}
			add_trait = legalist
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = logician }
			}
			add_trait = logician
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = militarist }
			}
			add_trait = militarist
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = mohist }
			}
			add_trait = mohist
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = naturalist }
			}
			add_trait = naturalist
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = syncretist }
			}
			add_trait = syncretist
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = yangist }
			}
			add_trait = yangist
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = amitabha_buddhist }
			}
			add_trait = amitabha_buddhist
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = dhyana_buddhist }
			}
			add_trait = dhyana_buddhist
		}
	}
}
