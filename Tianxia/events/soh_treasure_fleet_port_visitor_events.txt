# Treasure Fleet port events for visitors
# by Silverswee(e)per

namespace = soh

# IDs 8801-9000 reserved

##### Port events setup

# Main setup event
province_event = {
	id = soh.8801
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		d_treasure_fleet = {
			holder_scope = {
				if = {
					limit = {
						is_actually_incapable_trigger = no
					}
					
					character_event = { id = soh.8802 } # Adult event selection
				}
			}
		}
		
		e_china = {
			holder_scope = {
				any_realm_lord = {
					if = {
						limit = {
							trait = treasure_fleet_voyage
							NOT = {
								has_character_flag = left_treasure_fleet_voyage
							}
							is_actually_incapable_trigger = no
						}
						
						if = {
							limit = {
								is_adult = yes
							}
							
							character_event = { id = soh.8802 } # Adult event selection
						}
						
						else = {
							character_event = { id = soh.8803 } # Child event selection
						}
					}
					any_courtier = {
						limit = {
							trait = treasure_fleet_voyage
							NOT = {
								has_character_flag = left_treasure_fleet_voyage
							}
							is_actually_incapable_trigger = no
							is_landed = no
						}
						
						if = {
							limit = {
								is_adult = yes
							}
							
							character_event = { id = soh.8802 } # Adult event selection
						}
						
						else = {
							character_event = { id = soh.8803 } # Child event selection
						}
					}
				}
				
				any_courtier = {
					limit = {
						trait = treasure_fleet_voyage
						NOT = {
							has_character_flag = left_treasure_fleet_voyage
						}
						is_actually_incapable_trigger = no
						is_landed = no
					}
					
					if = {
						limit = {
							is_adult = yes
						}
						
						character_event = { id = soh.8802 } # Adult event selection
					}
					
					else = {
						character_event = { id = soh.8803 } # Child event selection
					}
				}
			}
		}
	}
}

# Adult event selection
character_event = {
	id = soh.8802
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		clr_character_flag = treasure_fleet_planned_invasion # You don't benefit from any earlier invasion plans at another destination...
		
		if = {
			limit = {
				can_go_on_treasure_fleet_pilgrimage_trigger = yes # TIANXIATODO
			}
			
			character_event = { id = soh.9001 } # Go on a pilgrimage?
		}
		
		else = {
			random_list = {
				5 = {
					# TIANXIATODO: Check if there's a suitable province
					# Encourage rebellious locals?
					character_event = { id = soh.8804 days = 5 random = 10 }
				}
				
				10 = {
					trigger = {
						has_dlc = "Jade Dragon"
					}
					
					# TIANXIATODO: Check if there's a suitable ruler
					# TIANXIATODO: Check if the TF has enough artifacts left
					
					# Offer local ruler an artifact for gold?
					character_event = { id = soh.8813 days = 5 random = 10 }
				}
				
				1 = {
					trigger = {
						has_dlc = "Jade Dragon"
					}
					
					# TIANXIATODO: Check if there's a suitable ruler
					
					# Offer local ruler a Chinese Peace Deal for gold?
					character_event = { id = soh.8818 days = 5 random = 10 }
				}
				
				25 = {
					trigger = {
						has_dlc = "Jade Dragon"
					}
					
					# TIANXIATODO: Check if there's a suitable ruler
					
					# Offer local ruler Grace for gold?
					character_event = { id = soh.8822 days = 5 random = 10 }
				}
				
				10 = {
					trigger = {
						has_dlc = "Jade Dragon"
					}
					
					# TIANXIATODO: Check if there's a suitable ruler
					
					# Offer local tributary a looser contract for gold?
					character_event = { id = soh.8826 days = 5 random = 10 }
				}
				
				25 = {
					# TIANXIATODO: Check if there's a suitable ruler
					
					# Offer local ruler a Chinese character for gold?
					character_event = { id = soh.8830 days = 5 random = 10 }
				}
				
				10 = {
					trigger = {
						has_dlc = "Jade Dragon"
					}
					
					# TIANXIATODO: Check if there's a suitable ruler
					# TIANXIATODO: Check supplies
					
					# Resupply - seize supplies or ask nicely?
					character_event = { id = soh.8844 days = 5 random = 10 }
				}
				
				1 = {
					trigger = {
						has_dlc = "Jade Dragon"
					}
					
					# TIANXIATODO: Check if there's a suitable ruler
					
					# Establish tributary
					character_event = { id = soh.8854 days = 5 random = 10 }
				}
				
				10 = {
					trigger = {
						has_dlc = "Jade Dragon"
					}
					
					# TIANXIATODO: Check if there's a suitable ruler
					
					# Offer a JD province modifier for gold
					character_event = { id = soh.8858 days = 5 random = 10 }
				}
				
				5 = {
					# Gain local culture/religion noble
					character_event = { id = soh.8867 days = 5 random = 10 }
				}
				
				25 = {
					trigger = {
						NOT = {
							trait = zealous
						}
					}
					
					# TIANXIATODO: Check if there's a sensible local religion
					
					# Gain sympathy for a local religion
					character_event = { id = soh.8868 days = 5 random = 10 }
				}
				
				1 = {
					# TIANXIATODO: Check if there's a sensible local
					
					# Dissatisfied relative of local ruler asks to join Treasure Fleet
					character_event = { id = soh.8869 days = 5 random = 10 }
				}
				
				10 = {
					trigger = {
						trait = architect
					}
					
					# Take an interest in local architecture
					character_event = { id = soh.8871 days = 5 random = 10 }
				}
				
				10 = {
					trigger = {
						trait = architect
					}
					
					# Help local architects
					character_event = { id = soh.8872 days = 5 random = 10 }
				}
				
				10 = {
					trigger = {
						trait = gardener
					}
					
					# Take an interest in local flora
					character_event = { id = soh.8873 days = 5 random = 10 }
				}
				
				10 = {
					trigger = {
						trait = hunter
					}
					
					# Take an interest in local fauna
					character_event = { id = soh.8874 days = 5 random = 10 }
				}
				
				10 = {
					trigger = {
						trait = hunter
					}
					
					# Tell tall tales of Chinese beasts?
					character_event = { id = soh.8875 days = 5 random = 10 }
				}
				
				10 = {
					# TIANXIATODO: Check if there's a suitable character to tumble
					mult_modifier = {
						factor = 2
						OR = {
							trait = master_seducer
							trait = master_seductress
						}
					}
					
					# Tumble opportunity with local courtier
					character_event = { id = soh.8876 days = 5 random = 10 }
				}
				
				10 = {
					trigger = {
						trait = duelist
					}
					
					# Duelist gets to duel
					character_event = { id = soh.8882 days = 5 random = 10 }
				}
				
				10 = {
					trigger = {
						trait = game_master
					}
					
					# Game master tries new games
					character_event = { id = soh.8886 days = 5 random = 10 }
				}
				
				10 = {
					trigger = {
						trait = game_master
					}
					
					# Game master shows off Chinese games
					character_event = { id = soh.8889 days = 5 random = 10 }
				}
				
				10 = {
					trigger = {
						trait = strategist
					}
					
					# Strategist might strategize as to how to invade the area
					character_event = { id = soh.8892 days = 5 random = 10 }
				}
				10 = {
					trigger = {
						trait = scholar
					}
					
					# Scholar engages in scholarship
					character_event = { id = soh.8893 days = 5 random = 10 }
				}
				
				5 = {
					mult_modifier = {
						factor = 0.1
						trait = temperate
					}
					
					mult_modifier = {
						factor = 2
						trait = drunkard
					}
					
					# Drinking with locals
					character_event = { id = soh.8896 days = 5 random = 10 }
				}
				
				5 = {
					trigger = {
						trait = lunatic
					}
					
					# Lunatic is lunatic
					character_event = { id = soh.8904 days = 5 random = 10 }
				}
				
				5 = {
					trigger = {
						trait = lunatic
						controls_religion = no
					}
					
					# Lunatic might go native
					character_event = { id = soh.8905 days = 5 random = 10 }
				}
				
				10 = {
					mult_modifier = {
						factor = 2
						trait = stressed
					}
					
					# Too much to do while in port
					character_event = { id = soh.8906 days = 5 random = 10 }
				}
				
				5 = {
					trigger = {
						trait = physician
					}
					
					# Physician gets to teach locals
					character_event = { id = soh.8907 days = 5 random = 10 }
				}
				
				5 = {
					trigger = {
						trait = physician
					}
					
					# Physician gets to help locals
					character_event = { id = soh.8908 days = 5 random = 10 }
				}
				
				5 = {
					trigger = {
						OR = {
							trait = attractive
							trait = groomed
						}
						is_ill = no
						NOT = {
							trait = disfigured
						}
					}
					
					mult_modifier = {
						factor = 0.1
						is_maimed_trigger = yes
					}
					
					mult_modifier = {
						factor = 0.1
						OR = {
							trait = ugly
							trait = uncouth
						}
					}
					
					mult_modifier = {
						factor = 2
						OR = {
							trait = master_seducer
							trait = master_seductress
						}
					}
					
					mult_modifier = {
						factor = 0.1
						OR = {
							trait = clubfooted
							trait = dwarf
							trait = harelip
							trait = hunchback
							trait = inbred
						}
					}
					
					# Attractive character is admired by locals... and might perhaps get to tumble someone
					character_event = { id = soh.8909 days = 5 random = 10 }
				}
				
				10 = {
					trigger = {
						NOT = {
							trait = groomed
						}
					}
					
					mult_modifier = {
						factor = 0.1
						has_character_flag = treasure_fleet_got_groomed_uncouth_event
					}
					
					set_character_flag = treasure_fleet_got_groomed_uncouth_event
					
					# Become more Groomed
					character_event = { id = soh.8910 days = 5 random = 10 }
				}
				
				10 = {
					trigger = {
						NOT = {
							trait = greedy
						}
					}
					
					# Share China's prosperity?
					character_event = { id = soh.8911 days = 5 random = 10 }
				}
				
				10 = {
					trigger = {
						NOT = {
							trait = proud
						}
					}
				
					mult_modifier = {
						factor = 0.1
						has_character_flag = treasure_fleet_got_humble_proud_event
					}
					
					set_character_flag = treasure_fleet_got_humble_proud_event
					
					# Consider local ways - they're maybe not so bad...
					character_event = { id = soh.8912 days = 5 random = 10 }
				}
				
				10 = {
					trigger = {
						NOT = {
							trait = humble
						}
					}
				
					mult_modifier = {
						factor = 0.1
						has_character_flag = treasure_fleet_got_humble_proud_event
					}
					
					set_character_flag = treasure_fleet_got_humble_proud_event
					
					# Consider local ways - they're clearly inferior!
					character_event = { id = soh.8913 days = 5 random = 10 }
				}
				
				10 = {
					mult_modifier = {
						factor = 2
						trait = gluttonous
					}
				
					mult_modifier = {
						factor = 0.1
						has_character_flag = treasure_fleet_got_temperate_gluttonous_event
					}
					
					set_character_flag = treasure_fleet_got_temperate_gluttonous_event
					
					# Trying new food - become more Gluttonous
					character_event = { id = soh.8914 days = 5 random = 10 }
				}
				
				10 = {
					trigger = {
						NOT = {
							trait = temperate
						}
					}
					
					mult_modifier = {
						factor = 2
						trait = gluttonous
					}
					
					# Trying new food - become fatter
					character_event = { id = soh.8915 days = 5 random = 10 }
				}
				
				10 = {
					trigger = {
						NOT = {
							trait = diligent
						}
					}
					
					mult_modifier = {
						factor = 2
						trait = slothful
					}
					
					mult_modifier = {
						factor = 2
						trait = shy
					}
					
					mult_modifier = {
						factor = 2
						trait = content
					}
					
					# Just stay on the ship
					character_event = { id = soh.8916 days = 5 random = 10 }
				}
				
				10 = {
					# TIANXIATODO: Check if there's a sufficiently powerful local ruler
					mult_modifier = {
						factor = 0.1
						trait = kind
					}
					
					# Envious of local ruler
					character_event = { id = soh.8917 days = 5 random = 10 }
				}
				
				10 = {
					mult_modifier = {
						factor = 2
						trait = just
					}
					
					# Studying local laws
					character_event = { id = soh.8918 days = 5 random = 10 }
				}
				
				10 = {
					mult_modifier = {
						factor = 2
						trait = arbitrary
					}
					# Flaunt local laws?
					character_event = { id = soh.8919 days = 5 random = 10 }
				}
				
				25 = {
					trigger = {
						has_dlc = "Jade Dragon"
						NOT = {
							trait = honest
						}
						trait = greedy
					}
					
					# TIANXIATODO: Check if at a suitable location
					
					# Pretending to offer Grace - gain gold
					character_event = { id = soh.8920 days = 5 random = 10 }
				}
				
				25 = {
					trigger = {
						trait = paranoid
					}
					
					# Paranoid character is certain they're being followed
					character_event = { id = soh.8921 days = 5 random = 10 }
				}
				
				1 = {
					trigger = {
						trait = paranoid
					}
					
					mult_modifier = {
						factor = 0.1
						has_character_flag = treasure_fleet_got_paranoid_trusting_event
					}
					
					set_character_flag = treasure_fleet_got_paranoid_trusting_event
					
					# Paranoid character feels safe
					
					character_event = { id = soh.8922 days = 5 random = 10 }
				}
				
				5 = {
					# TIANXIATODO: Check if locals actually have a different religion
					mult_modifier = {
						factor = 5
						trait = zealous
					}
					
					# Zealot is zealous
					character_event = { id = soh.8923 days = 5 random = 10 }
				}
				
				5 = {
					# TIANXIATODO: Check if there's a suitable local province
					trigger = {
						trait = faqih
					}
					
					# Faqih impresses local Muslims
					character_event = { id = soh.8924 days = 5 random = 10 }
				}
				
				200 = {
					mult_modifier = {
						factor = 2
						ai = yes
					}
					
					# Nothing
				}
			}
		}
	}
}

# Child event selection
character_event = {
	id = soh.8803
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		random_list = {
			25 = {
				trigger = {
					age >= 12
				}
				# TIANXIATODO: Check if there's a suitable child
				
				# Child meets local child - instant attraction
				character_event = { id = soh.8925 days = 5 random = 10 }
			}
			
			25 = {
				# TIANXIATODO: Check if there's a suitable child
				
				# Child meets local child - made a friend
				character_event = { id = soh.8927 days = 5 random = 10 }
			}
			
			25 = {
				# TIANXIATODO: Check if there's a suitable child
				
				# Child meets local child - nothing of note
				character_event = { id = soh.8931 days = 5 random = 10 }
			}
			
			25 = {
				# TIANXIATODO: Check if there's a suitable child
				
				# Child meets local child - made a rival
				character_event = { id = soh.8933 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_port_diplomacy
					}
				}
				
				mult_modifier = {
					factor = 2
					has_focus = focus_ed_diplomacy
				}
				
				# Diplomacy boost
				character_event = { id = soh.8935 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_port_martial
					}
				}
				
				mult_modifier = {
					factor = 2
					has_focus = focus_ed_martial
				}
				
				# Martial boost
				character_event = { id = soh.8936 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_port_stewardship
					}
				}
				
				mult_modifier = {
					factor = 2
					has_focus = focus_ed_stewardship
				}
				
				# Stewardship boost
				character_event = { id = soh.8937 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_port_intrigue
					}
				}
				
				mult_modifier = {
					factor = 2
					has_focus = focus_ed_intrigue
				}
				
				# Intrigue boost
				character_event = { id = soh.8938 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					NOT = {
						has_character_flag = treasure_fleet_port_learning
					}
				}
				
				mult_modifier = {
					factor = 2
					has_focus = focus_ed_learning
				}
				
				# Learning boost
				character_event = { id = soh.8939 days = 5 random = 10 }
			}
			
			5 = {
				trigger = {
					age >= 6
					age < 12
					NOR = {
						trait = affectionate
						calc_true_if = {
							amount >= 4
							trait = affectionate
							trait = playful
							trait = haughty
							trait = rowdy
							trait = conscientious
							trait = fussy
							trait = brooding
							trait = indolent
							trait = willful
							trait = curious
							trait = idolizer
							trait = timid
						}
					}
				}
				
				mult_modifier = {
					factor = 0.2
					calc_true_if = {
						amount >= 3
						trait = affectionate
						trait = playful
						trait = haughty
						trait = rowdy
						trait = conscientious
						trait = fussy
						trait = brooding
						trait = indolent
						trait = willful
						trait = curious
						trait = idolizer
						trait = timid
					}
				}
				
				mult_modifier = {
					factor = 0.5
					calc_true_if = {
						amount >= 2
						trait = affectionate
						trait = playful
						trait = haughty
						trait = rowdy
						trait = conscientious
						trait = fussy
						trait = brooding
						trait = indolent
						trait = willful
						trait = curious
						trait = idolizer
						trait = timid
					}
				}
				
				# Child becomes Affectionate
				character_event = { id = soh.8940 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					age >= 6
					age < 12
					NOR = {
						trait = playful
						calc_true_if = {
							amount >= 4
							trait = affectionate
							trait = playful
							trait = haughty
							trait = rowdy
							trait = conscientious
							trait = fussy
							trait = brooding
							trait = indolent
							trait = willful
							trait = curious
							trait = idolizer
							trait = timid
						}
					}
				}
				
				mult_modifier = {
					factor = 0.2
					calc_true_if = {
						amount >= 3
						trait = affectionate
						trait = playful
						trait = haughty
						trait = rowdy
						trait = conscientious
						trait = fussy
						trait = brooding
						trait = indolent
						trait = willful
						trait = curious
						trait = idolizer
						trait = timid
					}
				}
				
				mult_modifier = {
					factor = 0.5
					calc_true_if = {
						amount >= 2
						trait = affectionate
						trait = playful
						trait = haughty
						trait = rowdy
						trait = conscientious
						trait = fussy
						trait = brooding
						trait = indolent
						trait = willful
						trait = curious
						trait = idolizer
						trait = timid
					}
				}
				
				# Child becomes Playful
				character_event = { id = soh.8941 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					age >= 6
					age < 12
					NOR = {
						trait = haughty
						calc_true_if = {
							amount >= 4
							trait = affectionate
							trait = playful
							trait = haughty
							trait = rowdy
							trait = conscientious
							trait = fussy
							trait = brooding
							trait = indolent
							trait = willful
							trait = curious
							trait = idolizer
							trait = timid
						}
					}
				}
				
				mult_modifier = {
					factor = 0.2
					calc_true_if = {
						amount >= 3
						trait = affectionate
						trait = playful
						trait = haughty
						trait = rowdy
						trait = conscientious
						trait = fussy
						trait = brooding
						trait = indolent
						trait = willful
						trait = curious
						trait = idolizer
						trait = timid
					}
				}
				
				mult_modifier = {
					factor = 0.5
					calc_true_if = {
						amount >= 2
						trait = affectionate
						trait = playful
						trait = haughty
						trait = rowdy
						trait = conscientious
						trait = fussy
						trait = brooding
						trait = indolent
						trait = willful
						trait = curious
						trait = idolizer
						trait = timid
					}
				}
				
				# Child becomes Haughty
				character_event = { id = soh.8942 days = 5 random = 10 }
			}
			
			5 = {
				trigger = {
					age >= 6
					age < 12
					NOR = {
						trait = rowdy
						calc_true_if = {
							amount >= 4
							trait = affectionate
							trait = playful
							trait = haughty
							trait = rowdy
							trait = conscientious
							trait = fussy
							trait = brooding
							trait = indolent
							trait = willful
							trait = curious
							trait = idolizer
							trait = timid
						}
					}
				}
				
				mult_modifier = {
					factor = 0.2
					calc_true_if = {
						amount >= 3
						trait = affectionate
						trait = playful
						trait = haughty
						trait = rowdy
						trait = conscientious
						trait = fussy
						trait = brooding
						trait = indolent
						trait = willful
						trait = curious
						trait = idolizer
						trait = timid
					}
				}
				
				mult_modifier = {
					factor = 0.5
					calc_true_if = {
						amount >= 2
						trait = affectionate
						trait = playful
						trait = haughty
						trait = rowdy
						trait = conscientious
						trait = fussy
						trait = brooding
						trait = indolent
						trait = willful
						trait = curious
						trait = idolizer
						trait = timid
					}
				}
				
				# Child becomes Rowdy
				character_event = { id = soh.8943 days = 5 random = 10 }
			}
			
			5 = {
				trigger = {
					age >= 6
					age < 12
					NOR = {
						trait = conscientious
						calc_true_if = {
							amount >= 4
							trait = affectionate
							trait = playful
							trait = haughty
							trait = rowdy
							trait = conscientious
							trait = fussy
							trait = brooding
							trait = indolent
							trait = willful
							trait = curious
							trait = idolizer
							trait = timid
						}
					}
				}
				
				mult_modifier = {
					factor = 0.2
					calc_true_if = {
						amount >= 3
						trait = affectionate
						trait = playful
						trait = haughty
						trait = rowdy
						trait = conscientious
						trait = fussy
						trait = brooding
						trait = indolent
						trait = willful
						trait = curious
						trait = idolizer
						trait = timid
					}
				}
				
				mult_modifier = {
					factor = 0.5
					calc_true_if = {
						amount >= 2
						trait = affectionate
						trait = playful
						trait = haughty
						trait = rowdy
						trait = conscientious
						trait = fussy
						trait = brooding
						trait = indolent
						trait = willful
						trait = curious
						trait = idolizer
						trait = timid
					}
				}
				
				# Child becomes Conscientious
				character_event = { id = soh.8944 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					age >= 6
					age < 12
					NOR = {
						trait = fussy
						calc_true_if = {
							amount >= 4
							trait = affectionate
							trait = playful
							trait = haughty
							trait = rowdy
							trait = conscientious
							trait = fussy
							trait = brooding
							trait = indolent
							trait = willful
							trait = curious
							trait = idolizer
							trait = timid
						}
					}
				}
				
				mult_modifier = {
					factor = 0.2
					calc_true_if = {
						amount >= 3
						trait = affectionate
						trait = playful
						trait = haughty
						trait = rowdy
						trait = conscientious
						trait = fussy
						trait = brooding
						trait = indolent
						trait = willful
						trait = curious
						trait = idolizer
						trait = timid
					}
				}
				
				mult_modifier = {
					factor = 0.5
					calc_true_if = {
						amount >= 2
						trait = affectionate
						trait = playful
						trait = haughty
						trait = rowdy
						trait = conscientious
						trait = fussy
						trait = brooding
						trait = indolent
						trait = willful
						trait = curious
						trait = idolizer
						trait = timid
					}
				}
				
				# Child becomes Fussy
				character_event = { id = soh.8945 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					age >= 6
					age < 12
					NOR = {
						trait = brooding
						calc_true_if = {
							amount >= 4
							trait = affectionate
							trait = playful
							trait = haughty
							trait = rowdy
							trait = conscientious
							trait = fussy
							trait = brooding
							trait = indolent
							trait = willful
							trait = curious
							trait = idolizer
							trait = timid
						}
					}
				}
				
				mult_modifier = {
					factor = 0.2
					calc_true_if = {
						amount >= 3
						trait = affectionate
						trait = playful
						trait = haughty
						trait = rowdy
						trait = conscientious
						trait = fussy
						trait = brooding
						trait = indolent
						trait = willful
						trait = curious
						trait = idolizer
						trait = timid
					}
				}
				
				mult_modifier = {
					factor = 0.5
					calc_true_if = {
						amount >= 2
						trait = affectionate
						trait = playful
						trait = haughty
						trait = rowdy
						trait = conscientious
						trait = fussy
						trait = brooding
						trait = indolent
						trait = willful
						trait = curious
						trait = idolizer
						trait = timid
					}
				}
				
				# Child becomes Brooding
				character_event = { id = soh.8946 days = 5 random = 10 }
			}
			
			5 = {
				trigger = {
					age >= 6
					age < 12
					NOR = {
						trait = indolent
						calc_true_if = {
							amount >= 4
							trait = affectionate
							trait = playful
							trait = haughty
							trait = rowdy
							trait = conscientious
							trait = fussy
							trait = brooding
							trait = indolent
							trait = willful
							trait = curious
							trait = idolizer
							trait = timid
						}
					}
				}
				
				mult_modifier = {
					factor = 0.2
					calc_true_if = {
						amount >= 3
						trait = affectionate
						trait = playful
						trait = haughty
						trait = rowdy
						trait = conscientious
						trait = fussy
						trait = brooding
						trait = indolent
						trait = willful
						trait = curious
						trait = idolizer
						trait = timid
					}
				}
				
				mult_modifier = {
					factor = 0.5
					calc_true_if = {
						amount >= 2
						trait = affectionate
						trait = playful
						trait = haughty
						trait = rowdy
						trait = conscientious
						trait = fussy
						trait = brooding
						trait = indolent
						trait = willful
						trait = curious
						trait = idolizer
						trait = timid
					}
				}
				
				# Child becomes Indolent
				character_event = { id = soh.8947 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					age >= 6
					age < 12
					NOR = {
						trait = willful
						calc_true_if = {
							amount >= 4
							trait = affectionate
							trait = playful
							trait = haughty
							trait = rowdy
							trait = conscientious
							trait = fussy
							trait = brooding
							trait = indolent
							trait = willful
							trait = curious
							trait = idolizer
							trait = timid
						}
					}
				}
				
				mult_modifier = {
					factor = 0.2
					calc_true_if = {
						amount >= 3
						trait = affectionate
						trait = playful
						trait = haughty
						trait = rowdy
						trait = conscientious
						trait = fussy
						trait = brooding
						trait = indolent
						trait = willful
						trait = curious
						trait = idolizer
						trait = timid
					}
				}
				
				mult_modifier = {
					factor = 0.5
					calc_true_if = {
						amount >= 2
						trait = affectionate
						trait = playful
						trait = haughty
						trait = rowdy
						trait = conscientious
						trait = fussy
						trait = brooding
						trait = indolent
						trait = willful
						trait = curious
						trait = idolizer
						trait = timid
					}
				}
				
				# Child becomes Willful
				character_event = { id = soh.8948 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					age >= 6
					age < 12
					NOR = {
						trait = curious
						calc_true_if = {
							amount >= 4
							trait = affectionate
							trait = playful
							trait = haughty
							trait = rowdy
							trait = conscientious
							trait = fussy
							trait = brooding
							trait = indolent
							trait = willful
							trait = curious
							trait = idolizer
							trait = timid
						}
					}
				}
				
				mult_modifier = {
					factor = 0.2
					calc_true_if = {
						amount >= 3
						trait = affectionate
						trait = playful
						trait = haughty
						trait = rowdy
						trait = conscientious
						trait = fussy
						trait = brooding
						trait = indolent
						trait = willful
						trait = curious
						trait = idolizer
						trait = timid
					}
				}
				
				mult_modifier = {
					factor = 0.5
					calc_true_if = {
						amount >= 2
						trait = affectionate
						trait = playful
						trait = haughty
						trait = rowdy
						trait = conscientious
						trait = fussy
						trait = brooding
						trait = indolent
						trait = willful
						trait = curious
						trait = idolizer
						trait = timid
					}
				}
				
				# Child becomes Curious
				character_event = { id = soh.8949 days = 5 random = 10 }
			}
			
			5 = {
				trigger = {
					age >= 6
					age < 12
					NOR = {
						trait = idolizer
						calc_true_if = {
							amount >= 4
							trait = affectionate
							trait = playful
							trait = haughty
							trait = rowdy
							trait = conscientious
							trait = fussy
							trait = brooding
							trait = indolent
							trait = willful
							trait = curious
							trait = idolizer
							trait = timid
						}
					}
				}
				
				mult_modifier = {
					factor = 0.2
					calc_true_if = {
						amount >= 3
						trait = affectionate
						trait = playful
						trait = haughty
						trait = rowdy
						trait = conscientious
						trait = fussy
						trait = brooding
						trait = indolent
						trait = willful
						trait = curious
						trait = idolizer
						trait = timid
					}
				}
				
				mult_modifier = {
					factor = 0.5
					calc_true_if = {
						amount >= 2
						trait = affectionate
						trait = playful
						trait = haughty
						trait = rowdy
						trait = conscientious
						trait = fussy
						trait = brooding
						trait = indolent
						trait = willful
						trait = curious
						trait = idolizer
						trait = timid
					}
				}
				
				# Child becomes Idolizer
				character_event = { id = soh.8950 days = 5 random = 10 }
			}
			
			5 = {
				trigger = {
					age >= 6
					age < 12
					NOR = {
						trait = timid
						calc_true_if = {
							amount >= 4
							trait = affectionate
							trait = playful
							trait = haughty
							trait = rowdy
							trait = conscientious
							trait = fussy
							trait = brooding
							trait = indolent
							trait = willful
							trait = curious
							trait = idolizer
							trait = timid
						}
					}
				}
				
				mult_modifier = {
					factor = 0.2
					calc_true_if = {
						amount >= 3
						trait = affectionate
						trait = playful
						trait = haughty
						trait = rowdy
						trait = conscientious
						trait = fussy
						trait = brooding
						trait = indolent
						trait = willful
						trait = curious
						trait = idolizer
						trait = timid
					}
				}
				
				mult_modifier = {
					factor = 0.5
					calc_true_if = {
						amount >= 2
						trait = affectionate
						trait = playful
						trait = haughty
						trait = rowdy
						trait = conscientious
						trait = fussy
						trait = brooding
						trait = indolent
						trait = willful
						trait = curious
						trait = idolizer
						trait = timid
					}
				}
				
				# Child becomes Timid
				character_event = { id = soh.8951 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = affectionate
					age >= 12
				}
				
				# Affectionate -> Kind
				character_event = { id = soh.8952 days = 5 random = 10 }
			}
			
			25 = {
				trigger = {
					trait = affectionate
					age >= 12
				}
				
				# Affectionate -> Humble
				character_event = { id = soh.8953 days = 5 random = 10 }
			}
			
			25 = {
				trigger = {
					trait = affectionate
					age >= 12
				}
				
				# Affectionate -> Charitable
				character_event = { id = soh.8954 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = affectionate
				}
				
				# Affectionate child makes a friend
				character_event = { id = soh.8955 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = playful
					age >= 12
				}
				
				# Playful -> Deceitful
				character_event = { id = soh.8956 days = 5 random = 10 }
			}
			
			25 = {
				trigger = {
					trait = playful
					age >= 12
				}
				
				# Playful -> Gregarious
				character_event = { id = soh.8957 days = 5 random = 10 }
			}
			
			5 = {
				trigger = {
					trait = playful
					age >= 12
				}
				
				# Playful -> Cruel
				character_event = { id = soh.8958 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = playful
					age >= 12
				}
				
				# Playful -> Greedy
				character_event = { id = soh.8959 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = haughty
					age >= 12
				}
				
				# Haughty -> Proud
				character_event = { id = soh.8960 days = 5 random = 10 }
			}
			
			5 = {
				trigger = {
					trait = haughty
					age >= 12
				}
				
				# Haughty -> Cruel
				character_event = { id = soh.8961 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = haughty
					age >= 12
				}
				
				# Haughty -> Arbitrary
				character_event = { id = soh.8962 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = haughty
					age >= 12
				}
				
				# Haughty -> Groomed
				character_event = { id = soh.8963 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = haughty
				}
				
				# Haughty child is taught a lesson
				character_event = { id = soh.8964 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = rowdy
					age >= 12
				}
				
				# Rowdy -> Dull
				character_event = { id = soh.8965 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = rowdy
					age >= 12
				}
				
				# Rowdy -> Brave
				character_event = { id = soh.8966 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = rowdy
				}
				
				# Rowdy child gets in a fight
				character_event = { id = soh.8967 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = conscientious
					age >= 12
				}
				
				# Conscientious -> Temperate
				character_event = { id = soh.8968 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = conscientious
					age >= 12
				}
				
				# Conscientious -> Just
				character_event = { id = soh.8969 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = conscientious
				}
				
				# Conscientious child is praised
				character_event = { id = soh.8970 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = fussy
					age >= 12
				}
				
				# Fussy -> Patient
				character_event = { id = soh.8971 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = fussy
					age >= 12
				}
				
				# Fussy -> Stubborn
				character_event = { id = soh.8972 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = fussy
				}
				
				# Fussy child annoys locals
				character_event = { id = soh.8973 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = brooding
					age >= 12
				}
				
				# Brooding -> Erudite
				character_event = { id = soh.8974 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = brooding
					age >= 12
				}
				
				# Brooding -> Envious
				character_event = { id = soh.8975 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = brooding
					age >= 12
				}
				
				# Brooding -> Shy
				character_event = { id = soh.8976 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = brooding
				}
				
				# Brooding child is seen as thinking too highly of themself
				character_event = { id = soh.8977 days = 5 random = 10 }
			}
			
			5 = {
				trigger = {
					trait = indolent
					age >= 12
				}
				
				# Indolent -> Slothful
				character_event = { id = soh.8978 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = indolent
					age >= 12
				}
				
				# Indolent -> Gregarious
				character_event = { id = soh.8979 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = willful
					age >= 12
				}
				
				# Willful -> Brave
				character_event = { id = soh.8980 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = willful
					age >= 12
				}
				
				# Willful -> Ambitious
				character_event = { id = soh.8981 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = willful
					age >= 12
				}
				
				# Willful -> Stubborn
				character_event = { id = soh.8982 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = willful
					age >= 12
				}
				
				# Willful -> Proud
				character_event = { id = soh.8983 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = willful
				}
				
				# Willful child gets on people's nerves
				character_event = { id = soh.8984 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = curious
					age >= 12
				}
				
				# Curious -> Shrewd
				character_event = { id = soh.8985 days = 5 random = 10 }
			}
			
			25 = {
				trigger = {
					trait = curious
					age >= 12
					# TIANXIATODO: Check for a sensible province
					NOR = {
						trait = zealous
						AND = {
							religion_group = christian
							trait = sympathy_indian
							trait = sympathy_islam
							trait = sympathy_judaism
							trait = sympathy_pagans
							trait = sympathy_zoroastrianism
						}
						AND = {
							religion_group = indian_group
							trait = sympathy_christendom
							trait = sympathy_islam
							trait = sympathy_judaism
							trait = sympathy_pagans
							trait = sympathy_zoroastrianism
						}
						AND = {
							religion_group = muslim
							trait = sympathy_christendom
							trait = sympathy_indian
							trait = sympathy_judaism
							trait = sympathy_pagans
							trait = sympathy_zoroastrianism
						}
						AND = {
							religion_group = jewish_group
							trait = sympathy_christendom
							trait = sympathy_indian
							trait = sympathy_islam
							trait = sympathy_pagans
							trait = sympathy_zoroastrianism
						}
						AND = {
							religion_group = pagan_group
							trait = sympathy_christendom
							trait = sympathy_indian
							trait = sympathy_islam
							trait = sympathy_judaism
							trait = sympathy_zoroastrianism
						}
						AND = {
							religion_group = zoroastrian_group
							trait = sympathy_christendom
							trait = sympathy_indian
							trait = sympathy_islam
							trait = sympathy_judaism
							trait = sympathy_pagans
						}
					}
				}
				
				# Curious -> Sympathy
				character_event = { id = soh.8986 days = 5 random = 10 }
			}
			
			25 = {
				trigger = {
					trait = curious
					age >= 12
				}
				
				# Curious -> Patient
				character_event = { id = soh.8987 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = curious
				}
				
				# Curious child gets hurt... or even killed...
				character_event = { id = soh.8988 days = 5 random = 10 }
			}
			
			5 = {
				trigger = {
					trait = curious
					NOT = {
						has_character_flag = curious_port_diplomacy
					}
				}
				
				# Curious child improves diplomacy
				character_event = { id = soh.8989 days = 5 random = 10 }
			}
			
			5 = {
				trigger = {
					trait = curious
					NOT = {
						has_character_flag = curious_port_martial
					}
				}
				
				# Curious child improves martial
				character_event = { id = soh.8990 days = 5 random = 10 }
			}
			
			5 = {
				trigger = {
					trait = curious
					NOT = {
						has_character_flag = curious_port_stewardship
					}
				}
				
				# Curious child improves stewardship
				character_event = { id = soh.8991 days = 5 random = 10 }
			}
			
			5 = {
				trigger = {
					trait = curious
					NOT = {
						has_character_flag = curious_port_intrigue
					}
				}
				
				# Curious child improves intrigue
				character_event = { id = soh.8992 days = 5 random = 10 }
			}
			
			5 = {
				trigger = {
					trait = curious
					NOT = {
						has_character_flag = curious_port_learning
					}
				}
				
				# Curious child improves learning
				character_event = { id = soh.8993 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = idolizer
					age >= 12
				}
				
				# Idolizer -> Erudite
				character_event = { id = soh.8994 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = idolizer
					age >= 12
				}
				
				# Idolizer -> Zealous
				character_event = { id = soh.8995 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = timid
					age >= 12
				}
				
				# Timid -> Craven
				character_event = { id = soh.8996 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = timid
					age >= 12
				}
				
				# Timid -> Shy
				character_event = { id = soh.8997 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					trait = timid
					age >= 12
				}
				
				# Timid -> Humble
				character_event = { id = soh.8998 days = 5 random = 10 }
			}
			
			5 = {
				trigger = {
					trait = timid
					age >= 12
				}
				
				# Timid -> Content
				character_event = { id = soh.8999 days = 5 random = 10 }
			}
			
			10 = {
				trigger = {
					NOT = {
						trait = diligent
					}
				}
				
				mult_modifier = {
					factor = 2
					trait = slothful
				}
				
				mult_modifier = {
					factor = 2
					trait = shy
				}
				
				mult_modifier = {
					factor = 2
					trait = content
				}
				
				# Just stay on the ship
				character_event = { id = soh.8916 days = 5 random = 10 }
			}
			
			500 = {
				mult_modifier = {
					factor = 2
					ai = yes
				}
				
				# Nothing
			}
		}
	}
}



##### Port events

### Rebellious locals

# Encourage rebellious locals?
character_event = {
	id = soh.8804
	desc = EVTDESC_SOH_8804
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	immediate = {
		random_independent_ruler = {
			limit = {
				NOT = {
					government = chinese_imperial_government
				}
				NOR = {
					is_friend = ROOT
					is_lover = ROOT
				}
				# TIANXIATODO: Is in the relevant area
			}
			
			preferred_limit = {
				is_rival = ROOT
			}
			
			random_realm_province = {
				limit = {
					# TIANXIATODO: Is in the relevant area
				}
				
				preferred_limit = {
					owner = {
						is_rival = ROOT
					}
				}
				
				preferred_limit = {
					owner = {
						NOR = {
							is_friend = ROOT
							is_lover = ROOT
						}
					}
				}
				
				save_event_target_as = rebel_province_target
				
				owner = {
					save_event_target_as = rebel_ruler_target
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8804 # Yes!
		
		add_trait_partially_arbitrary_effect = yes
		
		random_list = {
			50 = {
				mult_modifier = {
					factor = 2
					martial >= 24
				}
				
				mult_modifier = {
					factor = 2
					martial >= 20
				}
				
				# Success
				random_list = {
					50 = {
						mult_modifier = {
							factor = 2
							attribute_diff = {
								character = event_target:rebel_ruler_target
								attribute = intrigue
								value >= 8
							}
							
							attribute_diff = {
								character = event_target:rebel_ruler_target
								attribute = intrigue
								value >= 4
							}
						}
						
						# Success - not discovered
						event_target:rebel_ruler_target = {
							character_event = { id = soh.8805 days = 2 random = 1 }
						}
					}
					
					50 = {
						mult_modifier = {
							factor = 2
							attribute_diff = {
								character = event_target:rebel_ruler_target
								attribute = intrigue
								value <= -8
							}
							
							attribute_diff = {
								character = event_target:rebel_ruler_target
								attribute = intrigue
								value <= -4
							}
						}
						
						# Success - discovered
						event_target:rebel_ruler_target = {
							character_event = { id = soh.8807 days = 2 random = 1 }
						}
					}
				}
			}
			
			50 = {
				mult_modifier = {
					factor = 2
					martial < 12
				}
				
				mult_modifier = {
					factor = 2
					martial < 8
				}
				
				# Failure
				random_list = {
					50 = {
						mult_modifier = {
							factor = 2
							attribute_diff = {
								character = event_target:rebel_ruler_target
								attribute = intrigue
								value >= 8
							}
							
							attribute_diff = {
								character = event_target:rebel_ruler_target
								attribute = intrigue
								value >= 4
							}
						}
						
						# Failure - not discovered
						event_target:rebel_ruler_target = {
							character_event = { id = soh.8809 days = 2 random = 1 }
						}
					}
					
					50 = {
						mult_modifier = {
							factor = 2
							attribute_diff = {
								character = event_target:rebel_ruler_target
								attribute = intrigue
								value <= -8
							}
							
							attribute_diff = {
								character = event_target:rebel_ruler_target
								attribute = intrigue
								value <= -4
							}
						}
						
						# Failure - discovered
						event_target:rebel_ruler_target = {
							character_event = { id = soh.8811 days = 2 random = 1 }
						}
					}
				}
			}
		}
		
		ai_chance = {
			trigger = {
				NAND = {
					OR = {
						trait = honest
						trait = just
					}
					NOT = {
						is_rival = event_target:rebel_ruler_target
					}
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 5
				trait = deceitful
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8804 # No!
		
		prestige = -25
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = arbitrary
			}
			
			mult_modifier = {
				factor = 0.1
				NOR = {
					is_friend = event_target:rebel_ruler_target
					is_lover = event_target:rebel_ruler_target
				}
			}
		}
	}
}

# Attempt succeeds - not discovered - local ruler
character_event = {
	id = soh.8805
	desc = EVTDESC_SOH_8805
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_SOH_8805 # Who could have done this?
		
		event_target:rebel_province_target = {
			add_province_modifier = {
				name = peasants_upset
				years = 2
			}
		}
		
		FROM = {
			character_event = { id = soh.8806 } # Inform FROM
		}
	}
}

# Attempt succeeds - not discovered - TF member
character_event = {
	id = soh.8806
	desc = EVTDESC_SOH_8806
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8806 # Great!
		
		prestige = 25
	}
}

# Attempt succeeds - discovered - local ruler
character_event = {
	id = soh.8807
	desc = EVTDESC_SOH_8807
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8807 # It was you!
		
		if = {
			limit = {
				is_friend = FROM
			}
			
			remove_friend = FROM
		}
		
		else = {
			add_rival = FROM
		}
		
		event_target:rebel_province_target = {
			add_province_modifier = {
				name = peasants_upset
				years = 2
			}
		}
		
		FROM = {
			character_event = { id = soh.8808 } # Inform FROM
		}
	}
}

# Attempt succeeds - discovered - TF member
character_event = {
	id = soh.8808
	desc = EVTDESC_SOH_8808
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8808 # Curses!
		
		prestige = -25
	}
}

# Attempt fails - not discovered - local ruler
character_event = {
	id = soh.8809
	desc = EVTDESC_SOH_8809
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_SOH_8809 # Who could have done this?
		
		FROM = {
			character_event = { id = soh.8810 } # Inform FROM
		}
	}
}

# Attempt fails - not discovered - TF member
character_event = {
	id = soh.8810
	desc = EVTDESC_SOH_8810
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8810 # Could have been worse...
		
		prestige = -25
	}
}

# Attempt fails - discovered - local ruler
character_event = {
	id = soh.8811
	desc = EVTDESC_SOH_8811
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8811 # It was you!
		
		if = {
			limit = {
				is_friend = FROM
			}
			
			remove_friend = FROM
		}
		
		else = {
			add_rival = FROM
		}
		
		FROM = {
			character_event = { id = soh.8812 } # Inform FROM
		}
	}
}

# Attempt fails - discovered - TF member
character_event = {
	id = soh.8812
	desc = EVTDESC_SOH_8812
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8812 # Curses!
		
		prestige = -50
	}
}

### Gold for artifact?

# Make offer?
character_event = {
	id = soh.8813
	desc = EVTDESC_SOH_8813
	picture = GFX_evt_treasure_fleet
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	immediate = {
		random_playable_ruler = {
			limit = {
				can_interact_with_treasure_fleet_trigger = yes
			}
			
			save_event_target_as = tf_interaction_target
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8813 # Yes!
		
		event_target:tf_interaction_target = {
			character_event = { id = soh.8814 days = 1 random = 1 }
		}
		
		ai_chance = {
			trigger = {
				opinion = {
					who = event_target:tf_interaction_target
					value > -25
				}
			}
			
			factor = 100
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8813 # No!
		
		prestige = -10
		
		ai_chance = {
			trigger = {
				opinion = {
					who = event_target:tf_interaction_target
					value < 25
				}
			}
			
			factor = 100
		}
	}
}

# Offer is made
character_event = {
	id = soh.8814
	desc = EVTDESC_SOH_8814
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8814 # Yes!
		
		wealth = -100
		
		FROM = {
			character_event = { id = soh.8815 }
		}
		
		ai_chance = {
			trigger = {
				wealth >= 100
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = greedy
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8814 # No!
		
		FROM = {
			character_event = { id = soh.8817  }
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				wealth >= 1000
			}
		}
	}
}

# Offer accepted
character_event = {
	id = soh.8815
	desc = EVTDESC_SOH_8815
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8815 # I'll keep this...
		
		add_trait_partially_greedy_effect = yes
		
		wealth = 100
		
		FROM = {
			character_event = { id = soh.8816 }
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = charitable
				}
			}
			
			factor = 100
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8815 # This belongs to the EoC!
		
		remove_trait_greedy_effect = yes
		
		hidden_tooltip = {
			2753 = { # Hangzhou
				change_variable = {
					which = treasure_fleet_wealth
					value = 1
				}
			}
		}
		
		FROM = {
			character_event = { id = soh.8816 }
		}
		
		ai_chance = {
			trigger = {
				trait = greedy
			}
			
			factor = 100
		}
	}
}

# Artifact received
character_event = {
	id = soh.8816
	desc = EVTDESC_SOH_8816
	picture = GFX_evt_china_diplomatic_success
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	immediate = {
		d_treasure_fleet = {
			holder_scope = {
				save_event_target_as = chinese_artifact_origin
			}
		}
		
		add_random_chinese_artifact_effect = yes
	}
	
	option = {
		name = EVTOPTA_SOH_8816 # Great!
	}
}

# Offer refused
character_event = {
	id = soh.8817
	desc = EVTDESC_SOH_8817
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8817 # I see...
	}
}

### Gold for Peace Deal?

# Make offer?
character_event = {
	id = soh.8818
	desc = EVTDESC_SOH_8818
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		random_playable_ruler = {
			limit = {
				can_interact_with_treasure_fleet_trigger = yes
				NOT = {
					has_character_modifier = peace_deal_with_china
				}
			}
			
			save_event_target_as = tf_interaction_target
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8818 # Yes!
		
		event_target:tf_interaction_target = {
			character_event = { id = soh.8819 }
		}
		
		ai_chance = {
			trigger = {
				opinion = {
					who = event_target:tf_interaction_target
					value > -25
				}
			}
			
			factor = 100
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8818 # No!
		
		prestige = -100
		
		ai_chance = {
			trigger = {
				opinion = {
					who = event_target:tf_interaction_target
					value < 25
				}
			}
			
			factor = 100
		}
	}
}

# Offer is made
character_event = {
	id = soh.8819
	desc = EVTDESC_SOH_8819
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8819 # Yes!
		
		wealth = -100
	
		if = {
			limit = {
				NOT = {
					has_global_flag = abort_treasure_fleet_asap
				}
			}
			
			add_character_modifier = {
				inherit = yes
				name = peace_deal_with_china
				years = 25
			}
		}
		
		hidden_tooltip = {
			2753 = { # Hangzhou
				change_variable = {
					which = tf_peace_deal_with_china
					value = -1
				}
			}
		}
		
		FROM = {
			character_event = { id = soh.8820 days = 1 }
		}
		
		ai_chance = {
			trigger = {
				wealth >= 100
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = greedy
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8819 # No!
		
		FROM = {
			character_event = { id = soh.8821 days = 1 }
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				wealth >= 1000
			}
		}
	}
}

# Offer accepted
character_event = {
	id = soh.8820
	desc = EVTDESC_SOH_8820
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8820 # I'll keep this...
		
		add_trait_partially_greedy_effect = yes
		
		wealth = 100
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = charitable
				}
			}
			
			factor = 100
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8820 # This belongs to the EoC!
		
		remove_trait_greedy_effect = yes
		
		hidden_tooltip = {
			2753 = { # Hangzhou
				change_variable = {
					which = treasure_fleet_wealth
					value = 1
				}
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = greedy
				}
			}
			
			factor = 100
		}
	}
}

# Offer refused
character_event = {
	id = soh.8821
	desc = EVTDESC_SOH_8821
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8821 # I see...
	}
}

### Gold for Grace?

# Make offer?
character_event = {
	id = soh.8822
	desc = EVTDESC_SOH_8822
	picture = GFX_evt_treasure_fleet
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	immediate = {
		random_playable_ruler = {
			limit = {
				can_interact_with_treasure_fleet_trigger = yes
			}
			
			save_event_target_as = tf_interaction_target
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8822 # Yes!
		
		event_target:tf_interaction_target = {
			character_event = { id = soh.8823 days = 1 random = 1 }
		}
		
		ai_chance = {
			trigger = {
				opinion = {
					who = event_target:tf_interaction_target
					value > -25
				}
			}
			
			factor = 100
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8822 # No!
		
		prestige = -25
		
		ai_chance = {
			trigger = {
				opinion = {
					who = event_target:tf_interaction_target
					value < 25
				}
			}
			
			factor = 100
		}
	}
}

# Offer is made
character_event = {
	id = soh.8823
	desc = EVTDESC_SOH_8823
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8823 # Yes!
		
		wealth = -100
	
		if = {
			limit = {
				NOT = {
					has_global_flag = abort_treasure_fleet_asap
				}
			}
			
			add_grace_massive_effect = yes
		}
		
		FROM = {
			character_event = { id = soh.8824 days = 1 }
		}
		
		ai_chance = {
			trigger = {
				wealth >= 100
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = greedy
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8823 # No!
		
		FROM = {
			character_event = { id = soh.8825 days = 1 }
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				wealth >= 1000
			}
		}
	}
}

# Offer accepted
character_event = {
	id = soh.8824
	desc = EVTDESC_SOH_8824
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8824 # I'll keep this...
		
		add_trait_partially_greedy_effect = yes
		
		wealth = 100
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = charitable
				}
			}
			
			factor = 100
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8824 # This belongs to the EoC!
		
		remove_trait_greedy_effect = yes
		
		hidden_tooltip = {
			2753 = { # Hangzhou
				change_variable = {
					which = treasure_fleet_wealth
					value = 1
				}
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = greedy
				}
			}
			
			factor = 100
		}
	}
}

# Offer refused
character_event = {
	id = soh.8825
	desc = EVTDESC_SOH_8825
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8825 # I see...
	}
}

### Gold for looser tributary relationship?

# Make offer?
character_event = {
	id = soh.8826
	desc = EVTDESC_SOH_8826
	picture = GFX_evt_china_golden_age
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		random_playable_ruler = {
			limit = {
				can_interact_with_treasure_fleet_trigger = yes
				suzerain = {
					is_chinese_emperor_trigger = yes
				}
			}
			
			save_event_target_as = tf_interaction_target
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8826 # Yes!
		
		event_target:tf_interaction_target = {
			character_event = { id = soh.8827 days = 1 random = 1 }
		}
		
		ai_chance = {
			trigger = {
				opinion = {
					who = event_target:tf_interaction_target
					value > -25
				}
			}
			
			factor = 100
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8826 # No!
		
		prestige = -100
		
		ai_chance = {
			trigger = {
				opinion = {
					who = event_target:tf_interaction_target
					value < 25
				}
			}
			
			factor = 100
		}
	}
}

# Offer is made
character_event = {
	id = soh.8827
	desc = EVTDESC_SOH_8827
	picture = GFX_evt_china_golden_age
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8827 # Yes!
		
		wealth = -100
	
		if = {
			limit = {
				NOT = {
					has_global_flag = abort_treasure_fleet_asap
				}
			}
			
			decrease_tributary_tier_or_release_effect = yes
		}
		
		FROM = {
			character_event = { id = soh.8828 days = 1 }
		}
		
		ai_chance = {
			trigger = {
				wealth >= 100
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = greedy
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8827 # No!
		
		FROM = {
			character_event = { id = soh.8829 days = 1 }
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				wealth >= 1000
			}
		}
	}
}

# Offer accepted
character_event = {
	id = soh.8828
	desc = EVTDESC_SOH_8828
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8828 # I'll keep this...
		
		add_trait_partially_greedy_effect = yes
		
		wealth = 100
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = charitable
				}
			}
			
			factor = 100
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8828 # This belongs to the EoC!
		
		remove_trait_greedy_effect = yes
		
		hidden_tooltip = {
			2753 = { # Hangzhou
				change_variable = {
					which = treasure_fleet_wealth
					value = 1
				}
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = greedy
				}
			}
			
			factor = 100
		}
	}
}

# Offer refused
character_event = {
	id = soh.8829
	desc = EVTDESC_SOH_8829
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8829 # I see...
	}
}

### Gold for Chinese character?

# Make offer?
character_event = {
	id = soh.8830
	desc = EVTDESC_SOH_8830
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		random_playable_ruler = {
			limit = {
				can_interact_with_treasure_fleet_trigger = yes
			}
			
			save_event_target_as = tf_interaction_target
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8830 # Yes!
		
		event_target:tf_interaction_target = {
			character_event = { id = soh.8831 days = 1 random = 1 }
		}
		
		ai_chance = {
			trigger = {
				opinion = {
					who = event_target:tf_interaction_target
					value > -25
				}
			}
			
			factor = 100
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8830 # No!
		
		prestige = -50
		
		ai_chance = {
			trigger = {
				opinion = {
					who = event_target:tf_interaction_target
					value < 25
				}
			}
			
			factor = 100
		}
	}
}

# Offer is made
character_event = {
	id = soh.8831
	desc = EVTDESC_SOH_8831
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8831 # Yes!
		
		wealth = -100
		
		FROM = {
			character_event = { id = soh.8832 days = 1 }
		}
		
		ai_chance = {
			trigger = {
				wealth >= 100
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = greedy
			}
		}
	}
	
	option = {
		name = EVTOPTB_TREASURE_FLEET_361 # No!
		
		FROM = {
			character_event = { id = soh.8843 days = 1 }
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				wealth >= 1000
			}
		}
	}
}

# Offer accepted
character_event = {
	id = soh.8832
	desc = EVTDESC_SOH_8832
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			random_list = {
				10 = {
					trigger = {
						has_dlc = "Jade Dragon"
					}
					character_event = { id = soh.8833 } # Strategist
				}
				
				10 = {
					trigger = {
						has_dlc = "Jade Dragon"
					}
					
					character_event = { id = soh.8834 } # Master Engineer
				}
				
				10 = {
					trigger = {
						has_dlc = "Jade Dragon"
					}
					
					character_event = { id = soh.8835 } # Scholar-Bureaucrat
				}
				
				10 = {
					trigger = {
						has_dlc = "Jade Dragon"
					}
					
					character_event = { id = soh.8836 } # Siege Engineer
				}
				
				10 = {
					trigger = {
						has_dlc = "Jade Dragon"
					}
					
					character_event = { id = soh.8837 } # Physician
				}
				
				1 = {
					character_event = { id = soh.8838 } # Soldier
				}
				
				1 = {
					character_event = { id = soh.8839 } # Eunuch
				}
				
				1 = {
					character_event = { id = soh.8840 } # Courtesan
				}
				
				1 = {
					character_event = { id = soh.8841 } # Scholar
				}
				
				1 = {
					character_event = { id = soh.8842 } # Noble
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8832 # I'll keep this...
		
		add_trait_partially_greedy_effect = yes
		
		wealth = 100
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = charitable
				}
			}
			
			factor = 100
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8832 # This belongs to the EoC!
		
		remove_trait_greedy_effect = yes
		
		hidden_tooltip = {
			2753 = { # Hangzhou
				change_variable = {
					which = treasure_fleet_wealth
					value = 1
				}
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = greedy
				}
			}
			
			factor = 100
		}
	}
}

# Offer accepted - got Strategist
character_event = {
	id = soh.8833
	desc = EVTDESC_SOH_8833
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		e_china = {
			holder_scope = {
				random_realm_province = {
					preferred_limit = {
						is_connected_to = {
							sub_realm = no
							target = c_hangzhou
							land_gap = no
							naval_distance = yes
						}
						port = yes
					}
					
					save_event_target_as = chinese_character_origin
				}
			}
		}
		
		create_chinese_strategist_effect = yes
		
		new_character = {
			save_event_target_as = new_tf_character
			
			give_minor_title = title_commander
			
			give_minor_title = title_strategist
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8833 # They're welcome here!
	}
}

# Offer accepted - got Master Engineer
character_event = {
	id = soh.8834
	desc = EVTDESC_SOH_8834
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	immediate = {
		e_china = {
			holder_scope = {
				random_realm_province = {
					preferred_limit = {
						is_connected_to = {
							sub_realm = no
							target = c_hangzhou
							land_gap = no
							naval_distance = yes
						}
						port = yes
					}
					
					save_event_target_as = chinese_character_origin
				}
			}
		}
		
		create_chinese_master_engineer_effect = yes
		
		new_character = {
			set_character_flag = master_engineer_just_spawned
			
			give_minor_title = title_master_engineer
			
			save_event_target_as = new_tf_character
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8834 # They're welcome here!
	}
}

# Offer accepted - got Scholar-Bureaucrat
character_event = {
	id = soh.8835
	desc = EVTDESC_SOH_8835
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	immediate = {
		e_china = {
			holder_scope = {
				random_realm_province = {
					preferred_limit = {
						is_connected_to = {
							sub_realm = no
							target = c_hangzhou
							land_gap = no
							naval_distance = yes
						}
						port = yes
					}
					
					save_event_target_as = chinese_character_origin
				}
			}
		}
		
		create_chinese_administrator_effect = yes
		
		new_character = {
			give_minor_title = title_administrator
			
			save_event_target_as = new_tf_character
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8835 # They're welcome here!
	}
}

# Offer accepted - got Siege Engineer
character_event = {
	id = soh.8836
	desc = EVTDESC_SOH_8836
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		e_china = {
			holder_scope = {
				random_realm_province = {
					preferred_limit = {
						is_connected_to = {
							sub_realm = no
							target = c_hangzhou
							land_gap = no
							naval_distance = yes
						}
						port = yes
					}
					
					save_event_target_as = chinese_character_origin
				}
			}
		}
		
		create_chinese_siege_engineer_effect = yes
		
		new_character = {
			give_minor_title = title_commander
			
			save_event_target_as = new_tf_character
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8836 # They're welcome here!
	}
}

# Offer accepted - got Physician
character_event = {
	id = soh.8837
	desc = EVTDESC_SOH_8837
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	immediate = {
		e_china = {
			holder_scope = {
				random_realm_province = {
					preferred_limit = {
						is_connected_to = {
							sub_realm = no
							target = c_hangzhou
							land_gap = no
							naval_distance = yes
						}
						port = yes
					}
					
					save_event_target_as = chinese_character_origin
				}
			}
		}
		
		create_chinese_physician_effect = yes
		
		new_character = {
			give_minor_title = title_court_physician
			
			save_event_target_as = new_tf_character
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8837 # He's welcome here!
	}
}

# Gain courtier - young soldier
character_event = {
	id = soh.8838
	desc = EVTDESC_SOH_8838
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		e_china = {
			holder_scope = {
				random_realm_province = {
					preferred_limit = {
						is_connected_to = {
							sub_realm = no
							target = c_hangzhou
							land_gap = no
							naval_distance = yes
						}
						port = yes
					}
					
					save_event_target_as = tf_character_home_province
				}
			}
		}
		
		create_tf_soldier_effect = yes
	}
	
	option = {
		name = EVTOPTA_SOH_8838 # They're welcome here!
	}
}

# Gain courtier - eunuch
character_event = {
	id = soh.8839
	desc = EVTDESC_SOH_8839
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	immediate = {
		e_china = {
			holder_scope = {
				random_realm_province = {
					preferred_limit = {
						is_connected_to = {
							sub_realm = no
							target = c_hangzhou
							land_gap = no
							naval_distance = yes
						}
						port = yes
					}
					
					save_event_target_as = tf_character_home_province
				}
			}
		}
		
		create_tf_eunuch_effect = yes
	}
	
	option = {
		name = EVTOPTA_SOH_8839 # He's welcome here!
	}
}

# Gain courtier - young courtesan
character_event = {
	id = soh.8840
	desc = EVTDESC_SOH_8840
	picture = GFX_evt_chinese_concubine
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	immediate = {
		e_china = {
			holder_scope = {
				random_realm_province = {
					preferred_limit = {
						is_connected_to = {
							sub_realm = no
							target = c_hangzhou
							land_gap = no
							naval_distance = yes
						}
						port = yes
					}
					
					save_event_target_as = tf_character_home_province
				}
			}
		}
		
		create_chinese_courtesan_no_children_effect = yes
		
		new_character = {
			save_event_target_as = new_tf_character
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8840 # She's welcome here!
	}
}

# Gain courtier - old scholar
character_event = {
	id = soh.8841
	desc = EVTDESC_SOH_8841
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	immediate = {
		e_china = {
			holder_scope = {
				random_realm_province = {
					preferred_limit = {
						is_connected_to = {
							sub_realm = no
							target = c_hangzhou
							land_gap = no
							naval_distance = yes
						}
						port = yes
					}
					
					save_event_target_as = tf_character_home_province
				}
			}
		}
		
		create_random_priest = {
			age = 65
			female = 5 # TIANXIATODO: Base on EoC's gender laws
			dynasty = none
			attributes = {
				diplomacy = 5
				martial = 1
				stewardship = 6
				intrigue = 4
				learning = 8
			}
			culture = event_target:tf_character_home_province
			religion = event_target:tf_character_home_province
			trait = scholar
			random_traits =	yes
		}
		
		new_character = {
			save_event_target_as = new_tf_character
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8841 # They're welcome here!
	}
}

# Gain courtier - random noble
character_event = {
	id = soh.8842
	desc = EVTDESC_SOH_8842
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		e_china = {
			holder_scope = {
				random_realm_province = {
					preferred_limit = {
						is_connected_to = {
							sub_realm = no
							target = c_hangzhou
							land_gap = no
							naval_distance = yes
						}
						port = yes
					}
					
					save_event_target_as = tf_character_home_province
				}
			}
		}
		
		random_list = {
			50 = {
				create_character = {
					age = 35
					female = no
					dynasty = random
					culture = event_target:tf_character_home_province
					religion = event_target:tf_character_home_province
					random_traits =	yes
				}
			}
			
			50 = {
				create_character = {
					age = 35
					female = yes
					dynasty = random
					culture = event_target:tf_character_home_province
					religion = event_target:tf_character_home_province
					random_traits =	yes
				}
			}
		}
		
		new_character = {
			save_event_target_as = new_tf_character
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8842 # They're welcome here!
	}
}

# Offer refused
character_event = {
	id = soh.8843
	desc = EVTDESC_SOH_8843
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8843 # I see...
	}
}

### Resupply

# Ask nicely or attempt to seize supplies?
character_event = {
	id = soh.8844
	desc = EVTDESC_SOH_8844
	picture = GFX_evt_treasure_fleet
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	immediate = {
		random_playable_ruler = {
			limit = {
				can_interact_with_treasure_fleet_trigger = yes
			}
			
			save_event_target_as = tf_interaction_target
		}
	}
	
	option = {
		trigger = {
			FROM = {
				check_variable = {
					which = treasure_fleet_wealth
					value = 2
				}
			}
		}
		
		name = EVTOPTA_SOH_8844 # I'll ask nicely!
		
		prestige = -50
		
		event_target:tf_interaction_target = {
			character_event = { id = soh.8845 days = 2 random = 1 }
		}
		
		ai_chance = {
			trigger = {
				OR = {
					opinion = {
						who = event_target:tf_interaction_target
						value >= -25
					}
				}
				2753 = { # Hangzhou
					check_variable = {
						which = treasure_fleet_army_strength
						value = 25
					}
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = arbitrary
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8844 # I will use force!
		
		random_list = {
			50 = {
				mult_modifier = {
					factor = 2
					2753 = { # Hangzhou
						check_variable = {
							which = treasure_fleet_army_strength
							value >= 100
						}
					}
				}
				
				mult_modifier = {
					factor = 2
					2753 = { # Hangzhou
						check_variable = {
							which = treasure_fleet_army_strength
							value >= 75
						}
					}
				}
				
				mult_modifier = {
					factor = 2
					2753 = { # Hangzhou
						check_variable = {
							which = treasure_fleet_army_strength
							value >= 50
						}
					}
				}
				
				mult_modifier = {
					factor = 2
					martial >= 24
				}
				
				mult_modifier = {
					factor = 2
					martial >= 20
				}
				
				mult_modifier = {
					factor = 2
					martial >= 16
				}
				
				# It goes well
				character_event = { id = soh.8848 days = 2 random = 5 }
			}
			
			50 = {
				# It goes poorly
				character_event = { id = soh.8849 days = 2 random = 5 }
			}
			
			50 = {
				mult_modifier = {
					factor = 2
					2753 = { # Hangzhou
						check_variable = {
							which = treasure_fleet_army_strength
							value < 25
						}
					}
				}
				
				mult_modifier = {
					factor = 2
					2753 = { # Hangzhou
						check_variable = {
							which = treasure_fleet_army_strength
							value < 20
						}
					}
				}
				
				mult_modifier = {
					factor = 2
					2753 = { # Hangzhou
						check_variable = {
							which = treasure_fleet_army_strength
							value < 15
						}
					}
				}
				
				mult_modifier = {
					factor = 2
					2753 = { # Hangzhou
						check_variable = {
							which = treasure_fleet_army_strength
							value < 10
						}
					}
				}
				
				mult_modifier = {
					factor = 2
					2753 = { # Hangzhou
						check_variable = {
							which = treasure_fleet_army_strength
							value < 5
						}
					}
				}
				
				mult_modifier = {
					factor = 2
					martial < 12
				}
				
				mult_modifier = {
					factor = 2
					martial < 8
				}
				
				mult_modifier = {
					factor = 2
					martial < 4
				}
				
				# It goes extremely poorly
				character_event = { id = soh.8850 days = 2 random = 5 }
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = craven
				}
				opinion = {
					who = event_target:tf_interaction_target
					value < 25
				}
				2753 = { # Hangzhou
					check_variable = {
						which = treasure_fleet_army_strength
						value >= 15
					}
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = just
			}
		}
	}
	
	option = {
		name = EVTOPTC_SOH_8844 # Neither!
		
		ai_chance = {
			trigger = {
				opinion = {
					who = event_target:tf_interaction_target
					value > -25
				}
				2753 = { # Hangzhou
					check_variable = {
						which = treasure_fleet_army_strength
						value >= 25
					}
				}
			}
			
			factor = 100
		}
	}
}

# Asked nicely
character_event = {
	id = soh.8845
	desc = EVTDESC_SOH_8845
	picture = GFX_evt_treasure_fleet
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8845 # Sure!
		
		wealth = 100
		
		hidden_tooltip = {
			FROMFROM = {
				change_variable = {
					which = treasure_fleet_wealth
					value = -2
				}
			}
		}
		
		if = {
			limit = {
				has_dlc = "Jade Dragon"
				NOT = {
					has_global_flag = abort_treasure_fleet_asap
				}
			}
			
			add_grace_medium_effect = yes
		}
		
		FROM = {
			character_event = { id = soh.8846 days = 1 }
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				opinion = {
					who = FROM
					value < -25
				}
			}
			
			mult_modifier = {
				factor = 0.1
				e_china = {
					holder_scope = {
						reverse_opinion = {
							who = ROOT
							value < -25
						}
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8845 # Not happening!
		
		FROM = {
			character_event = { id = soh.8847 days = 1 }
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				opinion = {
					who = FROM
					value >= 25
				}
			}
			
			mult_modifier = {
				factor = 0.1
				e_china = {
					holder_scope = {
						reverse_opinion = {
							who = ROOT
							value >= 25
						}
					}
				}
			}
			
			mult_modifier = {
				factor = 0.1
				trait = greedy
			}
		}
	}
}

# Request accepted
character_event = {
	id = soh.8846
	desc = EVTDESC_SOH_8846
	picture = GFX_evt_china_diplomatic_success
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8846 # Great!
		
		hidden_tooltip = {
			random_list = {
				2753 = { # Hangzhou
					5 = {
						change_variable = {
							which = treasure_fleet_supplies
							value = 1
						}
					}
					
					2 = {
						change_variable = {
							which = treasure_fleet_supplies
							value = 5
						}
					}
					
					1 = {
						change_variable = {
							which = treasure_fleet_supplies
							value = 10
						}
					}
				}
			}
		}
	}
}

# Request refused - seize supplies?
character_event = {
	id = soh.8847
	desc = EVTDESC_SOH_8847
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8847 # I will use force!
		
		random_list = {
			50 = {
				mult_modifier = {
					factor = 2
					2753 = { # Hangzhou
						check_variable = {
							which = treasure_fleet_army_strength
							value >= 100
						}
					}
				}
				
				mult_modifier = {
					factor = 2
					2753 = { # Hangzhou
						check_variable = {
							which = treasure_fleet_army_strength
							value >= 75
						}
					}
				}
				
				mult_modifier = {
					factor = 2
					2753 = { # Hangzhou
						check_variable = {
							which = treasure_fleet_army_strength
							value >= 50
						}
					}
				}
				
				mult_modifier = {
					factor = 2
					martial >= 24
				}
				
				mult_modifier = {
					factor = 2
					martial >= 20
				}
				
				mult_modifier = {
					factor = 2
					martial >= 16
				}
				
				# It goes well
				character_event = { id = soh.8848 days = 2 random = 5 }
			}
			
			50 = {
				# It goes poorly
				character_event = { id = soh.8849 days = 2 random = 5 }
			}
			
			50 = {
				mult_modifier = {
					factor = 2
					2753 = { # Hangzhou
						check_variable = {
							which = treasure_fleet_army_strength
							value < 25
						}
					}
				}
				
				mult_modifier = {
					factor = 2
					2753 = { # Hangzhou
						check_variable = {
							which = treasure_fleet_army_strength
							value < 20
						}
					}
				}
				
				mult_modifier = {
					factor = 2
					2753 = { # Hangzhou
						check_variable = {
							which = treasure_fleet_army_strength
							value < 15
						}
					}
				}
				
				mult_modifier = {
					factor = 2
					2753 = { # Hangzhou
						check_variable = {
							which = treasure_fleet_army_strength
							value < 10
						}
					}
				}
				
				mult_modifier = {
					factor = 2
					2753 = { # Hangzhou
						check_variable = {
							which = treasure_fleet_army_strength
							value < 5
						}
					}
				}
				
				mult_modifier = {
					factor = 2
					martial < 12
				}
				
				mult_modifier = {
					factor = 2
					martial < 8
				}
				
				mult_modifier = {
					factor = 2
					martial < 4
				}
				
				# It goes extremely poorly
				character_event = { id = soh.8850 days = 2 random = 5 }
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = craven
				}
				opinion = {
					who = event_target:tf_interaction_target
					value < 25
				}
				2753 = { # Hangzhou
					check_variable = {
						which = treasure_fleet_army_strength
						value >= 15
					}
				}
			}
			
			factor = 100
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8847 # That's that...
		
		prestige = -100
		
		ai_chance = {
			trigger = {
				opinion = {
					who = event_target:tf_interaction_target
					value >= -25
				}
				
				2753 = { # Hangzhou
					check_variable = {
						which = treasure_fleet_army_strength
						value >= 25
					}
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = brave
			}
		}
	}
}

# Seizing supplies - it goes well
character_event = {
	id = soh.8848
	desc = EVTDESC_SOH_8848
	picture = GFX_evt_burning_house
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8848 # Great!
		
		prestige = 25
		
		event_target:tf_interaction_target = {
			character_event = { id = soh.8851 }
		}
		
		hidden_tooltip = {
			random_list = {
				2753 = { # Hangzhou
					5 = {
						change_variable = {
							which = treasure_fleet_supplies
							value = 1
						}
					}
					
					2 = {
						change_variable = {
							which = treasure_fleet_supplies
							value = 5
						}
					}
					
					1 = {
						change_variable = {
							which = treasure_fleet_supplies
							value = 10
						}
					}
				}
			}
		}
	}
}

# Seizing supplies - it goes poorly
character_event = {
	id = soh.8849
	desc = EVTDESC_SOH_8849
	picture = GFX_evt_burning_house
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8849 # Curses!
		
		prestige = -25
		
		event_target:tf_interaction_target = {
			character_event = { id = soh.8852 }
		}
		
		hidden_tooltip = {
			random_list = {
				2753 = { # Hangzhou
					5 = {
						change_variable = {
							which = treasure_fleet_army_strength
							value = -1
						}
					}
					
					2 = {
						change_variable = {
							which = treasure_fleet_army_strength
							value = -2
						}
					}
					
					1 = {
						change_variable = {
							which = treasure_fleet_army_strength
							value = -3
						}
					}
				}
			}
		}
	}
}

# Seizing supplies - it goes extremely poorly
character_event = {
	id = soh.8850
	desc = EVTDESC_SOH_8850
	picture = GFX_evt_burning_house
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8850 # Curses!
		
		prestige = -100
		
		character_event = { id = soh.8852 }
		
		event_target:tf_interaction_target = {
			character_event = { id = soh.8853 }
		}
		
		hidden_tooltip = {
			random_list = {
				2753 = { # Hangzhou
					5 = {
						change_variable = {
							which = treasure_fleet_army_strength
							value = -1
						}
					}
					
					2 = {
						change_variable = {
							which = treasure_fleet_army_strength
							value = -5
						}
					}
					
					1 = {
						change_variable = {
							which = treasure_fleet_army_strength
							value = -10
						}
					}
				}
			}
		}
	}
}

# Inform local ruler if supplies were seized
character_event = {
	id = soh.8851
	desc = EVTDESC_SOH_8851
	picture = GFX_evt_burning_house
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8851 # I see...
		
		add_rival = FROM
	}
}

# Inform local ruler if supply seizing failed
character_event = {
	id = soh.8852
	desc = EVTDESC_SOH_8852
	picture = GFX_evt_burning_house
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8852 # I see...
		
		add_rival = FROM
	}
}

# Inform local ruler if commander was imprisoned
character_event = {
	id = soh.8853
	desc = EVTDESC_SOH_8853
	picture = GFX_evt_burning_house
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8853 # I see...
		
		add_rival = FROM
		
		FROM = {
			imprison = ROOT
		}
	}
}

### Someone sees an opportunity to create a tributary

# Opportunity is spotted - act on it?
character_event = {
	id = soh.8854
	desc = EVTDESC_SOH_8854
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = {
		NOT = {
			has_global_flag = abort_treasure_fleet_asap
		}
	}
	
	immediate = {
		random_independent_ruler = {
			limit = {
				war = no
				can_interact_with_treasure_fleet_trigger = yes
				is_tributary = no
			}
			
			save_event_target_as = tf_interaction_target
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8854 # Yes!
		
		event_target:tf_interaction_target = {
			character_event = { id = soh.8855 }
		}
		
		ai_chance = {
			trigger = {
				opinion = {
					who = event_target:tf_interaction_target
					value < 25
				}
				
				2753 = { # Hangzhou
					check_variable = {
						which = treasure_fleet_army_strength
						value >= 15
					}
				}
			}
			
			factor = 100
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8854 # No!
		
		prestige = -100
		
		ai_chance = {
			trigger = {
				OR = {
					opinion = {
						who = event_target:tf_interaction_target
						value >= -25
					}
					
					2753 = { # Hangzhou
						check_variable = {
							which = treasure_fleet_army_strength
							value < 25
						}
					}
				}
			}
			
			factor = 100
		}
	}
}

# Local ruler gets ultimatum
character_event = {
	id = soh.8855
	desc = EVTDESC_SOH_8855
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8855 # I guess I'll accept...
		
		e_china = {
			holder_scope = {
				make_tributary = {
					who = ROOT
					tributary_type = chinese_peripheral_tributary
				}
			}
		}
		
		FROM = {
			character_event = { id = soh.8856 days = 1 }
		}
		
		ai_chance = {
			trigger = {
				root_hates_china_trigger = no
				lower_real_tier_than = emperor
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = proud
			}
			
			mult_modifier = {
				factor = 0.1
				trait = brave
			}
			
			mult_modifier = {
				factor = 0.1
				trait = ambitious
			}
			
			mult_modifier = {
				factor = 0.1
				tier = king
			}
			
			mult_modifier = {
				factor = 0.1
				2753 = { # Hangzhou
					check_variable = {
						which = treasure_fleet_army_strength
						value < 20
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8855 # Not happening!
		
		FROM = {
			character_event = { id = soh.8857 days = 1 }
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.5
				can_have_confucian_bureaucracy_and_eastern_imperial_trigger = yes
			}
			
			mult_modifier = {
				factor = 0.1
				trait = humble
			}
			
			mult_modifier = {
				factor = 0.1
				trait = craven
			}
			
			mult_modifier = {
				factor = 0.1
				trait = content
			}
			
			mult_modifier = {
				factor = 0.1
				tier = count
			}
			
			mult_modifier = {
				factor = 0.5
				2753 = { # Hangzhou
					check_variable = {
						which = treasure_fleet_army_strength
						value >= 50
					}
				}
			}
			
			mult_modifier = {
				factor = 0.5
				2753 = { # Hangzhou
					check_variable = {
						which = treasure_fleet_army_strength
						value >= 75
					}
				}
			}
			
			mult_modifier = {
				factor = 0.5
				2753 = { # Hangzhou
					check_variable = {
						which = treasure_fleet_army_strength
						value >= 100
					}
				}
			}
		}
	}
}

# Ultimatum accepted
character_event = {
	id = soh.8856
	desc = EVTDESC_SOH_8856
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8856 # Great!
		
		prestige = 100
	}
}

# Ultimatum refused - spawn a host under a new eunuch and have them declare war?
character_event = {
	id = soh.8857
	desc = EVTDESC_SOH_8857
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8857 # Then war it is!
		
		FROM = {
			save_event_target_as = treasure_fleet_attacker
			
			random_realm_province = {
				limit = {
					is_in_active_treasure_fleet_region_trigger = yes
				}
				
				save_event_target_as = treasure_fleet_beachhead
			}
		}
		
		create_new_court_eunuch_effect = yes
		
		new_character = {
			set_defacto_liege = THIS
			create_title = {
				tier = DUKE
				landless = yes
				adventurer = yes
				culture = ROOT
				name = "TRIBUTARY_WAR_HOST"
				holder = THIS
				base_title = THIS
			}
			
			save_event_target_as = treasure_fleet_punitive_expedition_leader
			
			disembark_regiments_until_stronger_or_unable_to_continue_effect = yes
			
			war = {
				target = event_target:treasure_fleet_attacker
				casus_belli = treasure_fleet_tributary_war
			}
		}
		
		ai_chance = {
			trigger = {
				opinion = {
					who = event_target:tf_interaction_target
					value < 25
				}
				
				2753 = { # Hangzhou
					check_variable = {
						which = treasure_fleet_army_strength
						value >= 15
					}
				}
			}
			
			factor = 100
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8857 # I guess that's that...
		
		prestige = -100
		
		ai_chance = {
			trigger = {
				OR = {
					opinion = {
						who = event_target:tf_interaction_target
						value >= -25
					}
					
					2753 = { # Hangzhou
						check_variable = {
							which = treasure_fleet_army_strength
							value < 25
						}
					}
				}
			}
			
			factor = 100
		}
	}
}

### Offer province modifier for gold?

# Make offer?
character_event = {
	id = soh.8858
	desc = EVTDESC_SOH_8858
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	immediate = {
		random_playable_ruler = {
			limit = {
				can_interact_with_treasure_fleet_trigger = yes
			}
			
			save_event_target_as = tf_interaction_target
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8858 # Yes!
		
		event_target:tf_interaction_target = {
			character_event = { id = soh.8859 days = 1 random = 1 }
		}
		
		ai_chance = {
			trigger = {
				opinion = {
					who = event_target:tf_interaction_target
					value >= -25
				}
			}
			
			factor = 100
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8858 # No!
		
		ai_chance = {
			trigger = {
				opinion = {
					who = event_target:tf_interaction_target
					value < 25
				}
			}
			
			factor = 100
		}
	}
}

# Offer is made
character_event = {
	id = soh.8859
	desc = EVTDESC_SOH_8859
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8859 # Yes!
		
		wealth = -100
		
		FROM = {
			character_event = { id = soh.8860 days = 1 }
		}
		
		ai_chance = {
			trigger = {
				wealth >= 100
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = greedy
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8859 # No!
		
		FROM = {
			character_event = { id = soh.8866 days = 1 }
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				wealth >= 1000
			}
		}
	}
}

# Offer accepted
character_event = {
	id = soh.8860
	desc = EVTDESC_SOH_8860
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			random_list = {
				1 = {
					character_event = { id = soh.8861 } # Paper mill
				}
				
				1 = {
					character_event = { id = soh.8862 } # Fireworks guild
				}
				
				1 = {
					character_event = { id = soh.8863 } # Dry docks
				}
				
				1 = {
					character_event = { id = soh.8864 } # Administrative outpost
				}
				
				1 = {
					character_event = { id = soh.8865 } # Blast furnace
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8860 # I'll keep this...
		
		add_trait_partially_greedy_effect = yes
		
		wealth = 100
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = charitable
				}
			}
			
			factor = 100
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8860 # This belongs to the EoC!
		
		remove_trait_greedy_effect = yes
		
		hidden_tooltip = {
			2753 = { # Hangzhou
				change_variable = {
					which = treasure_fleet_wealth
					value = 1
				}
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = greedy
				}
			}
			
			factor = 100
		}
	}
}

# Got a paper mill
character_event = {
	id = soh.8861
	desc = EVTDESC_SOH_8861
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	immediate = {
		random_demesne_province = {
			limit = {
				is_in_active_treasure_fleet_region_trigger = yes
			}
			
			save_event_target_as = tf_jd_modifier_province
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8861 # That's great!
		
		event_target:tf_jd_modifier_province = {
			add_province_modifier = {
				name = jd_paper_mill
				years = 20
			}
		}
	}
}

# Got a fireworks guild
character_event = {
	id = soh.8862
	desc = EVTDESC_SOH_8862
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	immediate = {
		random_demesne_province = {
			limit = {
				is_in_active_treasure_fleet_region_trigger = yes
			}
			
			save_event_target_as = tf_jd_modifier_province
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8862 # That's great!
		
		event_target:tf_jd_modifier_province = {
			add_province_modifier = {
				name = jd_fireworks_guild
				years = 20
			}
		}
	}
}

# Got dry docks
character_event = {
	id = soh.8863
	desc = EVTDESC_SOH_8863
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	immediate = {
		random_demesne_province = {
			limit = {
				is_in_active_treasure_fleet_region_trigger = yes
			}
			
			save_event_target_as = tf_jd_modifier_province
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8863 # That's great!
		
		event_target:tf_jd_modifier_province = {
			add_province_modifier = {
				name = jd_dry_docks
				years = 20
			}
		}
	}
}

# Got an administrative outpost
character_event = {
	id = soh.8864
	desc = EVTDESC_SOH_8864
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	immediate = {
		random_demesne_province = {
			limit = {
				is_in_active_treasure_fleet_region_trigger = yes
			}
			
			save_event_target_as = tf_jd_modifier_province
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8864 # That's great!
		
		event_target:tf_jd_modifier_province = {
			add_province_modifier = {
				name = jd_administrative_outpost
				years = 20
			}
		}
	}
}

# Got a blast furnace
character_event = {
	id = soh.8865
	desc = EVTDESC_SOH_8865
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	immediate = {
		random_demesne_province = {
			limit = {
				is_in_active_treasure_fleet_region_trigger = yes
			}
			
			save_event_target_as = tf_jd_modifier_province
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8865 # That's great!
		
		event_target:tf_jd_modifier_province = {
			add_province_modifier = {
				name = jd_blast_furnace
				years = 20
			}
		}
	}
}

# Offer refused
character_event = {
	id = soh.8866
	desc = EVTDESC_SOH_8866
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8866 # I see...
	}
}

### Local noble asks to join the TF - new character

# Local noble pledges themmself to you and joins the fleet
character_event = {
	id = soh.8867
	desc = EVTDESC_SOH_8867
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		random_playable_ruler = {
			limit = {
				can_interact_with_treasure_fleet_trigger = yes
			}
			
			random_demesne_province = {
				limit = {
					is_in_active_treasure_fleet_region_trigger = yes
				}
				
				save_event_target_as = tf_noble_province
			}
		}
		
		random_list = {
			50 = {
				create_character = {
					age = 25
					female = no
					dynasty = random
					culture = event_target:tf_noble_province
					religion = event_target:tf_noble_province
					random_traits =	yes
				}
			}
			
			50 = {
				create_character = {
					age = 25
					female = yes
					dynasty = random
					culture = event_target:tf_noble_province
					religion = event_target:tf_noble_province
					random_traits =	yes
				}
			}
		}
		
		new_character = {
			save_event_target_as = new_tf_character
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8867 # They're welcome here!
		
		event_target:new_tf_character = {
			add_trait = treasure_fleet_voyage
			
			opinion = {
				who = ROOT
				modifier = opinion_loyal_servant
			}
		}
	}
	
	option = {
		trigger = {
			ai = no
		}
		
		name = EVTOPTB_SOH_8867 # I don't like them!
		
		event_target:new_tf_character = {
			leave_court_and_die_effect = yes
		}
	}
}

# Gain sympathy
character_event = {
	id = soh.8868
	desc = EVTDESC_SOH_8868
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	immediate = {
		random_playable_ruler = {
			limit = {
				can_interact_with_treasure_fleet_trigger = yes
				NOT = {
					religion_group = ROOT
				}
			}
			
			save_event_target_as = tf_sympathy_target
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8868 # Great!
		
		event_target:tf_sympathy_target = {
			trigger_switch = {
				on_trigger = religion_group
				
				christian = { ROOT = { add_trait = sympathy_christendom } }
				jewish_group = { ROOT = { add_trait = sympathy_judaism } }
				muslim = { ROOT = { add_trait = sympathy_islam } }
				indian_group = { ROOT = { add_trait = sympathy_indian } }
				zoroastrian_group = { ROOT = { add_trait = sympathy_zoroastrianism } }
				pagan_group = { ROOT = { add_trait = sympathy_pagans } }
			}
		}
	}
}

### Local noble asks to join the TF - courtier

# Approached by local noble
character_event = {
	id = soh.8869
	desc = EVTDESC_SOH_8869
	picture = GFX_evt_treasure_fleet
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		# TIANXIATODO: Select a suitable courtier
		save_event_target_as = target_noble
		
		host = {
			save_event_target_as = target_noble_host
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8869 # They're welcome to join me!
		
		event_target:target_noble = {
			move_character = ROOT
			add_trait = treasure_fleet_voyage
			set_character_flag = no_court_invites
		}
		
		event_target:target_noble_host = {
			character_event = { id = soh.8870 } # Inform former host
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8869 # No thanks!
		
		event_target:target_noble = {
			opinion = {
				who = ROOT
				modifier = opinion_disappointed
			}
		}
	}
}

# Former host of courtier informed
character_event = {
	id = soh.8870
	desc = EVTDESC_SOH_8870
	picture = GFX_evt_treasure_fleet
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8870 # I see...
		
		opinion = {
			who = event_target:target_noble
			modifier = opinion_left_my_court
		}
	}
}

### Lifestyle events

# Architect spots interesting local architecture
character_event = {
	id = soh.8871
	desc = EVTDESC_SOH_8871
	picture = GFX_evt_trade_post_republic
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8871 # A curious design...
		
		prestige = 25
	}
}

# Architect helps someone interested in Chinese architecture
character_event = {
	id = soh.8872
	desc = EVTDESC_SOH_8872
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8872 # Of course I can tell you about our buildings!
		
		prestige = 100
	}
}

# Gardener investigates local flora
character_event = {
	id = soh.8873
	desc = EVTDESC_SOH_8873
	picture = GFX_evt_mysterious_forest
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8873 # What interesting plants they have!
		
		if = {
			limit = {
				society_member_of = hermetics # Or that other one...
			}
			
			hermetic_add_herbal_ingredient_effect = yes
			random = {
				chance = 50
				hermetic_add_herbal_ingredient_effect = yes
			}
		}
	}
}

# Hunter takes an interest in local fauna
character_event = {
	id = soh.8874
	desc = EVTDESC_SOH_8874
	picture = GFX_evt_mysterious_forest
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8874 # Such interesting beasts!
		
		prestige = 25
	}
}

# Hunter might tell tall tales
character_event = {
	id = soh.8875
	desc = EVTDESC_SOH_8875
	picture = GFX_evt_mysterious_forest
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8875 # We've got much larger beasts!
		
		prestige = 25
		
		random = {
			chance = 5
			add_trait_partially_deceitful_effect = yes
		}
		
		ai_chance = {
			trigger = {
				NOR = {
					trait = humble
					trait = honest
				}
			}
			
			factor = 100
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8875 # We've got all kinds of fantastical beasts!
		
		prestige = 25
		
		random = {
			chance = 5
			add_trait_partially_deceitful_effect = yes
		}
		
		ai_chance = {
			trigger = {
				NOR = {
					trait = humble
					trait = honest
				}
			}
			
			factor = 100
		}
	}
	
	option = {
		name = EVTOPTC_SOH_8875 # Our beasts are nothing special...
		
		prestige = -10
		
		random = {
			chance = 25
			add_trait_partially_honest_effect = yes
		}
		
		ai_chance = {
			trigger = {
				NOR = {
					trait = proud
					trait = deceitful
				}
			}
			
			factor = 100
		}
	}
}

# Someone else is attractive - attempt to seduce?
character_event = {
	id = soh.8876
	desc = EVTDESC_SOH_8876
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	immediate = {
		treasure_fleet_voyage = { # TIANXIATODO: Change to local character
			limit = {
				NOR = {
					character = ROOT
					has_character_flag = left_treasure_fleet_voyage
					is_friend = ROOT
					is_lover = ROOT
					is_rival = ROOT
				}
				is_adult = yes
				is_valid_romance_target = ROOT
			}
			
			save_event_target_as = treasure_fleet_lover
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8876 # Yes!
		
		event_target:treasure_fleet_lover = {
			character_event = { id = soh.8877 days = 1 } # Other party approached
		}
		
		piety = -10
		
		ai_chance = {
			trigger = {
				NOR = {
					trait = chaste
					trait = celibate
					AND = {
						is_ascetic_trigger = yes
						NOT = {
							trait = lustful
						}
					}
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				event_target:treasure_fleet_lover = {
					is_unattractive_trigger = yes
				}
			}
			
			mult_modifier = {
				factor = 5
				event_target:treasure_fleet_lover = {
					is_attractive_trigger = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_88876 # I don't think so!
		
		piety = 10
		
		ai_chance = {
			trigger = {
				NOR = {
					trait = lustful
					trait = master_seducer
					trait = master_seductress
				}
			}
			
			factor = 100
		}
	}
}

# Target approached
character_event = {
	id = soh.8877
	desc = EVTDESC_SOH_8877
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8877 # Yes!
		
		FROM = {
			character_event = { id = soh.8879 } # FROM informed
		}
		
		unprotected_sex_effect = yes
		
		piety = -10
		
		ai_chance = {
			trigger = {
				NOR = {
					trait = chaste
					trait = celibate
					AND = {
						is_ascetic_trigger = yes
						NOT = {
							trait = lustful
						}
					}
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				FROM = {
					is_unattractive_trigger = yes
				}
			}
			
			mult_modifier = {
				factor = 5
				FROM = {
					is_attractive_trigger = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8877 # I don't think so!
		
		FROM = {
			character_event = { id = soh.8878 } # FROM informed
		}
		
		piety = 10
		
		ai_chance = {
			trigger = {
				NOR = {
					trait = lustful
					trait = master_seducer
					trait = master_seductress
				}
			}
			
			factor = 100
		}
	}
}

# Seduction failed
character_event = {
	id = soh.8878
	desc = EVTDESC_SOH_8878
	picture = GFX_evt_treasure_fleet
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8878 # I see...
		
		prestige = -25
	}
}

# Seduction succeeded - lovers?
character_event = {
	id = soh.8879
	desc = EVTDESC_SOH_8879
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8879 # We should do this again!
		
		add_lover = FROM
		
		FROM = {
			character_event = { id = soh.8880 days = 1 } # Inform FROM
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8879 # This shouldn't become a long-term thing...
		
		FROM = {
			character_event = { id = soh.8881 days = 1 } # Inform FROM
		}
	}
}

# Lovers
character_event = {
	id = soh.8880
	desc = EVTDESC_SOH_8880
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8880 # That's great!
		
		add_lover = FROM
	}
}

# Not lovers
character_event = {
	id = soh.8881
	desc = EVTDESC_SOH_8881
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8881 # Perhaps that's for the best...
	}
}

# Duelist gets to duel locals
character_event = {
	id = soh.8882
	desc = EVTDESC_SOH_8882
	picture = GFX_evt_treasure_fleet
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8882 # You're on!
		
		add_one_duel_experience_modifier = yes
		
		random_list = {
			33 = {
				mult_modifier = {
					factor = 2
					combat_rating >= 50
				}
				
				character_event = { id = soh.8883 days = 1 random = 2 } # Duelist did well
			}
			
			34 = {
				character_event = { id = soh.8884 days = 1 random = 2 } # Duelist did okay
			}
			
			33 = {
				trigger = {
					combat_rating < 50
				}
				
				character_event = { id = soh.8885 days = 1 random = 2 } # Duelist did poorly
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = craven
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = slothful
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8882 # I have other things to do...
		
		prestige = -25
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = brave
				}
			}
			
			factor = 100
		}
	}
}

# Duelist did well
character_event = {
	id = soh.8883
	desc = EVTDESC_SOH_8883
	picture = GFX_evt_treasure_fleet
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8883 # I'm pretty good at this!
		
		prestige = 100
		
		random = {
			chance = 25
			add_trait_partially_proud_effect = yes
		}
	}
}

# Duelist did okay
character_event = {
	id = soh.8884
	desc = EVTDESC_SOH_8884
	picture = GFX_evt_treasure_fleet
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8884 # Well fought!
		
		prestige = 25
	}
}

# Duelist did poorly
character_event = {
	id = soh.8885
	desc = EVTDESC_SOH_8885
	picture = GFX_evt_treasure_fleet
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8885 # Ow!
		
		prestige = -50
		
		add_trait_wounded_effect = yes
	}
}

# Gamer might gamble - unfamiliar games
character_event = {
	id = soh.8886
	desc = EVTDESC_SOH_8886
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	trigger = {
		NOT = {
			has_global_flag = treasure_fleet_destroyed
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8886 # You're on!
		
		random_list = {
			25 = {
				character_event = { id = soh.8887 days = 1 random = 2 } # Gamer won
			}
			
			75 = {
				character_event = { id = soh.8888 days = 1 random = 2 } # Gamer lost
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = craven
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.01
				trait = paranoid
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8886 # I have other things to do...
		
		prestige = -25
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = brave
				}
			}
			
			factor = 100
		}
	}
}

# Gamer won
character_event = {
	id = soh.8887
	desc = EVTDESC_SOH_8887
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8887 # Victory is mine!
		
		wealth = 100
	}
}

# Gamer lost
character_event = {
	id = soh.8888
	desc = EVTDESC_SOH_8888
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8888 # This cannot be!
		
		wealth = -100
	}
}

# Gamer might gamble - familiar games
character_event = {
	id = soh.8889
	desc = EVTDESC_SOH_8889
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	trigger = {
		NOT = {
			has_global_flag = treasure_fleet_destroyed
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8889 # You're on!
		
		add_one_duel_experience_modifier = yes
		
		random_list = {
			75 = {
				character_event = { id = soh.8890 days = 1 random = 2 } # Gamer won
			}
			
			25 = {
				character_event = { id = soh.8891 days = 1 random = 2 } # Gamer lost
			}
		}
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = craven
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.01
				trait = paranoid
			}
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8889 # I have other things to do...
		
		prestige = -25
		
		ai_chance = {
			trigger = {
				NOT = {
					trait = brave
				}
			}
			
			factor = 100
		}
	}
}

# Gamer won
character_event = {
	id = soh.8890
	desc = EVTDESC_SOH_8890
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8890 # Victory is mine!
		
		wealth = 100
	}
}

# Gamer lost
character_event = {
	id = soh.8891
	desc = EVTDESC_SOH_8891
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8891 # This cannot be!
		
		wealth = -100
	}
}

# Strategist might make invasion plans, just in case...
character_event = {
	id = soh.8892
	desc = EVTDESC_SOH_8892
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8892 # Just in case...
		
		set_character_flag = treasure_fleet_planned_invasion
	}
}

# Scholar engages in scholarship - decide on sub-event
character_event = {
	id = soh.8893
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		random_list = {
			75 = {
				character_event = { id = soh.8894 } # Scholar impresses locals
			}
			
			25 = {
				character_event = { id = soh.8895 } # Scholar gains technological insight
			}
		}
	}
}

# Scholar impresses locals
character_event = {
	id = soh.8894
	desc = EVTDESC_SOH_8894
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8894 # I *am* pretty great...
		
		prestige = 50
		
		random = {
			chance = 25
			add_trait_partially_proud_effect = yes
		}
	}
}

# Scholar gains technological insights
character_event = {
	id = soh.8895
	desc = EVTDESC_SOH_8895
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8895 # So obvious!
		
		military_techpoints = 15
		economy_techpoints = 15
		culture_techpoints = 15
	}
}

### Drinking with locals

# Drinking with locals - invitation
character_event = {
	id = soh.8896
	desc = EVTDESC_SOH_8896
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	trigger = {
		NOT = {
			has_global_flag = treasure_fleet_destroyed
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8896 # I'll drink with you!
		
		random_list = {
			25 = {
				trigger = {
					NOT = {
						trait = drunkard
					}
				}
				
				character_event = { id = soh.8897 days = 1 } # Felt ill
			}
			
			25 = {
				character_event = { id = soh.8898 days = 1 } # Woke up with a hangover
			}
			
			25 = {
				mult_modifier = {
					factor = 2
					trait = drunkard
				}
				
				character_event = { id = soh.8899 days = 1 } # Made a fool of yourself
			}
			
			50 = {
				character_event = { id = soh.8900 days = 1 } # Nothing of note
			}
			
			25 = {
				trigger = {
					trait = temperate
				}
				
				character_event = { id = soh.8901 days = 1 } # Lost Temperate
			}
			
			25 = {
				trigger = {
					trait = drunkard
				}
				
				mult_modifier = {
					factor = 0.1
					trait = temperate
				}
				
				character_event = { id = soh.8902 days = 1 } # Drank them under the table
			}
			
			25 = {
				trigger = {
					NOT = {
						trait = drunkard
					}
				}
				
				character_event = { id = soh.8903 days = 1 } # Became drunkard
			}
		}
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.01
				trait = temperate
			}
			
			mult_modifier = {
				factor = 0.01
				religion_group = muslim
				NOT = {
					trait = decadent
				}
			}
		}
	}
	
	option = {
		trigger = {
			NOT = {
				trait = drunkard
			}
		}
		
		name = EVTOPTB_SOH_8896 # I think not!
		
		prestige = -50
		
		ai_chance = {
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				NOT = {
					trait = temperate
				}
			}
			
			mult_modifier = {
				factor = 10
				trait = proud
			}
		}
	}
}

# Drinking with locals - felt ill
character_event = {
	id = soh.8897
	desc = EVTDESC_SOH_8897
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8897 # Out of my way!
		
		prestige = -25
	}
}

# Drinking with locals - hangover
character_event = {
	id = soh.8898
	desc = EVTDESC_SOH_8898
	picture = GFX_evt_drunk
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8898 # My head!
		
		prestige = -50
	}
}

# Drinking with locals - made a fool of yourself
character_event = {
	id = soh.8899
	desc = EVTDESC_SOH_8899
	picture = GFX_evt_drunk
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8899 # I did what?
		
		prestige = -100
	}
}

# Drinking with locals - nothing of note
character_event = {
	id = soh.8900
	desc = EVTDESC_SOH_8900
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8900 # I suppose that was okay...
	}
}

# Drinking with locals - lost Temperate
character_event = {
	id = soh.8901
	desc = EVTDESC_SOH_8901
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8901 # I should drink more often...
		
		add_trait_partially_drunkard_effect = yes
	}
}

# Drinking with locals - drank them under the table
character_event = {
	id = soh.8902
	desc = EVTDESC_SOH_8902
	picture = GFX_evt_treasure_fleet
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8902 # I'm good at this!
		
		prestige = 50
	}
}

# Drinking with locals - become Drunkard
character_event = {
	id = soh.8903
	desc = EVTDESC_SOH_8903
	picture = GFX_evt_treasure_fleet
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8903 # Another round?
		
		add_trait_partially_drunkard_effect = yes
	}
}

### Lunatic events

# Lunatic is lunatic
character_event = {
	id = soh.8904
	desc = EVTDESC_SOH_8904
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8904 # I'll show them a "crazy foreigner!"
		
		prestige = -25
	}
}

# Lunatic might go native
character_event = {
	id = soh.8905
	desc = EVTDESC_SOH_8905
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		# TIANXIATODO: Proper province
		save_event_target_as = native_province
	}
	
	option = {
		name = EVTOPTA_SOH_8905 # This is right for me!
		
		culture = event_target:native_province
		religion = event_target:native_province
	}
	
	option = {
		trigger = {
			ai = no
		}
		
		name = EVTOPTB_SOH_8905 # I'm not *that* crazy...
	}
}

### Stressed
character_event = {
	id = soh.8906
	desc = EVTDESC_SOH_8906
	picture = GFX_evt_trade_post_republic
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8906 # I don't have time for everything...
		
		random = {
			chance = 25
			add_trait_stressed_effect = yes
		}
	}
}

### Physician events

# Physician teaches locals
character_event = {
	id = soh.8907
	desc = EVTDESC_SOH_8907
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8907 # We do have some special knowledge, I suppose...
		
		prestige = 25
	}
}

# Physician helps locals
character_event = {
	id = soh.8908
	desc = EVTDESC_SOH_8908
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8908 # All in a day's work
		
		wealth = 25
	}
}

### Attractive/Groomed

# Someone wants to tumble
character_event = {
	id = soh.8909
	desc = EVTDESC_SOH_8909
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		random_playable_ruler = { # TIANXIATODO: Select a local ruler
			if = {
				limit = {
					ROOT = {
						is_female = yes
						trait = homosexual
					}
				}
				
				create_character = {
					age = 19
					female = yes
					culture = PREV
					religion = PREV
					trait = homosexual
					trait = lustful
					trait = strong
					trait = ambitious
					trait = underhanded_rogue
				}
				
				new_character = {
					save_event_target_as = sex_partner
				}
			}
			
			else_if = {
				limit = {
					ROOT = {
						is_female = yes
						NOT = {
							trait = homosexual
						}
					}
				}
				
				create_character = {
					age = 19
					female = no
					culture = PREV
					religion = PREV
					trait = lustful
					trait = strong
					trait = ambitious
					trait = underhanded_rogue
				}
				
				new_character = {
					save_event_target_as = sex_partner
				}
			}
			
			else_if = {
				limit = {
					ROOT = {
						is_female = no
						trait = homosexual
					}
				}
				
				create_character = {
					age = 19
					female = no
					culture = PREV
					religion = PREV
					trait = homosexual
					trait = lustful
					trait = strong
					trait = ambitious
					trait = underhanded_rogue
				}
				
				new_character = {
					save_event_target_as = sex_partner
				}
			}
			
			else_if = {
				limit = {
					ROOT = {
						is_female = no
						NOT = {
							trait = homosexual
						}
					}
				}
				
				create_character = {
					age = 19
					female = yes
					culture = PREV
					religion = PREV
					trait = lustful
					trait = strong
					trait = ambitious
					trait = underhanded_rogue
				}
				
				new_character = {
					save_event_target_as = sex_partner
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8909 # I like the way you think!
		
		
		add_lover = event_target:sex_partner
		
		unprotected_sex_effect_event_target = yes
		
		ai_chance = {
			trigger = {
				NOR = {
					trait = chaste
					AND = {
						trait = celibate
						NOT = {
							trait = lustful
						}
					}
				}
			}
			
			factor = 100
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8909 # Just this once!
		
		unprotected_sex_effect_event_target = yes
		
		ai_chance = {
			trigger = {
				NOR = {
					trait = chaste
					AND = {
						trait = celibate
						NOT = {
							trait = lustful
						}
					}
				}
			}
			
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				trait = kind
			}
			
			mult_modifier = {
				factor = 0.1
				trait = humble
			}
		}
	}
	
	option = {
		name = EVTOPTC_SOH_8909 # I think not!
		
		event_target:sex_partner = {
			leave_court_and_die_effect = yes
		}
		
		ai_chance = {
			trigger = {
				NAND = {
					trait = lustful
					NOR = {
						trait = celibate
						trait = proud
					}
				}
			}
			
			factor = 100
			
			mult_modifier = {
				factor = 0.1
				NOR = {
					trait = chaste
					trait = celibate
				}
			}
		}
	}
}

# Become more Groomed
character_event = {
	id = soh.8910
	desc = EVTDESC_SOH_8910
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8910 # I need to look my best!
		
		add_trait_partially_groomed_effect = yes
	}
}

### Charitable events

# Share China's prosperity?
character_event = {
	id = soh.8911
	desc = EVTDESC_SOH_8911
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8911 # Of course!
		
		add_trait_charitable_effect = yes
		
		# TIANXIATODO: Detract Treasure Fleet wealth
		# TIANXIATODO: Local province might gain a small Prosperity boost with RD
		
		ai_chance = {
			factor = 100
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8911 # "Share our prosperity", yes...
		
		add_trait_partially_ambitious_effect = yes
		
		ai_chance = {
			trigger = {
				NOR = {
					trait = charitable
					trait = content
				}
			}
			
			factor = 100
		}
	}
}

### Humble/Proud events

# Locals are maybe not so bad
character_event = {
	id = soh.8912
	desc = EVTDESC_SOH_8912
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8912 # We should not judge them too hastily!
		
		add_trait_humble_effect = yes
	}
}

# Locals are clearly inferior
character_event = {
	id = soh.8913
	desc = EVTDESC_SOH_8913
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8913 # How barbaric!
		
		add_trait_proud_effect = yes
	}
}

### Trying new food

# Become more gluttonous
character_event = {
	id = soh.8914
	desc = EVTDESC_SOH_8914
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	trigger = {
		NOT = {
			has_global_flag = treasure_fleet_destroyed
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8914 # I want more of that!
		
		add_trait_partially_gluttonous_effect = yes
	}
}

# Become fatter
character_event = {
	id = soh.8915
	desc = EVTDESC_SOH_8915
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	trigger = {
		NOT = {
			has_global_flag = treasure_fleet_destroyed
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8915 # I ate quite a lot...
		
		random_list = {
			1 = {
				gain_weight_small_effect = yes
			}
			
			1 = {
				gain_weight_medium_effect = yes
			}
			
			1 = {
				gain_weight_large_effect = yes
			}
		}
	}
}

### Shy/Slothful might stay on ship
character_event = {
	id = soh.8916
	desc = EVTDESC_SOH_8916
	picture = GFX_evt_treasure_fleet
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8916 # Maybe I should just stay here...
		
		prestige = -10
	}
	
	option = {
		name = EVTOPTB_SOH_8916 # Maybe I could use some time off the ship...
		
		random = {
			chance = 5
			remove_trait_shy_effect = yes
		}
		
		random = {
			chance = 5
			remove_trait_slothful_effect = yes
		}
	}
}

### Envy of locals

# Envy
character_event = {
	id = soh.8917
	desc = EVTDESC_SOH_8917
	picture = GFX_evt_trade_post_republic
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8917 # I envy them so...
		
		add_trait_partially_envious_effect = yes
	}
}

### Just/Arbitrary events

# Studying local laws
character_event = {
	id = soh.8918
	desc = EVTDESC_SOH_8918
	picture = GFX_evt_trade_post_republic
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8918 # We should not give them cause to arrest us...
		
		add_trait_partially_just_effect = yes
	}
}

# Flaunting local laws
character_event = {
	id = soh.8919
	desc = EVTDESC_SOH_8919
	picture = GFX_evt_trade_post_republic
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8919 # Who cares about their silly laws!
		
		add_trait_partially_arbitrary_effect = yes
	}
}

### Deceitful Grace

# Gold for "Grace" that never is given
character_event = {
	id = soh.8920
	desc = EVTDESC_SOH_8920
	picture = GFX_evt_trade_post_republic
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8920 # Such gullible fools!
		
		add_trait_deceitful_effect = yes
		
		wealth = 50
		
		piety = -25
	}
}

### Paranoia

# Paranoid character is certain they're being followed
character_event = {
	id = soh.8921
	desc = EVTDESC_SOH_8921
	picture = GFX_evt_shadow
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8921 # They're after me!
		
		prestige = -25
	}
}

# Paranoid character feels safe
character_event = {
	id = soh.8922
	desc = EVTDESC_SOH_8922
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8922 # I feel safe!
		
		remove_trait_paranoid_effect = yes
	}
}

### Zealous events

# Locals' religion is weird
character_event = {
	id = soh.8923
	desc = EVTDESC_SOH_8923
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	trigger = {
		NOT = {
			has_global_flag = treasure_fleet_destroyed
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8923 # Their ways are wrong!
		
		piety = 25
		
		add_trait_partially_zealous_effect = yes
	}
}

### Faqih

# Faqih impresses locals
character_event = {
	id = soh.8924
	desc = EVTDESC_SOH_8924
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8924 # God is great!
		
		piety = 50
	}
}

### Child meets local child events

# Child might be attracted to local child
character_event = {
	id = soh.8925
	desc = EVTDESC_SOH_8925
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		# TIANXIATODO: Select a suitable local child
		save_event_target_as = local_child
	}
	
	option = {
		trigger = { # Sanity check
			NAND = {
				trait = homosexual
				is_opposite_sex = event_target:local_child
			}
		}
		
		name = EVTOPTA_SOH_8925 # They're pretty!
		
		if = {
			limit = {
				same_sex = event_target:local_child
				NOT = {
					trait = homosexual
				}
			}
			
			add_trait = homosexual
		}
		
		opinion = {
			who = event_target:local_child
			modifier = opinion_infatuated
		}
		
		event_target:local_child = {
			character_event = { id = soh.8926 } # Inform local child
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8925 # I'm not interested!
	}
}

# Inform local child
character_event = {
	id = soh.8926
	desc = EVTDESC_SOH_8926
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NAND = {
				trait = homosexual
				is_opposite_sex = event_target:local_child
			}
		}
		
		name = EVTOPTA_SOH_8926 # They're pretty!
		
		if = {
			limit = {
				same_sex = FROM
				NOT = {
					trait = homosexual
				}
			}
			
			add_trait = homosexual
		}
		
		opinion = {
			who = FROM
			modifier = opinion_infatuated
		}
	}
	
	option = {
		trigger = {
			NAND = {
				trait = homosexual
				is_opposite_sex = event_target:local_child
			}
		}
		
		name = EVTOPTB_SOH_8926 # I'm not interested!
	}
	
	option = {
		trigger = {
			trait = homosexual
			is_opposite_sex = event_target:local_child
		}
		
		name = EVTOPTC_SOH_8926 # Ew! I don't swing that way!
	}
}

# Child might try to befriend local child
character_event = {
	id = soh.8927
	desc = EVTDESC_SOH_8927
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		# TIANXIATODO: Select a suitable local child
		save_event_target_as = local_child
	}
	
	option = {
		name = EVTOPTA_SOH_8927 # We should be friends!
		
		event_target:local_child = {
			character_event = { id = soh.8928 } # Inform local child
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8927 # I'm not interested!
	}
}

# Local child gets to respond
character_event = {
	id = soh.8928
	desc = EVTDESC_SOH_8928
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8928 # We should be friends!
		
		add_friend = FROM
		
		FROM = {
			character_event = { id = soh.8929 } # Inform FROM
		}
	}
	
	option = {
		name = EVTOPTB_SOH_8928 # I don't like them!
		
		FROM = {
			character_event = { id = soh.8930 } # Inform FROM
		}
	}
}

# Friends
character_event = {
	id = soh.8929
	desc = EVTDESC_SOH_8929
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8929 # Best friends forever!
		
		add_friend = FROM
	}
}

# Not friends
character_event = {
	id = soh.8930
	desc = EVTDESC_SOH_8930
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8930 # We could have had so much fun together!
		
		opinion = {
			who = FROM
			modifier = opinion_sad
		}
	}
}

# Neutral interaction - child from TF
character_event = {
	id = soh.8931
	desc = EVTDESC_SOH_8931
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		# TIANXIATODO: Select a suitable local child
		save_event_target_as = local_child
	}
	
	option = {
		name = EVTOPTA_SOH_8931 # I suppose that's that...
		
		event_target:local_child = {
			character_event = { id = soh.8932 } # Inform local child
		}
	}
}

# Neutral interaction - local child
character_event = {
	id = soh.8932
	desc = EVTDESC_SOH_8932
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8932 # I suppose that's that...
	}
}

# Rivalry - child from TF
character_event = {
	id = soh.8933
	desc = EVTDESC_SOH_8933
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		# TIANXIATODO: Select a suitable local child
		save_event_target_as = local_child
	}
	
	option = {
		name = EVTOPTA_SOH_8933 # I hate you!
		
		add_rival = event_target:local_child
		
		event_target:local_child = {
			character_event = { id = soh.8934 } # Inform local child
		}
	}
}

# Rivalry - local child
character_event = {
	id = soh.8934
	desc = EVTDESC_SOH_8934
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8934 # Not as much as I hate you!
		
		add_rival = FROM
	}
}

### Child skill boost events

# Skill boost - diplomacy
character_event = {
	id = soh.8935
	desc = EVTDESC_SOH_8935
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8935 # I learned something today!
		
		change_diplomacy = 1
		
		set_character_flag = treasure_fleet_port_diplomacy
	}
}

# Skill boost - martial
character_event = {
	id = soh.8936
	desc = EVTDESC_SOH_8936
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8936 # I learned something today!
		
		change_martial = 1
		
		set_character_flag = treasure_fleet_port_martial
	}
}

# Skill boost - stewardship
character_event = {
	id = soh.8937
	desc = EVTDESC_SOH_8937
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8937 # I learned something today!
		
		change_stewardship = 1
		
		set_character_flag = treasure_fleet_port_stewardship
	}
}

# Skill boost - intrigue
character_event = {
	id = soh.8938
	desc = EVTDESC_SOH_8938
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8938 # I learned something today!
		
		change_intrigue = 1
		
		set_character_flag = treasure_fleet_port_intrigue
	}
}

# Skill boost - learning
character_event = {
	id = soh.8939
	desc = EVTDESC_SOH_8939
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8939 # I learned something today!
		
		change_learning = 1
		
		set_character_flag = treasure_fleet_port_learning
	}
}

### Childhood trait gain events

# Gain Affectionate
character_event = {
	id = soh.8940
	desc = EVTDESC_SOH_8940
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8940 # This is right for me!
		
		add_trait = affectionate
	}
}

# Gain Playful
character_event = {
	id = soh.8941
	desc = EVTDESC_SOH_8941
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8941 # This is right for me!
		
		add_trait = playful
	}
}

# Gain Haughty
character_event = {
	id = soh.8942
	desc = EVTDESC_SOH_8942
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8942 # This is right for me!
		
		add_trait = haughty
	}
}

# Gain Rowdy
character_event = {
	id = soh.8943
	desc = EVTDESC_SOH_8943
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8943 # This is right for me!
		
		add_trait = rowdy
	}
}

# Gain Conscientious
character_event = {
	id = soh.8944
	desc = EVTDESC_SOH_8944
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8944 # This is right for me!
		
		add_trait = conscientious
	}
}

# Gain Fussy
character_event = {
	id = soh.8945
	desc = EVTDESC_SOH_8945
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8945 # This is right for me!
		
		add_trait = fussy
	}
}

# Gain Brooding
character_event = {
	id = soh.8946
	desc = EVTDESC_SOH_8946
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8946 # This is right for me!
		
		add_trait = brooding
	}
}

# Gain Indolent
character_event = {
	id = soh.8947
	desc = EVTDESC_SOH_8947
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8947 # This is right for me!
		
		add_trait = indolent
	}
}

# Gain Willful
character_event = {
	id = soh.8948
	desc = EVTDESC_SOH_8948
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8948 # This is right for me!
		
		add_trait = willful
	}
}

# Gain Curious
character_event = {
	id = soh.8949
	desc = EVTDESC_SOH_8949
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8949 # This is right for me!
		
		add_trait = curious
	}
}

# Gain Idolizer
character_event = {
	id = soh.8950
	desc = EVTDESC_SOH_8950
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8950 # This is right for me!
		
		add_trait = idolizer
	}
}

# Gain Timid
character_event = {
	id = soh.8951
	desc = EVTDESC_SOH_8951
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8951 # This is right for me!
		
		add_trait = timid
	}
}



### Affectionate events

# Affectionate turns into Kind
character_event = {
	id = soh.8952
	desc = EVTDESC_SOH_8952
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8952 # This is right for me!
		
		set_character_flag = was_affectionate
		
		remove_trait = affectionate
		
		add_trait_kind_effect = yes
	}
}

# Affectionate turns into Humble
character_event = {
	id = soh.8953
	desc = EVTDESC_SOH_8953
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8953 # This is right for me!
		
		set_character_flag = was_affectionate
		
		remove_trait = affectionate
		
		add_trait_humble_effect = yes
	}
}

# Affectionate turns into Charitable
character_event = {
	id = soh.8954
	desc = EVTDESC_SOH_8954
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8954 # This is right for me!
		
		set_character_flag = was_affectionate
		
		remove_trait = affectionate
		
		add_trait_charitable_effect = yes
	}
}

# Affectionate child gets a friend
character_event = {
	id = soh.8955
	desc = EVTDESC_SOH_8955
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		# TIANXIATODO: Change to some preferably AI ruler at the current location
		d_treasure_fleet = {
			holder_scope = {
				create_character = {
					age = 12
					female = 50
					culture = PREV
					religion = PREV
					random_traits = yes
					trait = treasure_fleet_voyage
				}
				
				new_character = {
					save_event_target_as = new_friend
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8955 # Best friends forever!
		
		add_friend = event_target:new_friend
	}
}

### Playful events

# Playful turns into Deceitful
character_event = {
	id = soh.8956
	desc = EVTDESC_SOH_8956
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8956 # This is right for me!
		
		set_character_flag = was_playful
		
		remove_trait = playful
		
		add_trait_deceitful_effect = yes
	}
}

# Playful turns into Gregarious
character_event = {
	id = soh.8957
	desc = EVTDESC_SOH_8957
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8957 # This is right for me!
		
		set_character_flag = was_playful
		
		remove_trait = playful
		
		add_trait_gregarious_effect = yes
	}
}

# Playful turns into Cruel
character_event = {
	id = soh.8958
	desc = EVTDESC_SOH_8958
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8958 # This is right for me!
		
		set_character_flag = was_playful
		
		remove_trait = playful
		
		add_trait_cruel_effect = yes
	}
}

# Playful turns into Greedy
character_event = {
	id = soh.8959
	desc = EVTDESC_SOH_8959
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8959 # This is right for me!
		
		set_character_flag = was_playful
		
		remove_trait = playful
		
		add_trait_greedy_effect = yes
	}
}

### Haughty events

# Haughty turns into Proud
character_event = {
	id = soh.8960
	desc = EVTDESC_SOH_8960
	picture = GFX_evt_china_golden_age
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8960 # This is right for me!
		
		set_character_flag = was_haughty
		
		remove_trait = haughty
		
		add_trait_proud_effect = yes
	}
}

# Haughty turns into Cruel
character_event = {
	id = soh.8961
	desc = EVTDESC_SOH_8961
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8961 # This is right for me!
		
		set_character_flag = was_haughty
		
		remove_trait = haughty
		
		add_trait_cruel_effect = yes
	}
}

# Haughty turns into Arbitrary
character_event = {
	id = soh.8962
	desc = EVTDESC_SOH_8962
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8962 # This is right for me!
		
		set_character_flag = was_haughty
		
		remove_trait = haughty
		
		add_trait_arbitrary_effect = yes
	}
}

# Haughty turns into Groomed
character_event = {
	id = soh.8963
	desc = EVTDESC_SOH_8963
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8963 # This is right for me!
		
		set_character_flag = was_haughty
		
		remove_trait = haughty
		
		add_trait_groomed_effect = yes
	}
}

# Haughty child is taught a lesson
character_event = {
	id = soh.8964
	desc = EVTDESC_SOH_8964
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8964 # You're hurting me!
		
		prestige = -50
		
		random = {
			chance = 50
			add_trait_wounded_effect = yes
		}
	}
}

### Rowdy events

# Rowdy turns into Dull
character_event = {
	id = soh.8965
	desc = EVTDESC_SOH_8965
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8965 # This is right for me!
		
		set_character_flag = was_rowdy
		
		remove_trait = rowdy
		
		add_trait_dull_effect = yes
	}
}

# Rowdy turns into Brave
character_event = {
	id = soh.8966
	desc = EVTDESC_SOH_8966
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8966 # This is right for me!
		
		set_character_flag = was_rowdy
		
		remove_trait = rowdy
		
		add_trait_brave_effect = yes
	}
}

# Rowdy child gets into a fight
character_event = {
	id = soh.8967
	desc = EVTDESC_SOH_8967
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8967 # Let's fight!
		
		prestige = 10
		
		random = {
			chance = 10
			add_trait_wounded_effect = yes
		}
	}
}

### Conscientious events

# Conscientious turns into Temperate
character_event = {
	id = soh.8968
	desc = EVTDESC_SOH_8968
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8968 # This is right for me!
		
		set_character_flag = was_conscientious
		
		remove_trait = conscientious
		
		add_trait_temperate_effect = yes
	}
}

# Conscientious turns into Just
character_event = {
	id = soh.8969
	desc = EVTDESC_SOH_8969
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8969 # This is right for me!
		
		set_character_flag = was_conscientious
		
		remove_trait = conscientious
		
		add_trait_just_effect = yes
	}
}

# Conscientious child is praised
character_event = {
	id = soh.8970
	desc = EVTDESC_SOH_8970
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8970 # I'm only doing what's right...
		
		piety = 25
	}
}

### Fussy events

# Fussy turns into Patient
character_event = {
	id = soh.8971
	desc = EVTDESC_SOH_8971
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8971 # This is right for me!
		
		set_character_flag = was_fussy
		
		remove_trait = fussy
		
		add_trait_patient_effect = yes
	}
}

# Fussy turns into Stubborn
character_event = {
	id = soh.8972
	desc = EVTDESC_SOH_8972
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8972 # This is right for me!
		
		set_character_flag = was_fussy
		
		remove_trait = fussy
		
		add_trait_stubborn_effect = yes
	}
}

# Fussy child annoys locals
character_event = {
	id = soh.8973
	desc = EVTDESC_SOH_8973
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8973 # But everything should be in it's place!
		
		prestige = -25
	}
}

### Brooding events

# Brooding turns into Erudite
character_event = {
	id = soh.8974
	desc = EVTDESC_SOH_8974
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8974 # This is right for me!
		
		set_character_flag = was_brooding
		
		remove_trait = brooding
		
		add_trait_erudite_effect = yes
	}
}

# Brooding turns into Envious
character_event = {
	id = soh.8975
	desc = EVTDESC_SOH_8975
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8975 # This is right for me!
		
		set_character_flag = was_brooding
		
		remove_trait = brooding
		
		add_trait_envious_effect = yes
	}
}

# Brooding turns into Shy
character_event = {
	id = soh.8976
	desc = EVTDESC_SOH_8976
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8976 # This is right for me!
		
		set_character_flag = was_brooding
		
		remove_trait = brooding
		
		add_trait_shy_effect = yes
	}
}

# Brooding child is seen as full of themself
character_event = {
	id = soh.8977
	desc = EVTDESC_SOH_8977
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8977 # Maybe I *am* haughty...
		
		piety = -25
		
		set_character_flag = was_brooding
		remove_trait = brooding
		add_trait = haughty
	}
}

### Indolent events

# Indolent turns into Slothful
character_event = {
	id = soh.8978
	desc = EVTDESC_SOH_8978
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8978 # This is right for me!
		
		set_character_flag = was_indolent
		
		remove_trait = indolent
		
		add_trait_slothful_effect = yes
	}
}

# Indolent turns into Gregarious
character_event = {
	id = soh.8979
	desc = EVTDESC_SOH_8979
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8979 # This is right for me!
		
		set_character_flag = was_indolent
		remove_trait = indolent
		add_trait = gregarious
	}
}

### Willful events

# Willful turns into Brave
character_event = {
	id = soh.8980
	desc = EVTDESC_SOH_8980
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8980 # This is right for me!
		
		set_character_flag = was_willful
		
		remove_trait = willful
		
		add_trait_brave_effect = yes
	}
}

# Willful turns into Ambitious
character_event = {
	id = soh.8981
	desc = EVTDESC_SOH_8981
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8981 # This is right for me!
		
		set_character_flag = was_willful
		
		remove_trait = willful
		
		add_trait_ambitious_effect = yes
	}
}

# Willful turns into Stubborn
character_event = {
	id = soh.8982
	desc = EVTDESC_SOH_8982
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8982 # This is right for me!
		
		set_character_flag = was_willful
		
		remove_trait = willful
		
		add_trait_stubborn_effect = yes
	}
}

# Willful turns into Proud
character_event = {
	id = soh.8983
	desc = EVTDESC_SOH_8983
	picture = GFX_evt_china_golden_age
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8983 # This is right for me!
		
		set_character_flag = was_willful
		
		remove_trait = willful
		
		add_trait_proud_effect = yes
	}
}

# Willful child gets on people's nerves
character_event = {
	id = soh.8984
	desc = EVTDESC_SOH_8984
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8984 # But I want things my way!
		
		piety = -25
	}
}

### Curious events

# Curious turns into Shrewd
character_event = {
	id = soh.8985
	desc = EVTDESC_SOH_8985
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8985 # This is right for me!
		
		set_character_flag = was_curious
		
		remove_trait = curious
		
		add_trait_shrewd_effect = yes
	}
}

# Curious child picks up Sympathy
character_event = {
	id = soh.8986
	desc = EVTDESC_SOH_8986
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	immediate = {
		clr_character_flag = sympathy_christendom
		clr_character_flag = sympathy_indian
		clr_character_flag = sympathy_islam
		clr_character_flag = sympathy_judaism
		clr_character_flag = sympathy_pagans
		clr_character_flag = sympathy_zoroastrianism
		
		# TIANXIATODO: Select off of valid provinces
		
		random_list = {
			10 = {
				trigger = {
					NOR = {
						religion_group = christian
						trait = sympathy_christendom
					}
				}
				
				set_character_flag = sympathy_christendom
			}
			
			10 = {
				trigger = {
					NOR = {
						religion_group = indian_group
						trait = sympathy_indian
					}
				}
				
				set_character_flag = sympathy_indian
			}
			
			10 = {
				trigger = {
					NOR = {
						religion_group = muslim
						trait = sympathy_islam
					}
				}
				
				set_character_flag = sympathy_islam
			}
			
			10 = {
				trigger = {
					NOR = {
						religion_group = jewish_group
						trait = sympathy_judaism
					}
				}
				
				set_character_flag = sympathy_judaism
			}
			
			10 = {
				trigger = {
					NOR = {
						religion_group = pagan_group
						trait = sympathy_pagans
					}
				}
				
				set_character_flag = sympathy_pagans
			}
			
			10 = {
				trigger = {
					NOR = {
						religion_group = zoroastrian_group
						trait = sympathy_zoroastrianism
					}
				}
				
				set_character_flag = sympathy_zoroastrianism
			}
		}
	}
	
	option = {
		name = EVTOPTA_SOH_8986 # Their ways are interesting!
		
		trigger_switch = {
			on_trigger = has_character_flag
			
			sympathy_christendom = { add_trait = sympathy_christendom }
			sympathy_indian = { add_trait = sympathy_indian }
			sympathy_islam = { add_trait = sympathy_islam }
			sympathy_judaism = { add_trait = sympathy_judaism }
			sympathy_pagans = { add_trait = sympathy_pagans }
			sympathy_zoroastrianism = { add_trait = sympathy_zoroastrianism }
		}
	}
	
	after = {
		clr_character_flag = sympathy_christendom
		clr_character_flag = sympathy_indian
		clr_character_flag = sympathy_islam
		clr_character_flag = sympathy_judaism
		clr_character_flag = sympathy_pagans
		clr_character_flag = sympathy_zoroastrianism
	}
}

# Curious turns into Patient
character_event = {
	id = soh.8987
	desc = EVTDESC_SOH_8987
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8987 # This is right for me!
		
		set_character_flag = was_curious
		
		remove_trait = curious
		
		add_trait_patient_effect = yes
	}
}

# Curious child gets hurt... or even killed...
character_event = {
	id = soh.8988
	desc = EVTDESC_SOH_8988
	picture = GFX_evt_trade_post_republic
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8985 # Ow!
		
		random_list = {
			98 = {
				add_trait_wounded_effect = yes
			}
			
			1 = {
				add_maimed_trait_effect = yes
			}
			
			1 = {
				death = {
					death_reason = death_accident
				}
			}
		}
	}
}

# Curious child improves diplomacy
character_event = {
	id = soh.8989
	desc = EVTDESC_SOH_8989
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8989 # Fascinating!
		
		change_diplomacy = 1
		
		set_character_flag = curious_port_diplomacy
	}
}

# Curious child improves martial
character_event = {
	id = soh.8990
	desc = EVTDESC_SOH_8990
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8990 # Fascinating!
		
		change_martial = 1
		
		set_character_flag = curious_port_martial
	}
}

# Curious child improves stewardship
character_event = {
	id = soh.8991
	desc = EVTDESC_SOH_8991
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8991 # Fascinating!
		
		change_stewardship = 1
		
		set_character_flag = curious_port_stewardship
	}
}

# Curious child improves intrigue
character_event = {
	id = soh.8992
	desc = EVTDESC_SOH_8992
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8992 # Fascinating!
		
		change_intrigue = 1
		
		set_character_flag = curious_port_intrigue
	}
}

# Curious child improves learning
character_event = {
	id = soh.8993
	desc = EVTDESC_SOH_8993
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8993 # Fascinating!
		
		change_learning = 1
		
		set_character_flag = curious_port_learning
	}
}

### Idolizer events

# Idolizer turns into Erudite
character_event = {
	id = soh.8994
	desc = EVTDESC_SOH_8994
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8994 # This is right for me!
		
		set_character_flag = was_idolizer
		
		remove_trait = idolizer
		
		add_trait_erudite_effect = yes
	}
}

# Idolizer turns into Zealous
character_event = {
	id = soh.8995
	desc = EVTDESC_SOH_8995
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8995 # This is right for me!
		
		set_character_flag = was_idolizer
		
		remove_trait = idolizer
		
		add_trait_zealous_effect = yes
	}
}

### Timid events

# Timid turns into Craven
character_event = {
	id = soh.8996
	desc = EVTDESC_SOH_8996
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8996 # This is right for me!
		
		set_character_flag = was_timid
		
		remove_trait = timid
		
		add_trait_craven_effect = yes
	}
}

# Timid turns into Shy
character_event = {
	id = soh.8997
	desc = EVTDESC_SOH_8997
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8997 # This is right for me!
		
		set_character_flag = was_timid
		
		remove_trait = timid
		
		add_trait_shy_effect = yes
	}
}

# Timid turns into Humble
character_event = {
	id = soh.8998
	desc = EVTDESC_SOH_8998
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8998 # This is right for me!
		
		set_character_flag = was_timid
		
		remove_trait = timid
		
		add_trait_humble_effect = yes
	}
}

# Timid turns into Content
character_event = {
	id = soh.8999
	desc = EVTDESC_SOH_8999
	picture = GFX_evt_china_open
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SOH_8999 # This is right for me!
		
		set_character_flag = was_timid
		
		remove_trait = timid
		
		add_trait_content_effect = yes
	}
}